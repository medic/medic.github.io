<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Community Health Toolkit – Contributing Code</title><link>https://docs.communityhealthtoolkit.org/community/contributing/code/</link><description>Recent content in Contributing Code on Community Health Toolkit</description><generator>Hugo -- gohugo.io</generator><language>en</language><atom:link href="https://docs.communityhealthtoolkit.org/community/contributing/code/index.xml" rel="self" type="application/rss+xml"/><item><title>Development Workflow</title><link>https://docs.communityhealthtoolkit.org/community/contributing/code/workflow/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.communityhealthtoolkit.org/community/contributing/code/workflow/</guid><description>
&lt;h2>Writing code&lt;span class="hx-absolute -hx-mt-20" id="writing-code">&lt;/span>
&lt;a href="#writing-code" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Where possible, follow the &lt;a href="https://docs.communityhealthtoolkit.org/community/contributing/code/style-guide/" >coding style guide&lt;/a>.&lt;/p>
&lt;p>Aim for self-documenting code. Where code cannot be made self-documenting add commenting. Usually comments are useful when they explain why some code exists, and should not be explaining what some code is doing.&lt;/p>
&lt;h3>Code Quality&lt;span class="hx-absolute -hx-mt-20" id="code-quality">&lt;/span>
&lt;a href="#code-quality" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Several &lt;a href="https://docs.communityhealthtoolkit.org/community/contributing/code/static-analysis/" >static analysis tools&lt;/a> are used to support code quality. These tools are run automatically on every pull request and will fail the build if they find any issues.&lt;/p>
&lt;p>For a more efficient feedback loop, developers should run linting scripts locally before pushing code to the repository. Additionally, both &lt;a href="https://docs.communityhealthtoolkit.org/community/contributing/code/static-analysis/#eslint" >ESLint&lt;/a> and &lt;a href="https://docs.communityhealthtoolkit.org/community/contributing/code/static-analysis/#during-development" >Sonar&lt;/a> have IDE plugins that show code issues in real-time.&lt;/p>
&lt;h2>Issues&lt;span class="hx-absolute -hx-mt-20" id="issues">&lt;/span>
&lt;a href="#issues" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Issues are managed in GitHub. Issues should be created in the repository where the changes need to be made. If it is not clear in which repo to open an issue the default should be the &lt;code>cht-core&lt;/code> repository. If it is a security or sensitive issue, reach out privately to the &lt;a href="https://github.com/orgs/medic/teams/development-team" target="_blank" rel="noopener">CHT maintainers&lt;/a> so they can open an issue in the private &lt;code>medic-projects&lt;/code> repository.&lt;/p>
&lt;p>When creating issues add the appropriate &lt;a href="https://github.com/medic/medic/labels?utf8=%E2%9C%93&amp;amp;q=Priority%3A&amp;#43;" target="_blank" rel="noopener">Priority&lt;/a> and &lt;a href="https://github.com/medic/medic/labels?utf8=%E2%9C%93&amp;amp;q=Type%3A&amp;#43;" target="_blank" rel="noopener">Type&lt;/a> labels.&lt;/p>
&lt;h3>Regressions&lt;span class="hx-absolute -hx-mt-20" id="regressions">&lt;/span>
&lt;a href="#regressions" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>When a bug is found that impacts functionality that worked in a previous version, it&amp;rsquo;s important that this is labelled properly so someone who is planning to upgrade can find it. To flag this, add the &amp;ldquo;Regression&amp;rdquo; label, and a label in the form &amp;ldquo;Affects: {{version}}&amp;rdquo; (e.g.: &amp;ldquo;Affects: 3.14.0&amp;rdquo;) for each version where this bug exists. It&amp;rsquo;s likely that the label for this specific version doesn&amp;rsquo;t exist so you may have to create it. This ensures that issue is listed as a Known Issue in the Release Notes for that version.&lt;/p>
&lt;h3>Issue Status&lt;span class="hx-absolute -hx-mt-20" id="issue-status">&lt;/span>
&lt;a href="#issue-status" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>When the issue is scheduled for development it can be added to a project. When linked to a GitHub project, the issue has a status property that represents the state the issue is in.&lt;/p>
&lt;h4>To do&lt;span class="hx-absolute -hx-mt-20" id="to-do">&lt;/span>
&lt;a href="#to-do" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>Issues in this column have been prioritised and are ready for development. The issue has all the detail needed to begin development and it is free for anyone to start work on. If you start work on an issue, assign it to yourself and move it to &amp;ldquo;In progress&amp;rdquo;.&lt;/p>
&lt;h4>In progress&lt;span class="hx-absolute -hx-mt-20" id="in-progress">&lt;/span>
&lt;a href="#in-progress" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>Issues in this column are being actively worked on, which includes development, design, documentation, code reviews, and testing.&lt;/p>
&lt;h4>Done&lt;span class="hx-absolute -hx-mt-20" id="done">&lt;/span>
&lt;a href="#done" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>Issues in this column are complete, all code has been merged into the main branch and/or release branches, and are ready for release.&lt;/p>
&lt;h2>Development&lt;span class="hx-absolute -hx-mt-20" id="development">&lt;/span>
&lt;a href="#development" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;h3>Branches&lt;span class="hx-absolute -hx-mt-20" id="branches">&lt;/span>
&lt;a href="#branches" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>The main branch is &lt;code>main&lt;/code> (or &lt;code>master&lt;/code>) which must be kept stable so as not to impact other developers and so a release branch can be created as needed. To achieve this, development should be done in a branch (only possible for maintaners) or fork and submitted via a PR for code review. This means the CI runs and another developer has signed off on the change before it is included in the &lt;code>main&lt;/code> branch.&lt;/p>
&lt;p>Create a branch following the guideline below and push &lt;a href="#commits" >commits&lt;/a> at least once a day to a remote repository. This ensures that the code is always backed up and safe, protects against accidental deletes, and allows community members to see the latest changes and work together more effectively.&lt;/p>
&lt;ul>
&lt;li>The main branch is &lt;code>main&lt;/code> or &lt;code>master&lt;/code> and is the GitHub default branch and contains the latest code.&lt;/li>
&lt;li>Release branches have the form &lt;code>&amp;lt;major&amp;gt;.&amp;lt;minor&amp;gt;.x&lt;/code> and should be stable.&lt;/li>
&lt;li>Feature branches have the form &lt;code>&amp;lt;issue-number&amp;gt;-&amp;lt;issue-description&amp;gt;&lt;/code> and are work in progress.&lt;/li>
&lt;/ul>
&lt;div class="hx-overflow-x-auto hx-mt-6 hx-flex hx-flex-col hx-rounded-lg hx-border hx-py-4 hx-px-4 contrast-more:hx-border-current contrast-more:dark:hx-border-current hx-border-blue-200 hx-bg-blue-100 hx-text-blue-900 dark:hx-border-blue-200/30 dark:hx-bg-blue-900/30 dark:hx-text-blue-200">
&lt;p class="hx-flex hx-items-center hx-font-medium">&lt;svg height=16px class="hx-inline-block hx-align-middle hx-mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>&lt;/svg>Note&lt;/p>
&lt;div class="hx-w-full hx-min-w-0 hx-leading-7">
&lt;div class="hx-mt-6 hx-leading-7 first:hx-mt-0">&lt;p>When backporting changes to an earlier release branch you should &lt;code>git cherry-pick&lt;/code> the appropriate commit(s) from the main branch into the release branch. Then use a pull request to make sure tests pass on CI before merging (you do not need to get the pull request approved if there were no conflicts when cherry-picking).&lt;/p>&lt;/div>
&lt;/div>
&lt;/div>
&lt;h3>Commits&lt;span class="hx-absolute -hx-mt-20" id="commits">&lt;/span>
&lt;a href="#commits" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;h4>Commit message format&lt;span class="hx-absolute -hx-mt-20" id="commit-message-format">&lt;/span>
&lt;a href="#commit-message-format" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>The commit format should follow the &lt;a href="https://github.com/conventional-changelog/conventional-changelog/tree/master/packages/conventional-changelog-angular" target="_blank" rel="noopener">conventional-changelog angular preset&lt;/a>. This means that some of the release process can be automated. See the list of commit types and examples below:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Type&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Example commit message&lt;/th>
&lt;th>Release type&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Bug fixes&lt;/td>
&lt;td>Change code that wasn&amp;rsquo;t working as intended.&lt;/td>
&lt;td>fix(#123): infinite spinner when clicking contacts tab twice&lt;/td>
&lt;td>patch&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Performance&lt;/td>
&lt;td>A code change that improves performance. Measure the performance improvement to inform the community.&lt;/td>
&lt;td>perf(#789): lazily loaded angular modules&lt;/td>
&lt;td>patch&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Features&lt;/td>
&lt;td>A new feature or improvement that users will notice.&lt;/td>
&lt;td>feat(#456): add home tab&lt;/td>
&lt;td>minor&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Non-code&lt;/td>
&lt;td>A change that user won&amp;rsquo;t notice, like a change in a README file, adding e2e tests, updating dependencies, removing unused code, etc.&lt;/td>
&lt;td>chore(#123): update README&lt;/td>
&lt;td>none&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;div class="hx-overflow-x-auto hx-mt-6 hx-flex hx-flex-col hx-rounded-lg hx-border hx-py-4 hx-px-4 contrast-more:hx-border-current contrast-more:dark:hx-border-current hx-border-blue-200 hx-bg-blue-100 hx-text-blue-900 dark:hx-border-blue-200/30 dark:hx-bg-blue-900/30 dark:hx-text-blue-200">
&lt;p class="hx-flex hx-items-center hx-font-medium">&lt;svg height=16px class="hx-inline-block hx-align-middle hx-mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>&lt;/svg>Note&lt;/p>
&lt;div class="hx-w-full hx-min-w-0 hx-leading-7">
&lt;div class="hx-mt-6 hx-leading-7 first:hx-mt-0">&lt;p>Breaking changes should be explained under the commit type (feat, fix and perf) using the prefix &lt;code>BREAKING CHANGE&lt;/code>.
onsider the following example:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code> perf(#2): remove reporting rates feature
BREAKING CHANGE: reporting rates no longer supported&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Any other further information should be provided in the second line of the commit message, respecting 79 character line widths. Using &lt;code>git commit -v&lt;/code> is recommended to review your diff while you write your commit message.&lt;/p>&lt;/div>
&lt;/div>
&lt;/div>
&lt;p>See tips on &lt;a href="https://chris.beams.io/posts/git-commit/" target="_blank" rel="noopener">How to Write a Git Commit Message&lt;/a> and add your favorites here.&lt;/p>
&lt;p>Never force push remote. Prefer rebasing over merging as it makes for a cleaner history.&lt;/p>
&lt;p>Commit reformats and refactors separately from actual code changes to make reviewing easier.&lt;/p>
&lt;p>Read more about &lt;a href="https://git-scm.com/doc/ext" target="_blank" rel="noopener">using git&lt;/a>.&lt;/p>
&lt;h3>Pull Requests&lt;span class="hx-absolute -hx-mt-20" id="pull-requests">&lt;/span>
&lt;a href="#pull-requests" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Never push commits directly to the main branch (&lt;code>main&lt;/code> or &lt;code>master&lt;/code>). Always use a pull request.&lt;/p>
&lt;ul>
&lt;li>If your code is in a regular pull request, it is assumed to be done and only needing a review and testing as checks before merging. It is best to request a reviewer, but otherwise anyone may freely review your PR.&lt;/li>
&lt;li>If your code is in a draft PR, it is assumed to be a work-in-progress where collaboration is welcome, but best to communicate about specifics before assuming anything is complete.&lt;/li>
&lt;li>If you have pushed code to a remote branch without a pull request, it is assumed to be a work-in-progress where collaboration is unexpected.&lt;/li>
&lt;/ul>
&lt;p>A good workflow would be to work locally, pushing to a remote branch as you make progress, possibly open a draft PR for some initial collaboration on tricky parts, and once everything is done, convert the draft PR to a regular PR to be reviewed.&lt;/p>
&lt;p>Once your pull request has been approved, it can be merged to the main branch by anyone with write access to the repository.&lt;/p>
&lt;p>When merging a PR, avoid the &amp;ldquo;Create a merge commit&amp;rdquo; option. Merge commits in the main branch cause the history of the branch to be non-linear and make it more difficult to understand exactly when a code change was introduced. Instead, use the &amp;ldquo;Squash and merge&amp;rdquo; option to combine the commits in the PR into a single commit on the main branch. Alternatively, you can use the &amp;ldquo;Rebase and merge&amp;rdquo; option if you want &lt;em>all&lt;/em> the commits in the PR to be preserved in the main branch (this should only be used in special cases).&lt;/p>
&lt;p>See above for instructions on &lt;a href="#commit-message-format" >how to format your commit messages&lt;/a>.&lt;/p>
&lt;h4>Opening Pull Requests&lt;span class="hx-absolute -hx-mt-20" id="opening-pull-requests">&lt;/span>
&lt;a href="#opening-pull-requests" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>Create a Draft Pull Request to facilitate discussion and collaboration with quality assistance engineers and developers.&lt;/p>
&lt;p>Once you are confident that the change is complete and ready to be merged:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>Change the Pull Request from &lt;code>Draft&lt;/code> to &lt;code>Ready for review&lt;/code>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>The Pull Request title will be the commit message, it is important to follow the &lt;a href="#commit-message-format" >commit message format&lt;/a> to name the Pull Request title properly.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Add a Pull Request description:&lt;/p>
&lt;ul>
&lt;li>Add a description of changes, decisions, backstory, thinking process, and any extra information to facilitate the review process and reduce follow-ups.&lt;/li>
&lt;li>Add videos or screenshots of the tests you did before submitting the Pull Request. This increases understanding of the work and allows the reviewers to catch any uncovered case.&lt;/li>
&lt;li>Add the issue number, for example: &lt;code>medic/cht-core#123&lt;/code>.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Do a self-code review before asking for a review. This is a good practice, as you will almost always find things to fix. It saves a lot of time for you and the reviewers.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Pick one reviewer for the PR and work with them until the code passes review. It is okay to include one additional reviewer who has more experience in a particular subject.&lt;/p>
&lt;ul>
&lt;li>Coordinate with a QA engineer and add them as reviewers when you need specific quality/testing support. For example, when major changes or new features are introduced to the codebase, security-related changes are made, and substantial user experience improvements are required. The QA engineer can advise whether that needs to be considered in the current e2e suite, they can advise on edge cases or other scenarios to consider for testing.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Follow up on your PR to keep momentum; the review should happen in 24h business days. If you haven&amp;rsquo;t received feedback from the reviewers after that time, check if they are available. Otherwise, it&amp;rsquo;s okay to request a review from another person.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Once the PR has been approved, wait for the GitHub Actions to succeed and ensure there are no conflicts with the main branch.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Double-check the &lt;a href="#commit-message-format" >commit message format&lt;/a> is correct. Make sure to recognize collaboration in the commit description: &lt;code>Co-authored-by: &amp;lt;GitHub user&amp;gt;&lt;/code>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Merge your work by selecting &lt;code>Squash and merge&lt;/code>. This will compress all the commits into one, keeping the repository&amp;rsquo;s commit history clean.&lt;/p>
&lt;ul>
&lt;li>If a backport is required, cherry-pick the merged commit back to the release branches it is required in.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h3>Code reviews&lt;span class="hx-absolute -hx-mt-20" id="code-reviews">&lt;/span>
&lt;a href="#code-reviews" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;h4>Guidelines&lt;span class="hx-absolute -hx-mt-20" id="guidelines">&lt;/span>
&lt;a href="#guidelines" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>The author and reviewer should use &lt;a href="https://google.github.io/eng-practices/review/developer/" target="_blank" rel="noopener">this guide to code reviewing&lt;/a>.&lt;/p>
&lt;h5>Labeling review comments&lt;span class="hx-absolute -hx-mt-20" id="labeling-review-comments">&lt;/span>
&lt;a href="#labeling-review-comments" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h5>&lt;p>The reviewer should prefix labels in the review comments wherever possible which clarify the intention of the comment and remove any misunderstanding that might happen. This helps prioritizing the comments that the author need to address.&lt;/p>
&lt;p>The following labels taken from &lt;a href="https://conventionalcomments.org/" target="_blank" rel="noopener">conventional: comments&lt;/a>:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>praise&lt;/strong> - Praises highlight something positive. Try to leave at least one of these comments per review. Do not leave false praise (which can actually be damaging). Do look for something to sincerely praise.&lt;/li>
&lt;li>&lt;strong>nitpick&lt;/strong> - Nitpicks are trivial preference-based requests. These should be non-blocking by nature.&lt;/li>
&lt;li>&lt;strong>suggestion&lt;/strong> - Suggestions propose improvements to the current subject. It’s important to be explicit and clear on what is being suggested and why it is an improvement. Consider using patches and the blocking or non-blocking &lt;a href="https://conventionalcomments.org/#decorations" target="_blank" rel="noopener">decorations&lt;/a> to further communicate your intent.&lt;/li>
&lt;li>&lt;strong>issue&lt;/strong> - Issues highlight specific problems with the subject under review. These problems can be user-facing or behind the scenes. It is strongly recommended to pair this comment with a suggestion. If you are not sure if a problem exists or not, consider leaving a question.&lt;/li>
&lt;li>&lt;strong>todo&lt;/strong> - TODO’s are small, trivial, but necessary changes. Distinguishing todo comments from issues: or suggestions: helps direct the reader’s attention to comments requiring more involvement.&lt;/li>
&lt;li>&lt;strong>question&lt;/strong> - Questions are appropriate if you have a potential concern but are not quite sure if it’s relevant or not. Asking the author for clarification or investigation can lead to a quick resolution.&lt;/li>
&lt;li>&lt;strong>thought&lt;/strong> - Thoughts represent an idea that popped up from reviewing. These comments are non-blocking by nature, but they are extremely valuable and can lead to more focused initiatives and mentoring opportunities.&lt;/li>
&lt;li>&lt;strong>chore&lt;/strong> - Chores are simple tasks that must be done before the subject can be “officially” accepted. Usually, these comments reference some common process. Try to leave a link to the process description so that the reader knows how to resolve the chore.&lt;/li>
&lt;li>&lt;strong>note&lt;/strong> - Notes are always non-blocking and simply highlight something the reader should take note of.&lt;/li>
&lt;/ul>
&lt;p>Sample comments:&lt;/p>
&lt;figure>&lt;a href="issue-comment.png">&lt;img src="https://docs.communityhealthtoolkit.org/community/contributing/code/workflow/issue-comment.png"
alt="Issue comment">&lt;/a>&lt;figcaption>
&lt;p>Issue comment&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;figure>&lt;a href="suggestion-comment.png">&lt;img src="https://docs.communityhealthtoolkit.org/community/contributing/code/workflow/suggestion-comment.png"
alt="Suggestion comment">&lt;/a>&lt;figcaption>
&lt;p>Suggestion comment&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;h4>Suggestions&lt;span class="hx-absolute -hx-mt-20" id="suggestions">&lt;/span>
&lt;a href="#suggestions" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>When doing a code review aim to be extremely clear. This helps things move quickly and avoids lost time in misunderstandings. One especially useful GitHub feature for doing this is suggesting a change. Consider the following example code:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">contacts&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">map&lt;/span>&lt;span class="p">(&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">c&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="nx">c&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span> &lt;span class="p">});&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>The function body can be abbreviated. In a review you can leave a comment asking for the change, which would likely involve writing up a comment trying to have the author change it to the following:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">contacts&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">map&lt;/span>&lt;span class="p">(&lt;/span> &lt;span class="nx">c&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">c&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">);&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>That means leaving a comment, having the author read and understand it, and then making and pushing up a change, hopefully matching your review expectations.&lt;/p>
&lt;p>To be clear and save all that back-and-forth though, you can make a code suggestion directly in your review, which will let the author simply click a button to accept the change (and have it automatically applied as a commit by GitHub).&lt;/p>
&lt;figure>&lt;a href="gh-review-suggestion.png">&lt;img src="https://docs.communityhealthtoolkit.org/community/contributing/code/workflow/gh-review-suggestion.png"
alt="GitHub review suggest change">&lt;/a>&lt;figcaption>
&lt;p>GitHub review suggest change&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;h4>Timeliness&lt;span class="hx-absolute -hx-mt-20" id="timeliness">&lt;/span>
&lt;a href="#timeliness" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>Timely code reviews are important to getting improvements into the hands of users faster and allowing developers to stay focused on the task at hand and see it through to production.&lt;/p>
&lt;p>Code reviews should be completed within 24 hours of assignment (excluding weekends and holidays). In some cases, a code review may not be possible if a larger discussion needs to be had for design choices or solution objectives, but even in cases like those, some feedback is still to be expected within 24 hours.&lt;/p>
&lt;h3>Testing&lt;span class="hx-absolute -hx-mt-20" id="testing">&lt;/span>
&lt;a href="#testing" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Reach out to the Quality Assurance Engineers with the work to be done as early as possible in the development process to ensure they are informed and can guide development (see more in the &lt;a href="https://docs.communityhealthtoolkit.org/community/contributing/code/quality-assistance/" >Quality Assistance&lt;/a> dedicated page).&lt;/p>
&lt;p>Before asking for testing support from the QA Engineers, you should test your work after performing it. Correcting a small code error, such as a typo, or adding a missing step in the testing instructions could save QA Engineers hours of work. Also, by testing your code, you may get a better sense of why you make certain common mistakes, and learn to avoid repeating them in the future.&lt;/p>
&lt;p>All features and bug fixes must have at least one unit test. All features must have at least one end-to-end test.&lt;/p>
&lt;p>The CHT Core has a &lt;a href="https://github.com/medic/cht-core/tree/master/tests/e2e" target="_blank" rel="noopener">fully automated end-to-end testing suite&lt;/a> which is executed in CI and must pass before any change is merged. This means you can have reasonable confidence that all code merged to the main branch is safe and ready for release without further regression testing. The suite isn&amp;rsquo;t fully comprehensive but it is being constantly improved and expanded.&lt;/p>
&lt;p>From time to time QA Engineers will perform smoke tests, scalability tests, performance tests, and penetration tests to pick up on gradual regressions that may have crept in. The ultimate goal is that these tests will eventually be automated and added to the CI suite as well.&lt;/p>
&lt;p>Use the following template for QA feedback throughout the development.&lt;/p>
&lt;div class="hextra-scrollbar hx-overflow-x-auto hx-overflow-y-hidden hx-overscroll-x-contain">
&lt;div class="hx-mt-4 hx-flex hx-w-max hx-min-w-full hx-border-b hx-border-gray-200 hx-pb-px dark:hx-border-neutral-800">&lt;button
class="hextra-tabs-toggle data-[state=selected]:hx-border-primary-500 data-[state=selected]:hx-text-primary-600 data-[state=selected]:dark:hx-border-primary-500 data-[state=selected]:dark:hx-text-primary-600 hx-mr-2 hx-rounded-t hx-p-2 hx-font-medium hx-leading-5 hx-transition-colors -hx-mb-0.5 hx-select-none hx-border-b-2 hx-border-transparent hx-text-gray-600 hover:hx-border-gray-200 hover:hx-text-black dark:hx-text-gray-200 dark:hover:hx-border-neutral-800 dark:hover:hx-text-white"
role="tab"
type="button"
aria-controls="tabs-panel-0" aria-selected="true" tabindex="0" data-state="selected">Test passed&lt;/button>&lt;button
class="hextra-tabs-toggle data-[state=selected]:hx-border-primary-500 data-[state=selected]:hx-text-primary-600 data-[state=selected]:dark:hx-border-primary-500 data-[state=selected]:dark:hx-text-primary-600 hx-mr-2 hx-rounded-t hx-p-2 hx-font-medium hx-leading-5 hx-transition-colors -hx-mb-0.5 hx-select-none hx-border-b-2 hx-border-transparent hx-text-gray-600 hover:hx-border-gray-200 hover:hx-text-black dark:hx-text-gray-200 dark:hover:hx-border-neutral-800 dark:hover:hx-text-white"
role="tab"
type="button"
aria-controls="tabs-panel-1">Test failed&lt;/button>&lt;/div>
&lt;/div>
&lt;div>
&lt;div
class="hextra-tabs-panel hx-rounded hx-pt-6 hx-hidden data-[state=selected]:hx-block"
id="tabs-panel-0"
role="tabpanel" tabindex="0" data-state="selected" >&lt;h3>Test details&lt;span class="hx-absolute -hx-mt-20" id="test-details">&lt;/span>
&lt;a href="#test-details" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;strong>Config:&lt;/strong> &amp;lt;Default/standard&amp;gt;
&lt;strong>Environment:&lt;/strong> &lt;Local>
&lt;strong>Platform:&lt;/strong> &lt;WebApp>
&lt;strong>Browser:&lt;/strong> &lt;Chrome>&lt;/p>
&lt;hr>
&lt;h3>Test scenario:&lt;span class="hx-absolute -hx-mt-20" id="test-scenario">&lt;/span>
&lt;a href="#test-scenario" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Description of the scenario - This is not required for all the tests&lt;/p>
&lt;h3>Reproducible on &lt;code>master&lt;/code>&lt;span class="hx-absolute -hx-mt-20" id="reproducible-on-master">&lt;/span>
&lt;a href="#reproducible-on-master" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A small description of how it was reproduced, and images or videos that support the comment.&lt;/p>
&lt;details>
&lt;summary>Image/video attached&lt;/summary>
&lt;/details>
&lt;h3>Fixed on &lt;code>####-branch-name&lt;/code>&lt;span class="hx-absolute -hx-mt-20" id="fixed-on--branch-name">&lt;/span>
&lt;a href="#fixed-on--branch-name" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A small description, and images or videos that support the comment.&lt;/p>
&lt;details>
&lt;summary>Image/video attached&lt;/summary>
&lt;/details>
&lt;hr>
&lt;p>Test passed successfully. &amp;#x2705;
The ticket is ready to merge.
@&amp;lt;developer&amp;rsquo;s name&amp;gt;&lt;/p>
&lt;/div>
&lt;div
class="hextra-tabs-panel hx-rounded hx-pt-6 hx-hidden data-[state=selected]:hx-block"
id="tabs-panel-1"
role="tabpanel">&lt;h3>Test details&lt;span class="hx-absolute -hx-mt-20" id="test-details">&lt;/span>
&lt;a href="#test-details" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;strong>Config:&lt;/strong> &amp;lt;Default/standard&amp;gt;
&lt;strong>Environment:&lt;/strong> &lt;Local>
&lt;strong>Platform:&lt;/strong> &lt;WebApp>
&lt;strong>Browser:&lt;/strong> &lt;Chrome>&lt;/p>
&lt;hr>
&lt;h3>Test scenario:&lt;span class="hx-absolute -hx-mt-20" id="test-scenario">&lt;/span>
&lt;a href="#test-scenario" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Description of the scenario - This is not required for all the tests&lt;/p>
&lt;h3>Reproducible on &lt;code>master&lt;/code>&lt;span class="hx-absolute -hx-mt-20" id="reproducible-on-master">&lt;/span>
&lt;a href="#reproducible-on-master" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A small description of how it was reproduced, and images or videos that support the comment.&lt;/p>
&lt;details>
&lt;summary>Image/video attached&lt;/summary>
&lt;/details>
&lt;h3>Not working on &lt;code>####-branch-name&lt;/code>&lt;span class="hx-absolute -hx-mt-20" id="not-working-on--branch-name">&lt;/span>
&lt;a href="#not-working-on--branch-name" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A small description, and images or videos that support the comment.&lt;/p>
&lt;details>
&lt;summary>Image/video attached&lt;/summary>
&lt;/details>
&lt;hr>
&lt;p>Test failed &amp;#x274c;
The ticket needs further development.
@&amp;lt;developer&amp;rsquo;s name&amp;gt;&lt;/p>
&lt;/div>
&lt;/div>
&lt;h3>Migrating&lt;span class="hx-absolute -hx-mt-20" id="migrating">&lt;/span>
&lt;a href="#migrating" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>When the schema is changed you must also provide a migration so when instances are upgraded existing data is compatible with the new code.&lt;/p>
&lt;h3>Updating The Issue With What You Actually Did&lt;span class="hx-absolute -hx-mt-20" id="updating-the-issue-with-what-you-actually-did">&lt;/span>
&lt;a href="#updating-the-issue-with-what-you-actually-did" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Add &lt;a href="https://github.com/medic/cht-core/labels" target="_blank" rel="noopener">labels&lt;/a> to the GitHub issue as needed. At this stage, the two to look out for are:&lt;/p>
&lt;ul>
&lt;li>&lt;code>Breaking change&lt;/code>&lt;/li>
&lt;li>&lt;code>UI/UX&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>Add a comment to the GitHub issue with what the final change actually was. This is important for multiple cases including:&lt;/p>
&lt;ul>
&lt;li>Non-technical people may not understand the conversation thread on the issue. GitHub is a place that developers work, but it is also common to send non-technical people links to issues in GitHub.&lt;/li>
&lt;li>The QA team should have a quick way to know where to start testing.&lt;/li>
&lt;li>Issues with a lot of discussion of alternative solutions need a clear resolution and indication of which route was taken.&lt;/li>
&lt;/ul>
&lt;p>Options for doing this:&lt;/p>
&lt;ul>
&lt;li>Attach a short video - these are usually very well received and can often help people understand what happened much more clearly than a text description.&lt;/li>
&lt;li>Screenshots - pictures with big arrows on them can quickly convey important things to look at. If you start to need multiple screenshots consider the video option instead.&lt;/li>
&lt;li>Write up a few sentences - be sure to consider a non-technical audience when writing this.&lt;/li>
&lt;/ul>
&lt;p>An example of a good thorough comment/template is as follows:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-markdown" data-lang="markdown">&lt;span class="line">&lt;span class="cl">&lt;span class="gu">### Testing
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gu">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">1.&lt;/span> Install branch &lt;span class="sb">`81-do-great-things`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">2.&lt;/span> [a specific thing to be sure it has been set up correctly]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">3.&lt;/span> ...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gu">### What was actually built
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gu">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[video|screenshots|text]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gu">### Documentation
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gu">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- [&lt;span class="nt">link&lt;/span>](&lt;span class="na">url&lt;/span>)&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>Closing an Issue&lt;span class="hx-absolute -hx-mt-20" id="closing-an-issue">&lt;/span>
&lt;a href="#closing-an-issue" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>An issue is considered complete when:&lt;/p>
&lt;ul>
&lt;li>The documentation is finalized.
&lt;ul>
&lt;li>It includes merged updates in CHT Docs, updated README files, and necessary code comments.&lt;/li>
&lt;li>This is especially important as the CHT community can always access up-to-date documentation.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Unit tests, e2e tests and/or integration tests are written.&lt;/li>
&lt;li>The static checks like linting and Sonar should pass successfully as part of the quality process, and any issues should be fixed.&lt;/li>
&lt;li>The reviewers have approved the Pull Request.&lt;/li>
&lt;li>All code has been merged into the main branch and/or release branches and are ready for release.&lt;/li>
&lt;li>The issue is added to the appropriate release milestone, which is the earliest semver version the change will be released in. This ensures it will be included in the release notes.&lt;/li>
&lt;li>Lastly, the issue status is updated to &lt;code>Done&lt;/code>.&lt;/li>
&lt;/ul></description></item><item><title>Coding Style Guide</title><link>https://docs.communityhealthtoolkit.org/community/contributing/code/style-guide/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.communityhealthtoolkit.org/community/contributing/code/style-guide/</guid><description>
&lt;h2>Language&lt;span class="hx-absolute -hx-mt-20" id="language">&lt;/span>
&lt;a href="#language" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Prefer &lt;strong>TypeScript&lt;/strong> and &lt;strong>JavaScript&lt;/strong> when writing CHT code.&lt;/p>
&lt;p>Exceptions to this can be made on a case-by-case basis, but the decision must be made collectively before coding has begun to avoid having to rewrite.&lt;/p>
&lt;h3>Web applications&lt;span class="hx-absolute -hx-mt-20" id="web-applications">&lt;/span>
&lt;a href="#web-applications" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Use TypeScript. This is preferred because it has all the benefits of JavaScript while adding better developer tooling and compile time checks which can detect bugs earlier. It is not essential to use types for every variable, but it&amp;rsquo;s highly recommended for exported interfaces to help future developers who don&amp;rsquo;t know the internal workings of a module. There currently exists a mix of JavaScript and TypeScript in the codebase as it is gradually being migrated to use more TypeScript.&lt;/p>
&lt;h3>Server side&lt;span class="hx-absolute -hx-mt-20" id="server-side">&lt;/span>
&lt;a href="#server-side" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Use JavaScript. One of the major advantages of using pure JavaScript on the server side is because you don&amp;rsquo;t have a compile step there is a shorter lag between development and execution of the code. Furthermore when running compiled code in production it is more difficult to debug issues because the error stacktrace is obfuscated. For these reasons JavaScript is still preferred for server side code, and in scripts. In future it may be possible to run TypeScript natively without compilation, at which point this position will be revisited.&lt;/p>
&lt;h3>Scripting&lt;span class="hx-absolute -hx-mt-20" id="scripting">&lt;/span>
&lt;a href="#scripting" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Use JavaScript. It&amp;rsquo;s well known in the community, it&amp;rsquo;s easy to write cross-platform code, the npm repository is extensive, and it&amp;rsquo;s easy to unit test.&lt;/p>
&lt;h2>Styles&lt;span class="hx-absolute -hx-mt-20" id="styles">&lt;/span>
&lt;a href="#styles" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>This is a guide, not a law - use your discretion. Mostly based on &lt;a href="https://github.com/felixge/node-style-guide" target="_blank" rel="noopener">Felix Geisendörfer&amp;rsquo;s&lt;/a> guide with our own tweaks.&lt;/p>
&lt;h3>Indention&lt;span class="hx-absolute -hx-mt-20" id="indention">&lt;/span>
&lt;a href="#indention" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Use 2 spaces for indenting your code and swear an oath to never mix tabs and
spaces - a special kind of hell is awaiting you otherwise.&lt;/p>
&lt;h3>Newlines&lt;span class="hx-absolute -hx-mt-20" id="newlines">&lt;/span>
&lt;a href="#newlines" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Use UNIX-style newlines (&lt;code>\n&lt;/code>), and a newline character as the last character
of a file. Windows-style newlines (&lt;code>\r\n&lt;/code>) are forbidden inside any repository.&lt;/p>
&lt;h3>No trailing whitespace&lt;span class="hx-absolute -hx-mt-20" id="no-trailing-whitespace">&lt;/span>
&lt;a href="#no-trailing-whitespace" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Just like you brush your teeth after every meal, you clean up any trailing
whitespace in your JS files before committing. Otherwise the rotten smell of
careless neglect will eventually drive away contributors and/or co-workers.&lt;/p>
&lt;h3>Use Semicolons&lt;span class="hx-absolute -hx-mt-20" id="use-semicolons">&lt;/span>
&lt;a href="#use-semicolons" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>According to &lt;a href="http://news.ycombinator.com/item?id=1547647" target="_blank" rel="noopener">scientific research&lt;/a>, the usage of semicolons is
a core value of our community. Consider the points of &lt;a href="https://blog.izs.me/post/2353458699/an-open-letter-to-javascript-leaders-regarding" target="_blank" rel="noopener">the opposition&lt;/a>, but
be a traditionalist when it comes to abusing error correction mechanisms for
cheap syntactic pleasures.&lt;/p>
&lt;h3>Use single quotes&lt;span class="hx-absolute -hx-mt-20" id="use-single-quotes">&lt;/span>
&lt;a href="#use-single-quotes" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Use single quotes, unless you are writing JSON.&lt;/p>
&lt;p>&lt;em>Right:&lt;/em>&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">foo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;bar&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>&lt;em>Wrong:&lt;/em>&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">foo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;bar&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>Opening braces go on the same line&lt;span class="hx-absolute -hx-mt-20" id="opening-braces-go-on-the-same-line">&lt;/span>
&lt;a href="#opening-braces-go-on-the-same-line" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Your opening braces go on the same line as the statement, with whitespace before and after the condition, followed by a new line.&lt;/p>
&lt;p>&lt;em>Right:&lt;/em>&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;winning&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>&lt;em>Wrong:&lt;/em>&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;losing&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;losing&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;winning&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>Method chaining&lt;span class="hx-absolute -hx-mt-20" id="method-chaining">&lt;/span>
&lt;a href="#method-chaining" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>One method per line should be used if you want to chain methods.&lt;/p>
&lt;p>You should also indent these methods so it&amp;rsquo;s easier to tell they are part of the same chain.&lt;/p>
&lt;p>&lt;em>Right:&lt;/em>&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">User&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">findOne&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;foo&amp;#39;&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">populate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;bar&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">exec&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">);&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>&lt;em>Wrong:&lt;/em>&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">User&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nx">findOne&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;foo&amp;#39;&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nx">populate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;bar&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nx">exec&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">User&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">findOne&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;foo&amp;#39;&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">populate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;bar&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">exec&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">User&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">findOne&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;foo&amp;#39;&lt;/span> &lt;span class="p">}).&lt;/span>&lt;span class="nx">populate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;bar&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nx">exec&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">User&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">findOne&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;foo&amp;#39;&lt;/span> &lt;span class="p">}).&lt;/span>&lt;span class="nx">populate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;bar&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">exec&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">);&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>Use lowerCamelCase for variables, properties, and function names&lt;span class="hx-absolute -hx-mt-20" id="use-lowercamelcase-for-variables-properties-and-function-names">&lt;/span>
&lt;a href="#use-lowercamelcase-for-variables-properties-and-function-names" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Variables, properties and function names should use &lt;code>lowerCamelCase&lt;/code>. They
should also be descriptive. Single character variables and uncommon
abbreviations should generally be avoided.&lt;/p>
&lt;p>&lt;em>Right:&lt;/em>&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">adminUser&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">db&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">query&lt;/span>&lt;span class="p">();&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>&lt;em>Wrong:&lt;/em>&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">admin_user&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">db&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">query&lt;/span>&lt;span class="p">();&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>Use UpperCamelCase for class names&lt;span class="hx-absolute -hx-mt-20" id="use-uppercamelcase-for-class-names">&lt;/span>
&lt;a href="#use-uppercamelcase-for-class-names" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Class names should be capitalized using &lt;code>UpperCamelCase&lt;/code>.&lt;/p>
&lt;p>&lt;em>Right:&lt;/em>&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">BankAccount&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>&lt;em>Wrong:&lt;/em>&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">bank_Account&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>Use snake_case for CouchDB document property names&lt;span class="hx-absolute -hx-mt-20" id="use-snake_case-for-couchdb-document-property-names">&lt;/span>
&lt;a href="#use-snake_case-for-couchdb-document-property-names" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>All property names in CouchDB documents use lowercase underscore-separated formatting.&lt;/p>
&lt;p>&lt;em>Right:&lt;/em>&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;word&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;values can have spaces and CAPS&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;multiple_words&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>&lt;em>Wrong:&lt;/em>&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;UPPER_CASE_NAME&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;lowercasename&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;camelCaseName&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;kebab-case-name&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;Title_case_name&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;sTuDlYcAsEnAmE&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>Use &lt;code>const&lt;/code> and &lt;code>let&lt;/code>&lt;span class="hx-absolute -hx-mt-20" id="use-const-and-let">&lt;/span>
&lt;a href="#use-const-and-let" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>There is no longer a good reason to use &lt;code>var&lt;/code>. Use &lt;code>const&lt;/code> whenever you can,
and &lt;code>let&lt;/code> when you must. Hardcoded constants should be named in all UPPERCASE.&lt;/p>
&lt;p>&lt;em>Right:&lt;/em>&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">DELAY&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">10&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">output&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">input&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">temp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">50&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">unknown&lt;/span>&lt;span class="p">;&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>&lt;em>Wrong:&lt;/em>&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">DELAY&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">10&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">;&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>Use arrow functions&lt;span class="hx-absolute -hx-mt-20" id="use-arrow-functions">&lt;/span>
&lt;a href="#use-arrow-functions" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Use arrow functions as much as possible for cleaner code and better scoping. Omit the
return keyword when the entire function definition fits on one line. Omit the parens
when taking a single parameter.&lt;/p>
&lt;p>There are exceptions to this rule including when you want to access &lt;code>arguments&lt;/code> or
&lt;code>this&lt;/code>, or when you want to be able to debug browserified code.&lt;/p>
&lt;p>&lt;em>Right:&lt;/em>&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">append&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">result&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="nx">a&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">combine&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">getResult&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">result&lt;/span>&lt;span class="p">;&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>&lt;em>Wrong:&lt;/em>&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">append&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">result&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="nx">a&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">combine&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">getResult&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">result&lt;/span>&lt;span class="p">;&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>Implicit Returns&lt;span class="hx-absolute -hx-mt-20" id="implicit-returns">&lt;/span>
&lt;a href="#implicit-returns" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>As &lt;a href="#use-arrow-functions" >noted above&lt;/a>, implicit returns should be used for one-line arrow functions. However, for the sake of readability, they should not be used when returning a multi-line value.&lt;/p>
&lt;p>&lt;em>Right:&lt;/em>&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">oneLineString&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="s1">&amp;#39;World&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">oneLineObject&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">({&lt;/span> &lt;span class="nx">hello&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;World&amp;#39;&lt;/span> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Not using implicit return for multi-line value
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">multiLineObject&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">hello&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;World&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">foo&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;bar&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>&lt;em>Wrong:&lt;/em>&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">multiLineString&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="s1">&amp;#39;This is a really long string that is &amp;#39;&lt;/span> &lt;span class="o">+&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;on multiple lines&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">differentLineString&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;This is a string that does not fit on the same line as the arrow&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">multiLineObject&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">hello&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;World&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">foo&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;bar&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>Object / Array creation&lt;span class="hx-absolute -hx-mt-20" id="object--array-creation">&lt;/span>
&lt;a href="#object--array-creation" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Put short declarations on a single line. For long declarations put a line
break after each comma.&lt;/p>
&lt;p>&lt;em>Right:&lt;/em>&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;hello&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;world&amp;#39;&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">b&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">good&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;code&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;is generally&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;pretty&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>&lt;em>Wrong:&lt;/em>&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;hello&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;world&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">b&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="s2">&amp;#34;good&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;code&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">,&lt;/span> &lt;span class="nx">is&lt;/span> &lt;span class="nx">generally&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;pretty&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">c&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;one&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;two&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;three&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;four&amp;#39;&lt;/span>&lt;span class="p">];&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>Use the === operator&lt;span class="hx-absolute -hx-mt-20" id="use-the--operator">&lt;/span>
&lt;a href="#use-the--operator" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Programming is not about remembering &lt;a href="https://developer.mozilla.org/en/JavaScript/Reference/Operators/Comparison_Operators" target="_blank" rel="noopener">stupid rules&lt;/a>. Use
the triple equality operator as it will work just as expected.&lt;/p>
&lt;p>&lt;em>Right:&lt;/em>&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span> &lt;span class="o">!==&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;winning&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>&lt;em>Wrong:&lt;/em>&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;losing&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>Do not extend built-in prototypes&lt;span class="hx-absolute -hx-mt-20" id="do-not-extend-built-in-prototypes">&lt;/span>
&lt;a href="#do-not-extend-built-in-prototypes" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Do not extend the prototype of native JavaScript objects. Your future self will be forever grateful.&lt;/p>
&lt;p>&lt;em>Right:&lt;/em>&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;winning&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>&lt;em>Wrong:&lt;/em>&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">Array&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">prototype&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">empty&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kd">function&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="o">!&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">empty&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;losing&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>Use descriptive conditions&lt;span class="hx-absolute -hx-mt-20" id="use-descriptive-conditions">&lt;/span>
&lt;a href="#use-descriptive-conditions" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Any non-trivial conditions should be assigned to a descriptively named variable or function:&lt;/p>
&lt;p>&lt;em>Right:&lt;/em>&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">isValidPassword&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">password&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span> &lt;span class="o">&amp;gt;=&lt;/span> &lt;span class="mi">4&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="sr">/^(?=.*\d).{4,}$/&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">password&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">isValidPassword&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;winning&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>&lt;em>Wrong:&lt;/em>&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">password&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span> &lt;span class="o">&amp;gt;=&lt;/span> &lt;span class="mi">4&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="sr">/^(?=.*\d).{4,}$/&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">password&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;losing&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>Write small functions&lt;span class="hx-absolute -hx-mt-20" id="write-small-functions">&lt;/span>
&lt;a href="#write-small-functions" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Keep your functions short. A good function fits on a slide that the people in
the last row of a big room can comfortably read. So don&amp;rsquo;t count on them having
perfect vision and limit yourself to ~15 lines of code per function.&lt;/p>
&lt;h3>Return early from functions&lt;span class="hx-absolute -hx-mt-20" id="return-early-from-functions">&lt;/span>
&lt;a href="#return-early-from-functions" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>To avoid deep nesting of if-statements, always return a function&amp;rsquo;s value as early
as possible.&lt;/p>
&lt;p>&lt;em>Right:&lt;/em>&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">isPercentage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">val&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">val&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>&lt;em>Wrong:&lt;/em>&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">isPercentage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">val&lt;/span> &lt;span class="o">&amp;gt;=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">val&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Or for this particular example it may also be fine to shorten things even
further:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">isPercentage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">isInRange&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">val&lt;/span> &lt;span class="o">&amp;gt;=&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nx">val&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">isInRange&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>Asynchronous code&lt;span class="hx-absolute -hx-mt-20" id="asynchronous-code">&lt;/span>
&lt;a href="#asynchronous-code" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Where possible, use the async/await pattern for asynchronous code as it&amp;rsquo;s generally easy to read as the statements line up down the screen. This may not be possible for legacy browser or Node version support, where promises should be used instead. Occasionally promises are better, for example, for executing multiple async methods in parallel. Avoid callbacks at all costs.&lt;/p>
&lt;p>&lt;em>Right:&lt;/em>&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">async&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">fetch&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">response&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">request&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">get&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">catch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// handle error
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>&lt;em>Wrong:&lt;/em>&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">fetch&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">request&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">get&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">response&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="cm">/* handle error */&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>&lt;em>Wronger:&lt;/em>&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">fetch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">callback&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">request&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">get&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">response&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// handle error
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">callback&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>Avoid reduce&lt;span class="hx-absolute -hx-mt-20" id="avoid-reduce">&lt;/span>
&lt;a href="#avoid-reduce" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Most uses of reduce have more readable alternatives.&lt;/p>
&lt;p>When supporting older browsers and node versions where some features aren&amp;rsquo;t available &lt;code>reduce&lt;/code> can still be useful but its use should be hidden behind a utility function or polyfill to help readability and make it easier to replace later.&lt;/p>
&lt;p>&lt;em>Right:&lt;/em>&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">properties&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">elements&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">forEach&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">elem&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">properties&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">elem&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">elem&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">b&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>&lt;em>Wrong:&lt;/em>&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">properties&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">elements&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">reduce&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">properties&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">elem&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">properties&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">concat&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">elem&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">elem&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">b&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">},&lt;/span> &lt;span class="p">[]);&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Refer to &lt;a href="https://youtu.be/qaGjS7-qWzg" target="_blank" rel="noopener">this YouTube video&lt;/a> for more examples.&lt;/p>
&lt;h3>Adding documentation comments&lt;span class="hx-absolute -hx-mt-20" id="adding-documentation-comments">&lt;/span>
&lt;a href="#adding-documentation-comments" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>To add documentation comments that will be built using jsdocs, use
&lt;a href="https://jsdoc.app/" target="_blank" rel="noopener">jsdoc block tags&lt;/a>. For angular code use the
&lt;a href="https://www.npmjs.com/package/angular-jsdoc#tags-available" target="_blank" rel="noopener">angular tags&lt;/a>, see
&lt;a href="https://www.npmjs.com/package/angular-jsdoc#example" target="_blank" rel="noopener">examples&lt;/a>.&lt;/p>
&lt;p>Try to write comments that explain higher level mechanisms or clarify
difficult segments of your code. Don&amp;rsquo;t use comments to restate trivial
things.&lt;/p>
&lt;p>&lt;em>Right:&lt;/em>&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * &amp;#39;ID_SOMETHING=VALUE&amp;#39; -&amp;gt; [&amp;#39;ID_SOMETHING=VALUE&amp;#39;, &amp;#39;SOMETHING&amp;#39;, &amp;#39;VALUE&amp;#39;]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * @type {boolean}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">matches&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">item&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">match&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sr">/ID_([^\n]+)=([^\n]+)/&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * Loads a user. This function has a nasty side effect where a failure to increment a
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * redis counter used for statistics will cause an exception. This needs
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * to be fixed in a later iteration.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * @param {string} id the user id
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * @param {function} cb a callback function that applied to the user
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">loadUser&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">cb&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>&lt;em>Wrong:&lt;/em>&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * Execute a regex
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">matches&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">item&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">match&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sr">/ID_([^\n]+)=([^\n]+)/&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * Usage: loadUser(5, function() { ... })
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">loadUser&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">cb&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * Check if the session is valid
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">isSessionValid&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">session&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">expires&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">now&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/** If the session is valid */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">isSessionValid&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>Object.freeze, Object.preventExtensions, Object.seal, with, eval&lt;span class="hx-absolute -hx-mt-20" id="objectfreeze-objectpreventextensions-objectseal-with-eval">&lt;/span>
&lt;a href="#objectfreeze-objectpreventextensions-objectseal-with-eval" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Crazy stuff that you will probably never need. Stay away from it.&lt;/p>
&lt;h3>Getters and setters&lt;span class="hx-absolute -hx-mt-20" id="getters-and-setters">&lt;/span>
&lt;a href="#getters-and-setters" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Do not use setters, they cause more problems for people who try to use your
software than they can solve.&lt;/p>
&lt;p>Feel free to use getters that are free from &lt;a href="http://en.wikipedia.org/wiki/Side_effect_%28computer_science%29" target="_blank" rel="noopener">side effects&lt;/a>, like
providing a length property for a collection class.&lt;/p>
&lt;h3>NPM Dependencies&lt;span class="hx-absolute -hx-mt-20" id="npm-dependencies">&lt;/span>
&lt;a href="#npm-dependencies" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>When picking version ranges we set an exact minimum version and an upper limit of the next major. This makes it easy to update dependencies without hitting breaking changes. In NPM this is done by using the &lt;code>^&lt;/code> character which is the default setting for NPM.&lt;/p>
&lt;p>Occasionally it is required to set an exact version to avoid an undeclared breaking change or some other issue, in this case the dependency can be specified exactly.&lt;/p>
&lt;p>&lt;em>Right:&lt;/em>&lt;/p>
&lt;ul>
&lt;li>&lt;code>&amp;quot;^6.5.3&amp;quot;&lt;/code> - preferred&lt;/li>
&lt;li>&lt;code>&amp;quot;6.5.3&amp;quot;&lt;/code> - if required&lt;/li>
&lt;/ul>
&lt;p>&lt;em>Wrong:&lt;/em>&lt;/p>
&lt;ul>
&lt;li>&lt;code>&amp;quot;&amp;gt;6.5.3&amp;quot;&lt;/code> - risks picking up breaking changes in the next major&lt;/li>
&lt;li>&lt;code>&amp;quot;*&amp;quot;&lt;/code> - as above but also doesn&amp;rsquo;t specify a minimum&lt;/li>
&lt;li>&lt;code>&amp;quot;~6.5.3&amp;quot;&lt;/code> - too restrictive on the upper limit&lt;/li>
&lt;/ul>
&lt;h3>Github Actions&lt;span class="hx-absolute -hx-mt-20" id="github-actions">&lt;/span>
&lt;a href="#github-actions" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;h4>Managing Secrets&lt;span class="hx-absolute -hx-mt-20" id="managing-secrets">&lt;/span>
&lt;a href="#managing-secrets" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>Secrets are encrypted for use for things like passwords or API keys and can be added at the org or repository level. They must be added by an admin.&lt;/p>
&lt;p>To access a secret you can use this format in your yml.&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">steps&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">My first action&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">env&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">GITHUB_TOKEN&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ secrets.GITHUB_TOKEN }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">FIRST_NAME&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Mona&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">LAST_NAME&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Octocat&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>See the full &lt;a href="https://docs.github.com/en/actions/reference/encrypted-secrets" target="_blank" rel="noopener">documentation&lt;/a> on Github&amp;rsquo;s site.&lt;/p>
&lt;h4>Third Party Actions&lt;span class="hx-absolute -hx-mt-20" id="third-party-actions">&lt;/span>
&lt;a href="#third-party-actions" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>Actions allow us to leverage code written by others to do tasks at build time. The concept is similar to NPM and packages.&lt;/p>
&lt;p>Follow the github actions best practices for security purposes. The main points in the security best &lt;a href="https://docs.github.com/en/actions/learn-github-actions/security-hardening-for-github-actions#using-third-party-actions" target="_blank" rel="noopener">practices documents&lt;/a> are&lt;/p>
&lt;ol>
&lt;li>Pin actions to a full length commit SHA so any malicious or buggy updates are not silently included&lt;/li>
&lt;li>Audit the source code of the action&lt;/li>
&lt;li>Pin actions to a tag only if you trust the creator&lt;/li>
&lt;/ol></description></item><item><title>Contributing CHT Core Code</title><link>https://docs.communityhealthtoolkit.org/community/contributing/code/core/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.communityhealthtoolkit.org/community/contributing/code/core/</guid><description>
&lt;div class="section-pages-list">
&lt;h3>Content in this section &lt;/h3>
&lt;ul>
&lt;li>
&lt;a href="https://docs.communityhealthtoolkit.org/community/contributing/code/core/dev-environment/">CHT Core dev environment setup&lt;/a>
&lt;/li>
&lt;li>
&lt;a href="https://docs.communityhealthtoolkit.org/community/contributing/code/core/build-commands/">Build commands&lt;/a>
&lt;/li>
&lt;li>
&lt;a href="https://docs.communityhealthtoolkit.org/community/contributing/code/core/update-dependencies/">Update Dependencies&lt;/a>
&lt;/li>
&lt;li>
&lt;a href="https://docs.communityhealthtoolkit.org/community/contributing/code/core/automated-tests/">Automated Tests&lt;/a>
&lt;/li>
&lt;li>
&lt;a href="https://docs.communityhealthtoolkit.org/community/contributing/code/core/style-guide-automated-e2e-tests/">Style guide for automated tests&lt;/a>
&lt;/li>
&lt;li>
&lt;a href="https://docs.communityhealthtoolkit.org/community/contributing/code/core/apdex-automation-tests/">Apdex Automated Tests&lt;/a>
&lt;/li>
&lt;li>
&lt;a href="https://docs.communityhealthtoolkit.org/community/contributing/code/core/using-windows/">Developing on Windows&lt;/a>
&lt;/li>
&lt;li>
&lt;a href="https://docs.communityhealthtoolkit.org/community/contributing/code/core/run-multiple-chrome-versions/">Running multiple Chrome versions&lt;/a>
&lt;/li>
&lt;/ul>
&lt;/div></description></item><item><title>CHT App Configurer</title><link>https://docs.communityhealthtoolkit.org/community/contributing/code/cht-conf/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.communityhealthtoolkit.org/community/contributing/code/cht-conf/</guid><description>
&lt;p>&lt;a href="https://github.com/medic/cht-conf" target="_blank" rel="noopener">CHT Conf&lt;/a> is a command-line interface tool to manage and configure apps built using the &lt;a href="https://github.com/medic/cht-core" target="_blank" rel="noopener">CHT Core Framework&lt;/a>.&lt;/p>
&lt;h2>Requirements&lt;span class="hx-absolute -hx-mt-20" id="requirements">&lt;/span>
&lt;a href="#requirements" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>nodejs 18 or later&lt;/li>
&lt;li>python 3&lt;/li>
&lt;li>Docker(optional)&lt;/li>
&lt;/ul>
&lt;h2>Installation&lt;span class="hx-absolute -hx-mt-20" id="installation">&lt;/span>
&lt;a href="#installation" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;h3>Operating System Specific&lt;span class="hx-absolute -hx-mt-20" id="operating-system-specific">&lt;/span>
&lt;a href="#operating-system-specific" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;div class="hextra-scrollbar hx-overflow-x-auto hx-overflow-y-hidden hx-overscroll-x-contain">
&lt;div class="hx-mt-4 hx-flex hx-w-max hx-min-w-full hx-border-b hx-border-gray-200 hx-pb-px dark:hx-border-neutral-800">&lt;button
class="hextra-tabs-toggle data-[state=selected]:hx-border-primary-500 data-[state=selected]:hx-text-primary-600 data-[state=selected]:dark:hx-border-primary-500 data-[state=selected]:dark:hx-text-primary-600 hx-mr-2 hx-rounded-t hx-p-2 hx-font-medium hx-leading-5 hx-transition-colors -hx-mb-0.5 hx-select-none hx-border-b-2 hx-border-transparent hx-text-gray-600 hover:hx-border-gray-200 hover:hx-text-black dark:hx-text-gray-200 dark:hover:hx-border-neutral-800 dark:hover:hx-text-white"
role="tab"
type="button"
aria-controls="tabs-panel-0" aria-selected="true" tabindex="0" data-state="selected">Linux (Ubuntu)&lt;/button>&lt;button
class="hextra-tabs-toggle data-[state=selected]:hx-border-primary-500 data-[state=selected]:hx-text-primary-600 data-[state=selected]:dark:hx-border-primary-500 data-[state=selected]:dark:hx-text-primary-600 hx-mr-2 hx-rounded-t hx-p-2 hx-font-medium hx-leading-5 hx-transition-colors -hx-mb-0.5 hx-select-none hx-border-b-2 hx-border-transparent hx-text-gray-600 hover:hx-border-gray-200 hover:hx-text-black dark:hx-text-gray-200 dark:hover:hx-border-neutral-800 dark:hover:hx-text-white"
role="tab"
type="button"
aria-controls="tabs-panel-1">macOS&lt;/button>&lt;button
class="hextra-tabs-toggle data-[state=selected]:hx-border-primary-500 data-[state=selected]:hx-text-primary-600 data-[state=selected]:dark:hx-border-primary-500 data-[state=selected]:dark:hx-text-primary-600 hx-mr-2 hx-rounded-t hx-p-2 hx-font-medium hx-leading-5 hx-transition-colors -hx-mb-0.5 hx-select-none hx-border-b-2 hx-border-transparent hx-text-gray-600 hover:hx-border-gray-200 hover:hx-text-black dark:hx-text-gray-200 dark:hover:hx-border-neutral-800 dark:hover:hx-text-white"
role="tab"
type="button"
aria-controls="tabs-panel-2">Windows (WSL2)&lt;/button>&lt;/div>
&lt;/div>
&lt;div>
&lt;div
class="hextra-tabs-panel hx-rounded hx-pt-6 hx-hidden data-[state=selected]:hx-block"
id="tabs-panel-0"
role="tabpanel" tabindex="0" data-state="selected" >&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">npm install -g cht-conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo python -m pip install git+https://github.com/medic/pyxform.git@medic-conf-1.17#egg&lt;span class="o">=&lt;/span>pyxform-medic&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div
class="hextra-tabs-panel hx-rounded hx-pt-6 hx-hidden data-[state=selected]:hx-block"
id="tabs-panel-1"
role="tabpanel">&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">npm install -g cht-conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pip install git+https://github.com/medic/pyxform.git@medic-conf-1.17#egg&lt;span class="o">=&lt;/span>pyxform-medic&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div
class="hextra-tabs-panel hx-rounded hx-pt-6 hx-hidden data-[state=selected]:hx-block"
id="tabs-panel-2"
role="tabpanel">&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># As Administrator:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm install -g cht-conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">python -m pip install git+https://github.com/medic/pyxform.git@medic-conf-1.17#egg&lt;span class="o">=&lt;/span>pyxform-medic --upgrade&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;h3>Using Docker&lt;span class="hx-absolute -hx-mt-20" id="using-docker">&lt;/span>
&lt;a href="#using-docker" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>CHT Conf can also be run from within a Docker container. This is useful if you are already familiar with Docker and do not wish to configure the various dependencies required for developing CHT apps on your local machine. The necessary dependencies are pre-packaged in the Docker image.&lt;/p>
&lt;h4>Using the image&lt;span class="hx-absolute -hx-mt-20" id="using-the-image">&lt;/span>
&lt;a href="#using-the-image" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>The Docker image can be used as a &lt;a href="https://code.visualstudio.com/docs/devcontainers/containers" target="_blank" rel="noopener">VS Code Development Container&lt;/a> (easiest) or as a standalone Docker utility.&lt;/p>
&lt;p>Install &lt;a href="https://www.docker.com/" target="_blank" rel="noopener">Docker&lt;/a>. If you are using Windows, you also need to enable the &lt;a href="https://learn.microsoft.com/en-us/windows/wsl/install" target="_blank" rel="noopener">Windows Subsystem for Linux (WSL2)&lt;/a> to perform the following steps.&lt;/p>
&lt;h5>VS Code Development Container&lt;span class="hx-absolute -hx-mt-20" id="vs-code-development-container">&lt;/span>
&lt;a href="#vs-code-development-container" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h5>&lt;p>If you want to develop CHT apps with VS Code, you can use the Docker image as a Development Container. This will allow you to use the &lt;code>cht-conf&lt;/code> utility and its associated tech stack from within VS Code (without needing to install dependencies like NodeJS on your host system).&lt;/p>
&lt;p>Look through &lt;a href="https://docs.communityhealthtoolkit.org/apps/tutorials/local-setup/#developing-with-vs-code-dev-container" target="_blank" rel="noopener">Developing with VS Code Dev Container Documentation&lt;/a> to get more information .&lt;/p>
&lt;h5>Standalone Docker utility&lt;span class="hx-absolute -hx-mt-20" id="standalone-docker-utility">&lt;/span>
&lt;a href="#standalone-docker-utility" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h5>&lt;p>If you are not using VS Code, you can use the Docker image as a standalone utility from the command line. Instead of using the &lt;code>cht ...&lt;/code> command, you can run &lt;code>docker run -it --rm -v &amp;quot;$PWD&amp;quot;:/workdir medicmobile/cht-app-ide ....&lt;/code> This will create an ephemeral container with access to your current directory that will run the given cht command. (Do not include the &lt;code>cht&lt;/code> part of the command, just your desired actions/parameters.)&lt;/p>
&lt;p>Run the following command inside the project directory to bootstrap your new CHT project:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">docker run -it --rm -v &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$PWD&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>:/workdir medicmobile/cht-app-ide initialise-project-layout&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h4>Note on connecting to a local CHT instance&lt;span class="hx-absolute -hx-mt-20" id="note-on-connecting-to-a-local-cht-instance">&lt;/span>
&lt;a href="#note-on-connecting-to-a-local-cht-instance" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>When using &lt;code>cht-conf&lt;/code> within a Docker container to connect to a CHT instance that is running on your local machine (e.g. a development instance), you cannot use the &lt;code>--local&lt;/code> flag or &lt;code>localhost&lt;/code> in your &lt;code>--url&lt;/code> parameter (since these will be interpreted as &amp;ldquo;local to the container&amp;rdquo;).&lt;/p>
&lt;p>It is recommended to run a local CHT instance using the &lt;a href="https://docs.communityhealthtoolkit.org/apps/guides/hosting/4.x/app-developer/" target="_blank" rel="noopener">CHT Docker Helper script&lt;/a>. You can connect to the resulting &lt;code>...my.local-ip.co&lt;/code> URL from the Docker container (or the VS Code terminal). Ensure the port your CHT instance is hosted on is not blocked by your firewall.&lt;/p>
&lt;h3>Bash completion&lt;span class="hx-absolute -hx-mt-20" id="bash-completion">&lt;/span>
&lt;a href="#bash-completion" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>To enable tab completion in bash, add the following to your &lt;code>.bashrc&lt;/code>/&lt;code>.bash_profile&lt;/code>:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">eval&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>cht-conf --shell-completion&lt;span class="o">=&lt;/span>bash&lt;span class="k">)&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>Upgrading&lt;span class="hx-absolute -hx-mt-20" id="upgrading">&lt;/span>
&lt;a href="#upgrading" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>To upgrade to the latest version, run the command below. To view changes made to CHT Conf, view the &lt;a href="https://docs.communityhealthtoolkit.org/apps/guides/updates/preparing-for-4/#cht-conf" target="_blank" rel="noopener">CHANGELOG&lt;/a>.&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">npm update -g cht-conf&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h2>Usage&lt;span class="hx-absolute -hx-mt-20" id="usage">&lt;/span>
&lt;a href="#usage" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>&lt;code>cht&lt;/code> will upload the configuration &lt;strong>from your current directory&lt;/strong>.&lt;/p>
&lt;h3>Specifying the server to configure&lt;span class="hx-absolute -hx-mt-20" id="specifying-the-server-to-configure">&lt;/span>
&lt;a href="#specifying-the-server-to-configure" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>If you are using the default actionset, or performing any actions that require a CHT instance to function (e.g. &lt;code>upload-xyz&lt;/code> or &lt;code>backup-xyz&lt;/code> actions) you must specify the server you&amp;rsquo;d like to function against.&lt;/p>
&lt;h4>localhost&lt;span class="hx-absolute -hx-mt-20" id="localhost">&lt;/span>
&lt;a href="#localhost" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>For developers, this is the instance defined in your &lt;code>COUCH_URL&lt;/code> environment variable.&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">cht --local&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h4>A specific Medic-hosted instance&lt;span class="hx-absolute -hx-mt-20" id="a-specific-medic-hosted-instance">&lt;/span>
&lt;a href="#a-specific-medic-hosted-instance" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>For configuring Medic-hosted instances.&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">cht --instance&lt;span class="o">=&lt;/span>instance-name.dev&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Username &lt;code>admin&lt;/code> is used. A prompt is shown for entering password.
If a different username is required, add the &lt;code>--user&lt;/code> switch:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">--user user-name --instance&lt;span class="o">=&lt;/span>instance-name.dev&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h4>An arbitrary URL&lt;span class="hx-absolute -hx-mt-20" id="an-arbitrary-url">&lt;/span>
&lt;a href="#an-arbitrary-url" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">cht --url&lt;span class="o">=&lt;/span>https://username:password@example.com:12345&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>&lt;strong>NB&lt;/strong> - When specifying the URL with &lt;code>--url&lt;/code>, be sure not to specify the CouchDB database name in the URL. The CHT API will find the correct database.&lt;/p>
&lt;h4>Using a session token for authentication&lt;span class="hx-absolute -hx-mt-20" id="using-a-session-token-for-authentication">&lt;/span>
&lt;a href="#using-a-session-token-for-authentication" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>CHT Conf supports authentication using a session token by adding &lt;code>--session-token&lt;/code> parameter:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">cht --url&lt;span class="o">=&lt;/span>https://example.com:12345 --session-token&lt;span class="o">=&lt;/span>*my_token*&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>The &lt;code>my_token&lt;/code> can be obtained by doing a POST request to &lt;code>/_session&lt;/code> &lt;a href="https://docs.couchdb.org/en/stable/api/server/authn.html#cookie-authentication" target="_blank" rel="noopener">endpoint&lt;/a> with &lt;code>name&lt;/code> and &lt;code>password&lt;/code> as form parameters.&lt;/p>
&lt;p>For example, if your CHT instance is &lt;code>my.cht.com&lt;/code>, you could use this &lt;code>curl&lt;/code> call to specify your user &lt;code>medic&lt;/code> and your password &lt;code>secret123&lt;/code> to retrieve the header with the &lt;code>AuthSession&lt;/code> value which is the token:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">curl -v -H &lt;span class="s1">&amp;#39;Content-Type: application/json&amp;#39;&lt;/span> -d &lt;span class="s1">&amp;#39;{&amp;#34;name&amp;#34;:&amp;#34;medic&amp;#34;,&amp;#34;password&amp;#34;:&amp;#34;secret123&amp;#34;}&amp;#39;&lt;/span> https://my.cht.com/_session 2&amp;gt;&lt;span class="p">&amp;amp;&lt;/span>&lt;span class="m">1&lt;/span> &lt;span class="p">|&lt;/span> grep AuthSession
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt; set-cookie: &lt;span class="nv">AuthSession&lt;/span>&lt;span class="o">=&lt;/span>bWVkaWM6NjdBRTM4MkE6EguRnzpSiK0t8wFaOQ_jgkZE8UWcgNWgpyStzbbHreI&lt;span class="p">;&lt;/span> &lt;span class="nv">Version&lt;/span>&lt;span class="o">=&lt;/span>1&lt;span class="p">;&lt;/span> &lt;span class="nv">Expires&lt;/span>&lt;span class="o">=&lt;/span>Fri, 13-Feb-2026 18:21:30 GMT&lt;span class="p">;&lt;/span> Max-Age&lt;span class="o">=&lt;/span>31536000&lt;span class="p">;&lt;/span> &lt;span class="nv">Path&lt;/span>&lt;span class="o">=&lt;/span>/&lt;span class="p">;&lt;/span> HttpOnly&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h4>Into an archive to be uploaded later&lt;span class="hx-absolute -hx-mt-20" id="into-an-archive-to-be-uploaded-later">&lt;/span>
&lt;a href="#into-an-archive-to-be-uploaded-later" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">cht --archive&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>The resulting archive is consumable by CHT API &amp;gt;v3.7 to create default configurations.&lt;/p>
&lt;h3>Perform specific action(s)&lt;span class="hx-absolute -hx-mt-20" id="perform-specific-actions">&lt;/span>
&lt;a href="#perform-specific-actions" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">cht &amp;lt;--archive&lt;span class="p">|&lt;/span>--local&lt;span class="p">|&lt;/span>--instance&lt;span class="o">=&lt;/span>instance-name&lt;span class="p">|&lt;/span>--url&lt;span class="o">=&lt;/span>url&amp;gt; &amp;lt;...action&amp;gt;&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>The list of available actions can be seen via &lt;code>cht --help&lt;/code>.&lt;/p>
&lt;h3>Perform actions for specific forms&lt;span class="hx-absolute -hx-mt-20" id="perform-actions-for-specific-forms">&lt;/span>
&lt;a href="#perform-actions-for-specific-forms" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">cht &amp;lt;--local&lt;span class="p">|&lt;/span>--instance&lt;span class="o">=&lt;/span>instance-name&lt;span class="p">|&lt;/span>--url&lt;span class="o">=&lt;/span>url&amp;gt; &amp;lt;...action&amp;gt; -- &amp;lt;...form&amp;gt;&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>Protecting against configuration overwriting&lt;span class="hx-absolute -hx-mt-20" id="protecting-against-configuration-overwriting">&lt;/span>
&lt;a href="#protecting-against-configuration-overwriting" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;em>Added in v3.2.0&lt;/em>
In order to avoid overwriting someone else&amp;rsquo;s configuration cht-conf records the last uploaded configuration snapshot in the &lt;code>.snapshots&lt;/code> directory. The &lt;code>remote.json&lt;/code> file should be committed to your repository along with the associated configuration change. When uploading future configuration if cht-conf detects the snapshot doesn&amp;rsquo;t match the configuration on the server you will be prompted to overwrite or cancel.&lt;/p>
&lt;h2>Development&lt;span class="hx-absolute -hx-mt-20" id="development">&lt;/span>
&lt;a href="#development" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>To develop a new command that is part of cht-conf, or improve an existing one. For more information check &lt;a href="https://github.com/medic/cht-conf/blob/main/src/fn/README.md" target="_blank" rel="noopener">&amp;ldquo;Actions&amp;rdquo; doc&lt;/a>.&lt;/p>
&lt;h3>Testing&lt;span class="hx-absolute -hx-mt-20" id="testing">&lt;/span>
&lt;a href="#testing" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;h4>Unit tests&lt;span class="hx-absolute -hx-mt-20" id="unit-tests">&lt;/span>
&lt;a href="#unit-tests" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>Execute &lt;code>npm test&lt;/code> to run static analysis checks and the test suite. Requires Docker to run integration tests against a CouchDB instance.&lt;/p>
&lt;h4>End-to-end tests&lt;span class="hx-absolute -hx-mt-20" id="end-to-end-tests">&lt;/span>
&lt;a href="#end-to-end-tests" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>Run &lt;code>npm run test-e2e&lt;/code> to run the end-to-end test suite against an actual CHT instance locally. These tests rely on &lt;a href="https://docs.communityhealthtoolkit.org/hosting/4.x/app-developer/#cht-docker-helper-for-4x" target="_blank" rel="noopener">CHT Docker Helper&lt;/a> to spin up and tear down an instance locally.&lt;/p>
&lt;p>The code interfacing with CHT Docker Helper lives in &lt;a href="https://github.com/medic/cht-conf/blob/main/test/e2e/cht-docker-utils.js" target="_blank" rel="noopener">&lt;code>test/e2e/cht-docker-utils.js&lt;/code>&lt;/a>. You should rely on the API exposed by this file to orchestrate CHT instances for testing purposes. It is preferable to keep the number of CHT instances orchestrated in E2E tests low as it takes a non-negligible amount of time to spin up an instance and can quickly lead to timeouts.&lt;/p>
&lt;h3>Executing your local branch&lt;span class="hx-absolute -hx-mt-20" id="executing-your-local-branch">&lt;/span>
&lt;a href="#executing-your-local-branch" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;ol>
&lt;li>Clone the project locally&lt;/li>
&lt;li>Make changes to cht-conf or checkout a branch for testing&lt;/li>
&lt;li>Test changes
&lt;ol>
&lt;li>To test CLI changes locally you can run &lt;code>node &amp;lt;project_dir&amp;gt;/src/bin/index.js&lt;/code>. This will run as if you installed via npm.&lt;/li>
&lt;li>To test changes that are imported in code run &lt;code>npm install &amp;lt;project_dir&amp;gt;&lt;/code> to use the local version of cht-conf.&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;h3>Releasing&lt;span class="hx-absolute -hx-mt-20" id="releasing">&lt;/span>
&lt;a href="#releasing" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;ol>
&lt;li>Create a pull request with prep for the new release.&lt;/li>
&lt;li>Get the pull request reviewed and approved.&lt;/li>
&lt;li>When doing the squash and merge, make sure that your commit message is clear and readable and follows the strict format described in the commit format section below. If the commit message does not comply, automatic release will fail.&lt;/li>
&lt;li>In case you are planning to merge the pull request with a merge commit, make sure that every commit in your branch respects the format.&lt;/li>
&lt;/ol>
&lt;h4>Commit format&lt;span class="hx-absolute -hx-mt-20" id="commit-format">&lt;/span>
&lt;a href="#commit-format" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>The commit format should follow this &lt;a href="https://github.com/conventional-changelog/conventional-changelog/tree/master/packages/conventional-changelog-angular" target="_blank" rel="noopener">conventional-changelog angular preset&lt;/a>. Examples are provided below.&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Type&lt;/th>
&lt;th>Example commit message&lt;/th>
&lt;th>Release type&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Bug fixes&lt;/td>
&lt;td>fix(#123): infinite spinner when clicking contacts tab twice&lt;/td>
&lt;td>patch&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Performance&lt;/td>
&lt;td>perf(#789): lazily loaded angular modules&lt;/td>
&lt;td>patch&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Features&lt;/td>
&lt;td>feat(#456): add home tab&lt;/td>
&lt;td>minor&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Non-code&lt;/td>
&lt;td>chore(#123): update README&lt;/td>
&lt;td>none&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Breaking&lt;/td>
&lt;td>perf(#2): remove reporting rates feature &lt;br/> BREAKING CHANGE: reporting rates no longer supported&lt;/td>
&lt;td>major&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4>Releasing betas&lt;span class="hx-absolute -hx-mt-20" id="releasing-betas">&lt;/span>
&lt;a href="#releasing-betas" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ol>
&lt;li>Checkout the default branch, for example &lt;code>main&lt;/code>&lt;/li>
&lt;li>Run &lt;code>npm version --no-git-tag-version &amp;lt;major&amp;gt;.&amp;lt;minor&amp;gt;.&amp;lt;patch&amp;gt;-beta.1&lt;/code>. This will only update the versions in &lt;code>package.json&lt;/code> and &lt;code>package-lock.json&lt;/code>. It will not create a git tag and not create an associated commit.&lt;/li>
&lt;li>Run &lt;code>npm publish --tag beta&lt;/code>. This will publish your beta tag to npm&amp;rsquo;s beta channel.&lt;/li>
&lt;/ol>
&lt;p>To install from the beta channel, run &lt;code>npm install cht-conf@beta&lt;/code>.&lt;/p>
&lt;h3>Build status&lt;span class="hx-absolute -hx-mt-20" id="build-status">&lt;/span>
&lt;a href="#build-status" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Builds brought to you courtesy of GitHub actions.
&lt;figure class=" center col-4 col-lg-4">&lt;a href="build-status.png">&lt;img src="https://docs.communityhealthtoolkit.org/community/contributing/code/cht-conf/build-status.png">&lt;/a>
&lt;/figure>
&lt;/p></description></item><item><title>Contributing Android Code</title><link>https://docs.communityhealthtoolkit.org/community/contributing/code/android/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.communityhealthtoolkit.org/community/contributing/code/android/</guid><description>
&lt;div class="section-pages-list">
&lt;h3>Content in this section &lt;/h3>
&lt;ul>
&lt;li>
&lt;a href="https://docs.communityhealthtoolkit.org/community/contributing/code/android/development-setup/">Android Dev Environment&lt;/a>
&lt;/li>
&lt;li>
&lt;a href="https://docs.communityhealthtoolkit.org/community/contributing/code/android/releasing/">Releasing&lt;/a>
&lt;/li>
&lt;/ul>
&lt;/div></description></item><item><title>Releasing</title><link>https://docs.communityhealthtoolkit.org/community/contributing/code/releasing/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.communityhealthtoolkit.org/community/contributing/code/releasing/</guid><description>
&lt;h2>CHT Core&lt;span class="hx-absolute -hx-mt-20" id="cht-core">&lt;/span>
&lt;a href="#cht-core" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>A release is a set of code changes bundled together, ideally with at least one deployment of CHT apps ready to make use of it.&lt;/p>
&lt;h3>Building &amp;amp; Releasing CHT Core Changes&lt;span class="hx-absolute -hx-mt-20" id="building--releasing-cht-core-changes">&lt;/span>
&lt;a href="#building--releasing-cht-core-changes" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>The high-level steps for a release are as follows:&lt;/p>
&lt;ul>
&lt;li>The CHT Community sees an opportunity they want to go after. The opportunity addresses a need of at least one CHT app deployment and will be used by that deployment after the release.&lt;/li>
&lt;li>The CHT Community forms a squad and works with it on a solution.&lt;/li>
&lt;li>Tickets are added to GitHub for what&amp;rsquo;s being built.&lt;/li>
&lt;li>A &lt;a href="#release-manager" >release manager&lt;/a> is assigned from the team.&lt;/li>
&lt;li>The release manager &lt;a href="https://github.com/medic/cht-core/issues/new/choose" target="_blank" rel="noopener">creates an issue&lt;/a> for either a &lt;a href="#majorminorpatch-release" >Major/Minor or Patch&lt;/a> release and follows the process outlined in the issue template.&lt;/li>
&lt;li>Code is built by a developer together with &lt;a href="https://docs.communityhealthtoolkit.org/community/contributing/code/quality-assistance/" target="_blank" rel="noopener">quality assistance&lt;/a>.&lt;/li>
&lt;li>&lt;a href="https://docs.communityhealthtoolkit.org/community/contributing/code/workflow/#code-reviews" target="_blank" rel="noopener">Code is reviewed&lt;/a>.&lt;/li>
&lt;li>Code is merged.&lt;/li>
&lt;li>Code is released.&lt;/li>
&lt;/ul>
&lt;h3>Release Manager&lt;span class="hx-absolute -hx-mt-20" id="release-manager">&lt;/span>
&lt;a href="#release-manager" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>The overall coordination and operation of the release process are the responsibility of the release manager.&lt;/p>
&lt;p>The release manager must perform several tasks for a new release, such as coordinating with team members and following all the steps in the &lt;a href="https://github.com/medic/cht-core/issues/new/choose" target="_blank" rel="noopener">release issue process&lt;/a>, some of them being manual. The release manager must have adequate permissions to the repositories where the release is made.&lt;/p>
&lt;h3>Major/Minor/Patch Release&lt;span class="hx-absolute -hx-mt-20" id="majorminorpatch-release">&lt;/span>
&lt;a href="#majorminorpatch-release" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;div class="hx-overflow-x-auto hx-mt-6 hx-flex hx-flex-col hx-rounded-lg hx-border hx-py-4 hx-px-4 contrast-more:hx-border-current contrast-more:dark:hx-border-current hx-border-blue-200 hx-bg-blue-100 hx-text-blue-900 dark:hx-border-blue-200/30 dark:hx-bg-blue-900/30 dark:hx-text-blue-200">
&lt;p class="hx-flex hx-items-center hx-font-medium">&lt;svg height=16px class="hx-inline-block hx-align-middle hx-mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>&lt;/svg>The following classification is defined by the &lt;a href="https://semver.org" target="_blank" rel="noopener">Semantic Versioning 2.0.0&lt;/a>.&lt;/p>
&lt;div class="hx-w-full hx-min-w-0 hx-leading-7">
&lt;div class="hx-mt-6 hx-leading-7 first:hx-mt-0">&lt;/div>
&lt;/div>
&lt;/div>
&lt;p>Given a version number &lt;code>MAJOR.MINOR.PATCH&lt;/code>, increment the:&lt;/p>
&lt;ul>
&lt;li>&lt;code>MAJOR&lt;/code> version when the release adds incompatible changes, e.g. when the apps built on top of the CHT require manual intervention to work as expected.&lt;/li>
&lt;li>&lt;code>MINOR&lt;/code> version when the release adds functionality in a backward-compatible manner.&lt;/li>
&lt;li>&lt;code>PATCH&lt;/code> version when the release adds backward-compatible bug fixes.&lt;/li>
&lt;/ul>
&lt;p>&lt;code>MAJOR&lt;/code> releases represent the biggest scale of code change and their roll out effort is high, as they likely require time and effort to set up or configure. As a consequence, they are the least frequent of the three release types.&lt;/p>
&lt;div class="hx-overflow-x-auto hx-mt-6 hx-flex hx-flex-col hx-rounded-lg hx-border hx-py-4 hx-px-4 contrast-more:hx-border-current contrast-more:dark:hx-border-current hx-border-indigo-200 hx-bg-indigo-100 hx-text-indigo-900 dark:hx-border-indigo-200/30 dark:hx-bg-indigo-900/30 dark:hx-text-indigo-200">
&lt;p class="hx-flex hx-items-center hx-font-medium">&lt;svg height=16px class="hx-inline-block hx-align-middle hx-mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>&lt;/svg>&lt;br>&lt;/p>
&lt;div class="hx-w-full hx-min-w-0 hx-leading-7">
&lt;div class="hx-mt-6 hx-leading-7 first:hx-mt-0">&lt;p>You can find the versions currently supported, dependencies, and release notes for the CHT Core &lt;a href="https://docs.communityhealthtoolkit.org/releases/" target="_blank" rel="noopener">on the Releases page&lt;/a>.&lt;/p>&lt;/div>
&lt;/div>
&lt;/div>
&lt;h3>When to wait to release&lt;span class="hx-absolute -hx-mt-20" id="when-to-wait-to-release">&lt;/span>
&lt;a href="#when-to-wait-to-release" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>In general, release managers should not feel they have to wait to do a release. The moment the release manager feels the release is ready, they should release it. This may even be with just one ticket!&lt;/p>
&lt;p>There are two scenarios where a release manager should wait before doing the release:&lt;/p>
&lt;ol>
&lt;li>There is a bug found in &lt;code>master&lt;/code> that did not exist in the previous release. This should be fixed before the release.&lt;/li>
&lt;li>There is a high priority bug found in an existing release that it is estimated to be fixed in less than 5 days. The way to determine if a bug is high priority is if a service pack release is needed to fix it later. If so then it makes sense to wait for the fix to save the effort of having to do two releases in quick succession. If it&amp;rsquo;s going to take longer than 5 days then it&amp;rsquo;s worth the additional effort of releasing a service pack. After 5 days if the fix isn&amp;rsquo;t merged, then continue with the release regardless.&lt;/li>
&lt;/ol>
&lt;p>The reason to have these rules while waiting, is so that all contributors know what they are and the release manager never needs to ask &amp;ldquo;should we wait?&amp;rdquo; - they&amp;rsquo;ll know already!&lt;/p>
&lt;p>While waiting the release manager should use the time effectively by doing as many release steps as possible including writing release notes, preparing the release branch, etc so that the release can be finalized as quickly as possible once the fixes are made.&lt;/p>
&lt;h2>CHT Conf&lt;span class="hx-absolute -hx-mt-20" id="cht-conf">&lt;/span>
&lt;a href="#cht-conf" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Follow the &lt;a href="https://github.com/medic/cht-conf/#user-content-releasing" target="_blank" rel="noopener">instructions in the readme&lt;/a>.&lt;/p>
&lt;h2>Android apps&lt;span class="hx-absolute -hx-mt-20" id="android-apps">&lt;/span>
&lt;a href="#android-apps" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Follow the instructions in the &lt;a href="https://docs.communityhealthtoolkit.org/community/contributing/code/android/releasing/" >Android &amp;gt; Releasing&lt;/a> section.&lt;/p></description></item><item><title>CHT Product Repository Checklist</title><link>https://docs.communityhealthtoolkit.org/community/contributing/code/repository-checklist/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.communityhealthtoolkit.org/community/contributing/code/repository-checklist/</guid><description>
&lt;h2>Repository Creation Checklist&lt;span class="hx-absolute -hx-mt-20" id="repository-creation-checklist">&lt;/span>
&lt;a href="#repository-creation-checklist" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>When creating a new CHT Product repository under &lt;a href="https://github.com/medic" target="_blank" rel="noopener">Medic&amp;rsquo;s GitHub organization&lt;/a>, the contributor(s) should use the &lt;a href="https://github.com/medic/cht-repo-template" target="_blank" rel="noopener">cht-repo-template&lt;/a> repository containing the following configurations:&lt;/p>
&lt;h3>Source Control&lt;span class="hx-absolute -hx-mt-20" id="source-control">&lt;/span>
&lt;a href="#source-control" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;ul>
&lt;li>&lt;input disabled="" type="checkbox"> The &lt;code>main&lt;/code> branch is locked via &lt;a href="https://docs.github.com/en/repositories/configuring-branches-and-merges-in-your-repository/managing-protected-branches/managing-a-branch-protection-rule" target="_blank" rel="noopener">branch protection rules&lt;/a>.&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> Merges are done through PRs.&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> Automatically delete head branches.&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> Issue templates exist.&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> PR template exists.&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> PRs reference related issues.&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> Commit formats follow the &lt;a href="https://docs.communityhealthtoolkit.org/community/contributing/code/workflow/#commits" >guidelines&lt;/a>.&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> Secrets are not part of the commit history or made public.&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> The following files exist:
&lt;ul>
&lt;li>&lt;code>LICENSE&lt;/code> specifying AGPL-3.0 (&lt;a href="https://github.com/medic/cht-core/blob/master/LICENSE" target="_blank" rel="noopener">example&lt;/a>)&lt;/li>
&lt;li>&lt;code>README.md&lt;/code>.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> &lt;code>main&lt;/code> branch is always shippable.&lt;/li>
&lt;/ul>
&lt;h3>Code Reviews&lt;span class="hx-absolute -hx-mt-20" id="code-reviews">&lt;/span>
&lt;a href="#code-reviews" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;ul>
&lt;li>&lt;input disabled="" type="checkbox"> The PR template contains a code review checklist.&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> A reviewer for a PR merge is enforced by policy.&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> A &lt;a href="https://github.com/medic/eslint-config" target="_blank" rel="noopener">linter&lt;/a> is set up.&lt;/li>
&lt;/ul>
&lt;p>The PR and issue template content can be adjusted according to the product&amp;rsquo;s purpose.&lt;/p>
&lt;p>Additionally, the person who creates the repository might need to share repository access with appropriate teams (this may require admin access).&lt;/p>
&lt;h2>Items to consider when developing the CHT Product&lt;span class="hx-absolute -hx-mt-20" id="items-to-consider-when-developing-the-cht-product">&lt;/span>
&lt;a href="#items-to-consider-when-developing-the-cht-product" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>To ensure quality, the CHT Products should also follow the guidelines below:&lt;/p>
&lt;h3>CI/CD&lt;span class="hx-absolute -hx-mt-20" id="cicd">&lt;/span>
&lt;a href="#cicd" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;ul>
&lt;li>&lt;input disabled="" type="checkbox"> Repository runs GitHub Actions CI with automated build and test on each PR.&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> When using &lt;code>semantic-release&lt;/code> (or a similar technology) to automate releases, configure the &lt;code>medic-ci&lt;/code> bot to have permission to update the repository.
&lt;ul>
&lt;li>In the repository settings, go to &amp;ldquo;Collaborators and teams&amp;rdquo; &amp;gt; &amp;ldquo;Add people&amp;rdquo; and add the &lt;code>medic-ci&lt;/code> bot with &lt;code>admin&lt;/code> permissions.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3>Testing&lt;span class="hx-absolute -hx-mt-20" id="testing">&lt;/span>
&lt;a href="#testing" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;ul>
&lt;li>&lt;input disabled="" type="checkbox"> Unit tests and successful builds for PR merges are set up.&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> Unit tests cover the majority of the code.&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> If applicable, integration tests run to test the solution e2e.&lt;/li>
&lt;/ul>
&lt;h3>Observability&lt;span class="hx-absolute -hx-mt-20" id="observability">&lt;/span>
&lt;a href="#observability" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;ul>
&lt;li>&lt;input disabled="" type="checkbox"> Application faults and errors are logged.&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> Logging configuration can be modified without code changes (eg: verbose mode).&lt;/li>
&lt;/ul>
&lt;h2>Medic GitHub repository FAQ&lt;span class="hx-absolute -hx-mt-20" id="medic-github-repository-faq">&lt;/span>
&lt;a href="#medic-github-repository-faq" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;details class="last-of-type:hx-mb-0 hx-rounded-lg hx-bg-neutral-50 dark:hx-bg-neutral-800 hx-p-2 hx-mt-4 hx-group" open>
&lt;summary class="hx-flex hx-items-center hx-cursor-pointer hx-select-none hx-list-none hx-p-1 hx-rounded hx-transition-colors hover:hx-bg-gray-100 dark:hover:hx-bg-neutral-800 before:hx-mr-1 before:hx-inline-block before:hx-transition-transform before:hx-content-[''] dark:before:hx-invert rtl:before:hx-rotate-180 group-open:before:hx-rotate-90">
&lt;strong class="hx-text-lg">Q: Who can create a repository?&lt;/strong>
&lt;/summary>
&lt;div class="hx-p-2 hx-overflow-hidden">
A: Anyone under Medic GitHub organization.
&lt;/div>
&lt;/details>
&lt;details class="last-of-type:hx-mb-0 hx-rounded-lg hx-bg-neutral-50 dark:hx-bg-neutral-800 hx-p-2 hx-mt-4 hx-group" open>
&lt;summary class="hx-flex hx-items-center hx-cursor-pointer hx-select-none hx-list-none hx-p-1 hx-rounded hx-transition-colors hover:hx-bg-gray-100 dark:hover:hx-bg-neutral-800 before:hx-mr-1 before:hx-inline-block before:hx-transition-transform before:hx-content-[''] dark:before:hx-invert rtl:before:hx-rotate-180 group-open:before:hx-rotate-90">
&lt;strong class="hx-text-lg">Q: Is it OK to create a CHT/Medic-related work repository under a personal GitHub account?&lt;/strong>
&lt;/summary>
&lt;div class="hx-p-2 hx-overflow-hidden">
A: If what you are working on is temporary and just for you then it is fine to create a repository under your personal account (it is the equivalent of having a script on your local machine), as long as it contains an Open-Source Software License. However, default to the Medic account so the other team members can collaborate on it.
&lt;/div>
&lt;/details>
&lt;details class="last-of-type:hx-mb-0 hx-rounded-lg hx-bg-neutral-50 dark:hx-bg-neutral-800 hx-p-2 hx-mt-4 hx-group" open>
&lt;summary class="hx-flex hx-items-center hx-cursor-pointer hx-select-none hx-list-none hx-p-1 hx-rounded hx-transition-colors hover:hx-bg-gray-100 dark:hover:hx-bg-neutral-800 before:hx-mr-1 before:hx-inline-block before:hx-transition-transform before:hx-content-[''] dark:before:hx-invert rtl:before:hx-rotate-180 group-open:before:hx-rotate-90">
&lt;strong class="hx-text-lg">Q: When to make a repo public vs private?&lt;/strong>
&lt;/summary>
&lt;div class="hx-p-2 hx-overflow-hidden">
A: Repositories should be public unless there is very good reason to make it private (e.g. the repository contains partner details that cannot be disclosed to public). Always keep in mind that it is much easier to start public than change to public later.
&lt;/div>
&lt;/details>
&lt;details class="last-of-type:hx-mb-0 hx-rounded-lg hx-bg-neutral-50 dark:hx-bg-neutral-800 hx-p-2 hx-mt-4 hx-group" open>
&lt;summary class="hx-flex hx-items-center hx-cursor-pointer hx-select-none hx-list-none hx-p-1 hx-rounded hx-transition-colors hover:hx-bg-gray-100 dark:hover:hx-bg-neutral-800 before:hx-mr-1 before:hx-inline-block before:hx-transition-transform before:hx-content-[''] dark:before:hx-invert rtl:before:hx-rotate-180 group-open:before:hx-rotate-90">
&lt;strong class="hx-text-lg">Q: When to create a new repository vs adding a directory in existing (monolithic)?&lt;/strong>
&lt;/summary>
&lt;div class="hx-p-2 hx-overflow-hidden">
A: It depends on the nature of the code. Some things to consider are: is the new code and the old code dependent, don&amp;rsquo;t make sense on their own, must be versioned together, etc. If not, default to a new repo to reduce complexity.
&lt;/div>
&lt;/details>
&lt;div class="hx-overflow-x-auto hx-mt-6 hx-flex hx-rounded-lg hx-border hx-py-2 ltr:hx-pr-4 rtl:hx-pl-4 contrast-more:hx-border-current contrast-more:dark:hx-border-current hx-border-orange-100 hx-bg-orange-50 hx-text-orange-800 dark:hx-border-orange-400/30 dark:hx-bg-orange-400/20 dark:hx-text-orange-300">
&lt;div class="ltr:hx-pl-3 ltr:hx-pr-2 rtl:hx-pr-3 rtl:hx-pl-2">&lt;/div>
&lt;div class="hx-w-full hx-min-w-0 hx-leading-7">
&lt;div class="hx-mt-6 hx-leading-7 first:hx-mt-0">This policy was inspired by &lt;a href="https://microsoft.github.io/code-with-engineering-playbook/engineering-fundamentals-checklist/" target="_blank" rel="noopener">Microsoft&amp;rsquo;s Engineering Fundamentals Checklist&lt;/a>.&lt;/div>
&lt;/div>
&lt;/div></description></item><item><title>Using NPM</title><link>https://docs.communityhealthtoolkit.org/community/contributing/code/using-npm/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.communityhealthtoolkit.org/community/contributing/code/using-npm/</guid><description>
&lt;h2>npm Orgs&lt;span class="hx-absolute -hx-mt-20" id="npm-orgs">&lt;/span>
&lt;a href="#npm-orgs" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>We use npm Orgs to organize our npm packages. It provides a centralized way
to manage a team&amp;rsquo;s published npm packages and permissions. Here are some
guidelines when using this service.&lt;/p>
&lt;p>See npm&amp;rsquo;s &lt;a href="https://docs.npmjs.com/orgs/" target="_blank" rel="noopener">Orgs docs&lt;/a> for more information.&lt;/p>
&lt;p>Our organization is &lt;code>medic&lt;/code> or using npm&amp;rsquo;s notation, &lt;code>@medic&lt;/code>.&lt;/p>
&lt;p>We also created &lt;code>@medicmobile&lt;/code> but it&amp;rsquo;s not currently in use, it was created to
reserve the namespace.&lt;/p>
&lt;h3>Adding a Package&lt;span class="hx-absolute -hx-mt-20" id="adding-a-package">&lt;/span>
&lt;a href="#adding-a-package" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>When you publish an npm module on npmjs.com, add it to the developers team
under the &lt;code>@medic&lt;/code> org.&lt;/p>
&lt;p>This can be done using the web interface:&lt;/p>
&lt;ul>
&lt;li>Login to npmjs.com then Navigate to &lt;a href="https://www.npmjs.com/org/medic/team/developers" target="_blank" rel="noopener">Medic Developer&amp;rsquo;s Team&lt;/a>
and add your package there.&lt;/li>
&lt;/ul>
&lt;p>Or command line:&lt;/p>
&lt;ul>
&lt;li>Change your directory to where the package&amp;rsquo;s &lt;code>package.json&lt;/code> lives, then run:&lt;/li>
&lt;/ul>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">npm access grant read-write medic:developers&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;ul>
&lt;li>Then &lt;code>npm access&lt;/code> should show the updated permissions for the team members.&lt;/li>
&lt;/ul>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">npm access ls-collaborators
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;mandric&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;read-write&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;estellecomment&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;read-write&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;garethbowen&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;read-write&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;scdf&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;read-write&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;alxndrsn&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;read-write&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>Using an Org Scoped Package&lt;span class="hx-absolute -hx-mt-20" id="using-an-org-scoped-package">&lt;/span>
&lt;a href="#using-an-org-scoped-package" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A scope should be specified when a published package is a fork of an existing
package, but otherwise scope is not needed since there is no conflict with the
registry.&lt;/p>
&lt;p>For example if you fork &lt;code>moment&lt;/code> and you can&amp;rsquo;t get your changes merged upstream
and need to publish a new package then modify the package name (in
package.json) to specify a organizational scope, like &lt;code>@medic/moment&lt;/code> and publish it.&lt;/p>
&lt;p>For more info see &lt;a href="https://docs.npmjs.com/creating-and-publishing-an-org-scoped-package" target="_blank" rel="noopener">Publishing an Org Scoped Package&lt;/a>.&lt;/p></description></item><item><title>Static Analysis</title><link>https://docs.communityhealthtoolkit.org/community/contributing/code/static-analysis/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.communityhealthtoolkit.org/community/contributing/code/static-analysis/</guid><description>
&lt;h2>ESLint&lt;span class="hx-absolute -hx-mt-20" id="eslint">&lt;/span>
&lt;a href="#eslint" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>All code must pass an eslint check which runs early in the CI cycle and uses the &lt;a href="https://github.com/medic/eslint-config" target="_blank" rel="noopener">standard Medic ESLint configuration&lt;/a>.&lt;/p>
&lt;h3>Linting&lt;span class="hx-absolute -hx-mt-20" id="linting">&lt;/span>
&lt;a href="#linting" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>You should always lint your code locally before pushign it up the GitHub. Choose one of:&lt;/p>
&lt;ul>
&lt;li>ESLint has &lt;a href="https://eslint.org/docs/latest/use/integrations" target="_blank" rel="noopener">plugins/integrations&lt;/a> for many IDEs that will report linting issues in real-time.&lt;/li>
&lt;li>CHT Core has a script to run at the command line, by calling &lt;code>npm run lint&lt;/code> while in the &lt;code>cht-core&lt;/code> repository. Be sure you&amp;rsquo;ve run the &lt;a href="https://docs.communityhealthtoolkit.org/community/contributing/code/core/dev-environment" >Core dev setup first&lt;/a>! Note that the first time you run this it might be slow, as it needs to download and cache some files. Subsequent runs should be quite fast.&lt;/li>
&lt;/ul>
&lt;h2>Sonar&lt;span class="hx-absolute -hx-mt-20" id="sonar">&lt;/span>
&lt;a href="#sonar" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>&lt;a href="https://www.sonarsource.com/" target="_blank" rel="noopener">Sonar&lt;/a> static analysis supports development by providing feedback on code quality and security issues. Sonar analysis must pass on all &lt;em>new code&lt;/em>.&lt;/p>
&lt;p>&lt;a href="https://www.sonarsource.com/products/sonarcloud/" target="_blank" rel="noopener">SonarCloud&lt;/a> can be enabled on any public repo in the &lt;code>medic&lt;/code> organization.&lt;/p>
&lt;h3>Workflow&lt;span class="hx-absolute -hx-mt-20" id="workflow">&lt;/span>
&lt;a href="#workflow" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;h4>During development&lt;span class="hx-absolute -hx-mt-20" id="during-development">&lt;/span>
&lt;a href="#during-development" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>While writing code, the &lt;a href="https://www.sonarsource.com/products/sonarlint/" target="_blank" rel="noopener">SonarLint&lt;/a> plugin can be used to get real-time code analysis in your IDE. This is useful to avoid committing code with Sonar issues in the first place.&lt;/p>
&lt;h4>PR Analysis&lt;span class="hx-absolute -hx-mt-20" id="pr-analysis">&lt;/span>
&lt;a href="#pr-analysis" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>SonarCloud is integrated with the CHT GitHub repositories and runs on every pull request. The results are posted as a comment on the pull request. If the Sonar analysis fails the quality check, the pull request will be blocked from merging.&lt;/p>
&lt;h5>What should I do if Sonar finds an issue?&lt;span class="hx-absolute -hx-mt-20" id="what-should-i-do-if-sonar-finds-an-issue">&lt;/span>
&lt;a href="#what-should-i-do-if-sonar-finds-an-issue" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h5>&lt;p>When Sonar flags an issue with the code in your pull request, use this decision tree to determine the proper mitigation:&lt;/p>
&lt;ol>
&lt;li>If the issue is a genuine concern that should be addressed:
&lt;ol>
&lt;li>Fix it and push the updated code to your PR. The PR will automatically be unblocked once the Sonar analysis succeeds.&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>If the issue is a &amp;ldquo;false-positive&amp;rdquo; (i.e. Sonar has flagged some particular code as violating a rule, but it does not make sense to apply the rule in that context):
&lt;ol>
&lt;li>If the rule is one that should not be applied to any CHT code:
&lt;ol>
&lt;li>&lt;a href="#removing-a-rule" >Remove the rule&lt;/a> from the default Quality Profile.&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>If it does not make sense to apply the rule to this particular code, you can do one of the following:
&lt;ol>
&lt;li>Completely ignore Sonar issues &lt;a href="https://docs.sonarsource.com/sonarqube/latest/user-guide/issues/managing/" target="_blank" rel="noopener">on that line of code&lt;/a> by adding the &lt;code>// NOSONAR&lt;/code> comment to the end of the line.&lt;/li>
&lt;li>Completely ignore Sonar issues for &lt;a href="#ignoring-all-rules-for-a-block-of-code" >that block of code&lt;/a>.&lt;/li>
&lt;li>Update the &lt;code>.sonarcloud.properties&lt;/code> to &lt;a href="#ignoring-a-specific-rule-for-a-file" >ignore &lt;em>that rule&lt;/em> for that particular file&lt;/a>.&lt;/li>
&lt;li>Update the &lt;code>.sonarcloud.properties&lt;/code> to &lt;a href="#ignoring-all-rules-for-a-file" >ignore &lt;em>all rules&lt;/em> for that particular file&lt;/a> (useful if the file has been copied from an external dependency).&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;h3>Adding a new repo to SonarCloud&lt;span class="hx-absolute -hx-mt-20" id="adding-a-new-repo-to-sonarcloud">&lt;/span>
&lt;a href="#adding-a-new-repo-to-sonarcloud" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;ol>
&lt;li>Add a &lt;code>.sonarcloud.properties&lt;/code> file to the repository with your desired &lt;a href="#ignoring-all-rules-for-a-file" >repo-level configuration&lt;/a>.&lt;/li>
&lt;li>In the GitHub UI, navigate to the settings for the &lt;a href="https://github.com/organizations/medic/settings/installations" target="_blank" rel="noopener">&lt;code>medic&lt;/code> org &amp;gt; Third-party Access &amp;gt; GitHub Apps&lt;/a>&lt;/li>
&lt;li>Find SonarCloud and click the &lt;code>Configure&lt;/code> button.&lt;/li>
&lt;li>In the Repository access section, select your desired repository from the drop-down and click &lt;code>Save&lt;/code>.&lt;/li>
&lt;li>You will be automatically redirected to the SonarCloud UI where you can configure the repo-level settings.&lt;/li>
&lt;li>Use the &lt;code>+&lt;/code> button and choose &lt;code>Analyze new project&lt;/code>.&lt;/li>
&lt;li>Select the repo from the list and click &lt;code>Set Up&lt;/code>.&lt;/li>
&lt;li>In the SonarCloud configuration, &lt;a href="https://github.com/medic/cht-sync/pull/68#issuecomment-1935677776" target="_blank" rel="noopener">disable summary comments in GitHub PRs&lt;/a>.&lt;/li>
&lt;/ol>
&lt;h4>New Code Definition&lt;span class="hx-absolute -hx-mt-20" id="new-code-definition">&lt;/span>
&lt;a href="#new-code-definition" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>When setting up a new repository in SonarCloud, you will be asked to define what is considered to be &amp;ldquo;new code&amp;rdquo;. This is used to determine which code in the default branch is considered &amp;ldquo;new&amp;rdquo; (affects reporting of issues, etc). The new code definition is not applied to Sonar analysis of a PR. In that case, only the changes in the PR are considered &amp;ldquo;new&amp;rdquo;.&lt;/p>
&lt;p>Consult &lt;a href="https://docs.sonarsource.com/sonarqube-cloud/standards/about-new-code/" target="_blank" rel="noopener">the documentation&lt;/a> for more details on the options available. For projects that do not use Gradle or Maven for version management, the &lt;code>Number of days&lt;/code> option is recommended (since &lt;code>Previous version&lt;/code> would require maintaining a version number in the &lt;code>.sonarcloud.properties&lt;/code> file).&lt;/p>
&lt;p>If you are using the &lt;code>CHT Way&lt;/code> quality gate (or a similar zero-tolerance quality gate) it is recommended to set &lt;code>Number of days = 1&lt;/code>. With a zero-tolerance quality gate, only issue-free code can be merged to the default branch. So, there is no need to check for issues accumulated over time. Also, having a higher &lt;code>Number of days&lt;/code> opens up a greater opportunity for Sonar to introduce a &lt;em>new rule&lt;/em> that will fail some code previously added to the default branch (code that is only included in the latest analysis because of the configured &lt;code>Number of days&lt;/code>).&lt;/p>
&lt;h3>Sonar Configuration&lt;span class="hx-absolute -hx-mt-20" id="sonar-configuration">&lt;/span>
&lt;a href="#sonar-configuration" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Broadly speaking, Sonar configuration is separated into repo-level and org-level configuration.&lt;/p>
&lt;h4>Repo-level configuration&lt;span class="hx-absolute -hx-mt-20" id="repo-level-configuration">&lt;/span>
&lt;a href="#repo-level-configuration" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>Each repository can include a &lt;code>.sonarcloud.properties&lt;/code> file in the root directory.&lt;/p>
&lt;p>This file must specify the path to the source code in the repository as well as which source files should be considered to be test code. See &lt;a href="https://docs.sonarsource.com/sonarqube-cloud/managing-your-projects/project-analysis/setting-analysis-scope/introduction/" target="_blank" rel="noopener">the documentation&lt;/a> for more details.&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-properties" data-lang="properties">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Path to sources&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">sonar.sources&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Can have multiple comma-separated entries&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">sonar.exclusions&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">**/test*/**/*&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Path to tests&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">sonar.tests&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Can have multiple comma-separated entries&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">sonar.test.inclusions&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">**/test*/**/*&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Additionally, the &lt;code>.sonarcloud.properties&lt;/code> file can contain configuration regarding ignoring certain rules.&lt;/p>
&lt;h5>Ignoring all rules for a block of code&lt;span class="hx-absolute -hx-mt-20" id="ignoring-all-rules-for-a-block-of-code">&lt;/span>
&lt;a href="#ignoring-all-rules-for-a-block-of-code" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h5>&lt;p>You can ignore all the rules for a block of code by telling Sonar to &lt;a href="https://docs.sonarsource.com/sonarqube-cloud/managing-your-projects/project-analysis/setting-analysis-scope/advanced-exclusions/" target="_blank" rel="noopener">ignore the block&lt;/a>. First, make sure your &lt;code>.sonarcloud.properties&lt;/code> file has the following configuration:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-properties" data-lang="properties">&lt;span class="line">&lt;span class="cl">&lt;span class="na">sonar.issue.ignore.block&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">e1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">sonar.issue.ignore.block.e1.beginBlockRegexp&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">NOSONAR_BEGIN&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">sonar.issue.ignore.block.e1.endBlockRegexp&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">NOSONAR_END&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Then simply put &lt;code>//NOSONAR_BEGIN&lt;/code> before the block to ignore and &lt;code>//NOSONAR_END&lt;/code> after the block.&lt;/p>
&lt;h5>Ignoring all rules for a file&lt;span class="hx-absolute -hx-mt-20" id="ignoring-all-rules-for-a-file">&lt;/span>
&lt;a href="#ignoring-all-rules-for-a-file" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h5>&lt;p>Use the following properties to completely ignore all rules for one or more files:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-properties" data-lang="properties">&lt;span class="line">&lt;span class="cl">&lt;span class="na">sonar.issue.ignore.allfile&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">r1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">sonar.issue.ignore.allfile.r1.fileRegexp&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">**/openrosa2html5form.xsl&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h5>Ignoring a specific rule for a file&lt;span class="hx-absolute -hx-mt-20" id="ignoring-a-specific-rule-for-a-file">&lt;/span>
&lt;a href="#ignoring-a-specific-rule-for-a-file" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h5>&lt;p>Use the following properties to ignore a specific rule for one or more files:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-properties" data-lang="properties">&lt;span class="line">&lt;span class="cl">&lt;span class="na">sonar.issue.ignore.multicriteria&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">e1,e2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">sonar.issue.ignore.multicriteria.e1.ruleKey&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">javascript:S6582&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">sonar.issue.ignore.multicriteria.e1.resourceKey&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">**/auth.js&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">sonar.issue.ignore.multicriteria.e2.ruleKey&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">javascript:S2699&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">sonar.issue.ignore.multicriteria.e2.resourceKey&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">**/config.js&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h4>Org-level configuration&lt;span class="hx-absolute -hx-mt-20" id="org-level-configuration">&lt;/span>
&lt;a href="#org-level-configuration" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>Organization-level configuration must be made by an authorized user in the &lt;a href="https://sonarcloud.io/projects" target="_blank" rel="noopener">SonarCloud UI&lt;/a>.&lt;/p>
&lt;h5>Quality Gates&lt;span class="hx-absolute -hx-mt-20" id="quality-gates">&lt;/span>
&lt;a href="#quality-gates" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h5>&lt;p>Quality gates are used to define the criteria that must be met for a Sonar analysis to be considered &amp;ldquo;passing&amp;rdquo;. The &lt;a href="https://docs.sonarcloud.io/improving/quality-gates/#how-quality-gates-are-defined" target="_blank" rel="noopener">&lt;code>Sonar way&lt;/code> quality gate&lt;/a> provides an example of a useful configuration. However, this gate config is not ideal for CHT code. Instead, the default quality gate for the &lt;code>Medic&lt;/code> organization is the &lt;code>CHT Way&lt;/code>. It has the following &lt;a href="https://docs.sonarsource.com/sonarqube/latest/user-guide/metric-definitions/" target="_blank" rel="noopener">metrics&lt;/a>:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Metric&lt;/th>
&lt;th>Operator&lt;/th>
&lt;th>Value&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Duplicated Lines (%)&lt;/td>
&lt;td>is greater than&lt;/td>
&lt;td>6.0%&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Issues&lt;/td>
&lt;td>is greater than&lt;/td>
&lt;td>0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Reliability Rating&lt;/td>
&lt;td>is worse than&lt;/td>
&lt;td>A&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Security Hotspots Reviewed&lt;/td>
&lt;td>is less than&lt;/td>
&lt;td>100%&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Security Rating&lt;/td>
&lt;td>is worse than&lt;/td>
&lt;td>A&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h5>Quality Profiles&lt;span class="hx-absolute -hx-mt-20" id="quality-profiles">&lt;/span>
&lt;a href="#quality-profiles" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h5>&lt;p>The quality profiles are the lists of rules that will be applied for the various supported languages. By default, we use the &lt;code>Sonar Way&lt;/code> quality profile for each language as it provides sensible defaults and is actively maintained receiving updates with new rules and bug fixes as they are added to Sonar.&lt;/p>
&lt;h6>Modifying rule parameters&lt;span class="hx-absolute -hx-mt-20" id="modifying-rule-parameters">&lt;/span>
&lt;a href="#modifying-rule-parameters" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h6>&lt;p>To modify a rule parameter (e.g. change the allowed level of complexity for a function &lt;a href="https://rules.sonarsource.com/javascript/RSPEC-3776/" target="_blank" rel="noopener">according to &lt;code>javascript:S3776&lt;/code>&lt;/a>):&lt;/p>
&lt;ol>
&lt;li>Open a cht-docs PR to record your rule modification in the list below. This allows us to track the history of rule changes and record for posterity the discussions about them.&lt;/li>
&lt;li>If not already using a custom quality profile, use the SonarCloud UI to create one that &lt;em>extends&lt;/em> the &lt;code>Sonar Way&lt;/code> profile.
&lt;ol>
&lt;li>Make sure to set the new quality profile as the default for that language, if desired.&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>Open the rule in question in the SonarCloud UI and use the &lt;code>Change&lt;/code> button associated with your quality profile to set your custom parameter value for the rule.&lt;/li>
&lt;/ol>
&lt;h6>Adding a rule&lt;span class="hx-absolute -hx-mt-20" id="adding-a-rule">&lt;/span>
&lt;a href="#adding-a-rule" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h6>&lt;p>To include a new rule in the code analysis, add it to the quality profile:&lt;/p>
&lt;ol>
&lt;li>Open a cht-docs PR to record your rule addition in the list below. This allows us to track the history of rule changes and record for posterity the discussions about them.&lt;/li>
&lt;li>If not already using a custom quality profile, use the SonarCloud UI to create one that &lt;em>extends&lt;/em> the &lt;code>Sonar Way&lt;/code> profile.
&lt;ol>
&lt;li>Make sure to set the new quality profile as the default for that language, if desired.&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>Open the rule in question in the SonarCloud UI and use the &lt;code>Activate&lt;/code> button to activate the rule in your quality profile&lt;/li>
&lt;/ol>
&lt;h6>Removing a rule&lt;span class="hx-absolute -hx-mt-20" id="removing-a-rule">&lt;/span>
&lt;a href="#removing-a-rule" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h6>&lt;p>Removing a rule should only be done as a last resort. It is not possible to remove a rule inherited from the &lt;code>Sonar Way&lt;/code> profile while at the same time still &lt;em>extending&lt;/em> that profile. So, future updates to the &lt;code>Sonar Way&lt;/code> profile will not be applied to your custom profile after a rule has been removed.&lt;/p>
&lt;ol>
&lt;li>Open a cht-docs PR to record your rule removal in the list below. This allows us to track the history of rule changes and record for posterity the discussions about them.&lt;/li>
&lt;li>If not already using a custom quality profile, use the SonarCloud UI to &lt;em>copy&lt;/em> (not extend) the &lt;code>Sonar Way&lt;/code> profile into a new profile.
&lt;ol>
&lt;li>Make sure to set the new quality profile as the default for that language, if desired.&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>Open the rule in question in the SonarCloud UI and use the &lt;code>Activate&lt;/code> button to activate the rule in your quality profile&lt;/li>
&lt;/ol>
&lt;h6>Custom CHT Quality Profiles&lt;span class="hx-absolute -hx-mt-20" id="custom-cht-quality-profiles">&lt;/span>
&lt;a href="#custom-cht-quality-profiles" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h6>&lt;p>Java:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>CHT Way&lt;/strong> &lt;em>(default)&lt;/em> extends &lt;strong>Sonar Way&lt;/strong>
&lt;ul>
&lt;li>Modified:
&lt;ul>
&lt;li>&lt;a href="https://rules.sonarsource.com/javascript/RSPEC-107/" target="_blank" rel="noopener">&lt;code>S107&lt;/code>&lt;/a> - Functions should not have too many parameters
&lt;ul>
&lt;li>&lt;code>threshold&lt;/code> 7 -&amp;gt; 4&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="https://rules.sonarsource.com/javascript/RSPEC-3776/" target="_blank" rel="noopener">&lt;code>S3776&lt;/code>&lt;/a> - Cognitive Complexity of functions should not be too high
&lt;ul>
&lt;li>&lt;code>threshold&lt;/code> 15 -&amp;gt; 5&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>JavaScript:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>CHT Way&lt;/strong> &lt;em>(default)&lt;/em> extends &lt;strong>Sonar Way&lt;/strong>
&lt;ul>
&lt;li>Modified:
&lt;ul>
&lt;li>&lt;a href="https://rules.sonarsource.com/javascript/RSPEC-107/" target="_blank" rel="noopener">&lt;code>S107&lt;/code>&lt;/a> - Functions should not have too many parameters
&lt;ul>
&lt;li>&lt;code>threshold&lt;/code> 7 -&amp;gt; 4&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="https://rules.sonarsource.com/javascript/RSPEC-3776/" target="_blank" rel="noopener">&lt;code>S3776&lt;/code>&lt;/a> - Cognitive Complexity of functions should not be too high
&lt;ul>
&lt;li>&lt;code>threshold&lt;/code> 15 -&amp;gt; 5&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Disabled
&lt;ul>
&lt;li>&lt;a href="https://rules.sonarsource.com/javascript/RSPEC-2699/" target="_blank" rel="noopener">&lt;code>S2699&lt;/code>&lt;/a> - Tests should include assertions
&lt;ul>
&lt;li>Disabled due of rigidity of the rule when detecting &lt;code>expect&lt;/code> imports and calls to imported functions that have assertions&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>Python:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>CHT Way&lt;/strong> &lt;em>(default)&lt;/em> extends &lt;strong>Sonar Way&lt;/strong>
&lt;ul>
&lt;li>Modified:
&lt;ul>
&lt;li>&lt;a href="https://rules.sonarsource.com/javascript/RSPEC-107/" target="_blank" rel="noopener">&lt;code>S107&lt;/code>&lt;/a> - Functions should not have too many parameters
&lt;ul>
&lt;li>&lt;code>threshold&lt;/code> 7 -&amp;gt; 4&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="https://rules.sonarsource.com/javascript/RSPEC-3776/" target="_blank" rel="noopener">&lt;code>S3776&lt;/code>&lt;/a> - Cognitive Complexity of functions should not be too high
&lt;ul>
&lt;li>&lt;code>threshold&lt;/code> 15 -&amp;gt; 5&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>TypeScript:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>CHT Way&lt;/strong> &lt;em>(default)&lt;/em> extends &lt;strong>Sonar Way&lt;/strong>
&lt;ul>
&lt;li>Modified:
&lt;ul>
&lt;li>&lt;a href="https://rules.sonarsource.com/javascript/RSPEC-107/" target="_blank" rel="noopener">&lt;code>S107&lt;/code>&lt;/a> - Functions should not have too many parameters
&lt;ul>
&lt;li>&lt;code>threshold&lt;/code> 7 -&amp;gt; 4&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="https://rules.sonarsource.com/javascript/RSPEC-3776/" target="_blank" rel="noopener">&lt;code>S3776&lt;/code>&lt;/a> - Cognitive Complexity of functions should not be too high
&lt;ul>
&lt;li>&lt;code>threshold&lt;/code> 15 -&amp;gt; 5&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul></description></item><item><title>Design Documents Guide</title><link>https://docs.communityhealthtoolkit.org/community/contributing/code/design-docs/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.communityhealthtoolkit.org/community/contributing/code/design-docs/</guid><description>
&lt;h2>What are design docs?&lt;span class="hx-absolute -hx-mt-20" id="what-are-design-docs">&lt;/span>
&lt;a href="#what-are-design-docs" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Software development is not just about writing code, but rather about solving problems and building the right solutions. Before diving into an initiative or feature and starting coding, it’s essential that the developers (and other team members) have a high-level understanding of what a solution might look like.&lt;/p>
&lt;p>Design docs are informal documents that the leading developer of a certain piece of software creates before they start the actual coding of a solution. The design doc contains high-level technical design decisions and alternatives that were considered when making those decisions.&lt;/p>
&lt;h2>Why write design docs?&lt;span class="hx-absolute -hx-mt-20" id="why-write-design-docs">&lt;/span>
&lt;a href="#why-write-design-docs" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Besides being an excellent way of documenting software design, design docs come with several additional benefits:&lt;/p>
&lt;ul>
&lt;li>Involve the team early and get feedback before implementation, after which changes are more difficult.&lt;/li>
&lt;li>Identify solution concerns and issues rapidly, as making changes to a solution in the design phase is faster.&lt;/li>
&lt;li>Provide a fantastic way to document technical decisions, which benefits the team, the community, and future contributors.&lt;/li>
&lt;li>Ensure the consideration of alternative solutions, assumptions and eventual constraints.&lt;/li>
&lt;li>Achieve consensus in the team around the design and get everyone on the same page.&lt;/li>
&lt;/ul>
&lt;h2>What could a design doc contain?&lt;span class="hx-absolute -hx-mt-20" id="what-could-a-design-doc-contain">&lt;/span>
&lt;a href="#what-could-a-design-doc-contain" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>The design doc can be added to the GitHub issue related to the feature or initiative to be implemented or in a Google Doc.&lt;/p>
&lt;p>The list below contains a non-exhaustive list of items a design doc could cover.&lt;/p>
&lt;h4>Context&lt;span class="hx-absolute -hx-mt-20" id="context">&lt;/span>
&lt;a href="#context" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>An overview of the context in which the piece of software is being built and what is actually being built. It&amp;rsquo;s important to keep this section succinct as it&amp;rsquo;s only meant to bring the readers up to speed with the background facts.&lt;/p>
&lt;h4>Goals and scope&lt;span class="hx-absolute -hx-mt-20" id="goals-and-scope">&lt;/span>
&lt;a href="#goals-and-scope" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>A short list of what the goals of the piece of software are, and, very importantly, what is out of scope. The out of scope items are explicitly chosen not to be goals, as for example &amp;ldquo;FHIR compliance of the API&amp;rdquo;. Note that a solution could cover out of scope items, as long as it doesn’t introduce trade-offs that prevent achieving the goals.&lt;/p>
&lt;h4>Proposed solution&lt;span class="hx-absolute -hx-mt-20" id="proposed-solution">&lt;/span>
&lt;a href="#proposed-solution" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>The details of the solution that was chosen for implementation. This flexible-format section can contain how the developer envisions to code the solution, diagrams, sample code, pseudo-code, security considerations, and references to similar solutions or frameworks to be used. It&amp;rsquo;s important that this section explains why this particular solution best satisfies the goals.&lt;/p>
&lt;h4>Alternative solutions considered&lt;span class="hx-absolute -hx-mt-20" id="alternative-solutions-considered">&lt;/span>
&lt;a href="#alternative-solutions-considered" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>A list of alternative designs that would have achieved similar outcomes, together with the trade-offs that each respective design makes and how those trade-offs led to the decision to select the proposed solution.&lt;/p>
&lt;h4>Assumptions&lt;span class="hx-absolute -hx-mt-20" id="assumptions">&lt;/span>
&lt;a href="#assumptions" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>A description of the assumptions made, for example user interface design or general system characteristics (e.g. operating systems).&lt;/p>
&lt;h4>Constraints&lt;span class="hx-absolute -hx-mt-20" id="constraints">&lt;/span>
&lt;a href="#constraints" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>These can include constraints such as security, scalability, or performance.&lt;/p>
&lt;h4>Open questions&lt;span class="hx-absolute -hx-mt-20" id="open-questions">&lt;/span>
&lt;a href="#open-questions" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>Any open issues that you aren’t sure about, or suggested future work.&lt;/p>
&lt;p>&lt;a href="https://docs.google.com/document/d/1bR3jygKQvfIK1CkRaplxz4LyXQqgO21MTjy8Jsd6s6c/edit?usp=sharing" target="_blank" rel="noopener">This example&lt;/a> shows how a design doc could look like.&lt;/p>
&lt;div class="hx-overflow-x-auto hx-mt-6 hx-flex hx-flex-col hx-rounded-lg hx-border hx-py-4 hx-px-4 contrast-more:hx-border-current contrast-more:dark:hx-border-current hx-border-green-200 hx-bg-green-100 hx-text-green-900 dark:hx-border-green-200/30 dark:hx-bg-green-900/30 dark:hx-text-green-200">
&lt;p class="hx-flex hx-items-center hx-font-medium">&lt;svg height=16px class="hx-inline-block hx-align-middle hx-mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>&lt;/svg>Tips&lt;/p>
&lt;div class="hx-w-full hx-min-w-0 hx-leading-7">
&lt;div class="hx-mt-6 hx-leading-7 first:hx-mt-0">&lt;ul>
&lt;li>Keep it simple and concise, write just enough documentation. Design docs should be sufficiently detailed but succinct enough to actually be read by busy people.&lt;/li>
&lt;li>Be clear: Don&amp;rsquo;t use unnecessarily complicated language and simplify whenever you can.&lt;/li>
&lt;li>Make important points stand out (for example, in bold letters).&lt;/li>
&lt;/ul>&lt;/div>
&lt;/div>
&lt;/div>
&lt;h2>When not to write a design doc&lt;span class="hx-absolute -hx-mt-20" id="when-not-to-write-a-design-doc">&lt;/span>
&lt;a href="#when-not-to-write-a-design-doc" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Writing design docs takes time and energy. When deciding to whether write a design doc or not, it&amp;rsquo;s essential to reflect on the core trade-off of whether the benefits in the alignment around technical design, documentation, senior review, outweigh the extra work of actually creating the doc. If a doc basically says &amp;ldquo;This is how I am going to implement this feature&amp;rdquo; without going into trade-offs, alternatives, and explaining decision making (or if the solution is so obvious that there were no trade-offs), then it would probably have been a better idea to write the actual code right away instead of going through the effort of putting together a design doc.&lt;/p>
&lt;p>Often, the overhead of creating and reviewing a design doc may not be compatible with prototyping and fast iteration. If &amp;ldquo;you tried it out and it worked&amp;rdquo;, it might mean that you already have a solution that&amp;rsquo;s worth pursuing without having to write a document. However, it&amp;rsquo;s important to remember that subscribing to agile methodologies and fast iteration is not an excuse for not taking the time to get solutions to known problems right.&lt;/p>
&lt;h2>How to review a design doc?&lt;span class="hx-absolute -hx-mt-20" id="how-to-review-a-design-doc">&lt;/span>
&lt;a href="#how-to-review-a-design-doc" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>When added as a design doc reviewer, there are some details about the problem to solve that should be clear to you after reading the content of the doc, and also some questions you should ask before giving your sign off:&lt;/p>
&lt;ul>
&lt;li>What problem is this initiative solving? How will we know it will work?&lt;/li>
&lt;li>Are there any risky pieces? How are they handled?&lt;/li>
&lt;li>Are there any non-obvious edge cases?&lt;/li>
&lt;li>What are the key technical decisions? What are the tradeoffs being made as a result of these decisions?&lt;/li>
&lt;li>Is there any information you are aware of which the writer may not have known?&lt;/li>
&lt;li>Have you seen a similar solution (successful or not) used before?&lt;/li>
&lt;li>What external systems does this initiative interact with?&lt;/li>
&lt;li>Does it follow current good practices and patterns? Does it fit into the long-term direction? Does it create tech debt?&lt;/li>
&lt;/ul>
&lt;div class="hx-overflow-x-auto hx-mt-6 hx-flex hx-rounded-lg hx-border hx-py-2 ltr:hx-pr-4 rtl:hx-pl-4 contrast-more:hx-border-current contrast-more:dark:hx-border-current hx-border-orange-100 hx-bg-orange-50 hx-text-orange-800 dark:hx-border-orange-400/30 dark:hx-bg-orange-400/20 dark:hx-text-orange-300">
&lt;div class="ltr:hx-pl-3 ltr:hx-pr-2 rtl:hx-pr-3 rtl:hx-pl-2">&lt;/div>
&lt;div class="hx-w-full hx-min-w-0 hx-leading-7">
&lt;div class="hx-mt-6 hx-leading-7 first:hx-mt-0">This policy was inspired by &lt;a href="https://www.industrialempathy.com/posts/design-docs-at-google/" target="_blank" rel="noopener">Design docs guidelines at Google&lt;/a> and &lt;a href="https://medium.com/free-code-camp/how-to-write-a-good-software-design-document-66fcf019569c" target="_blank" rel="noopener">How to write a good software design doc&lt;/a>.&lt;/div>
&lt;/div>
&lt;/div></description></item><item><title>Quality Assistance</title><link>https://docs.communityhealthtoolkit.org/community/contributing/code/quality-assistance/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.communityhealthtoolkit.org/community/contributing/code/quality-assistance/</guid><description>
&lt;h2>Goals&lt;span class="hx-absolute -hx-mt-20" id="goals">&lt;/span>
&lt;a href="#goals" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ol>
&lt;li>Software developers should have full ownership of what they are building, including quality.&lt;/li>
&lt;li>The team still benefits from having the QA engineering mindset of QA engineers.&lt;/li>
&lt;li>QA engineers automate more tests and processes.&lt;/li>
&lt;/ol>
&lt;h2>In Short&lt;span class="hx-absolute -hx-mt-20" id="in-short">&lt;/span>
&lt;a href="#in-short" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>A software developer writes code and performs testing on that code where a QA engineer assists by recommending tests to perform and adding additional end-to-end tests.&lt;/p>
&lt;h2>In Detail&lt;span class="hx-absolute -hx-mt-20" id="in-detail">&lt;/span>
&lt;a href="#in-detail" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>A developer should be able to write code and release it when done. Doing that without testing would be reckless and it is expected that the developer also tests their code. The team wants both speed and quality where the former should not be done without the latter. This means slowing down a bit to make sure it’s right and checking your work when developing before it is done/reviewed/merged.&lt;/p>
&lt;p>It isn’t always easy to test your own code though and it is common for a developer to have a happy-path mindset, more suited for thinking about what to build rather than how something might break. Fortunately there are QA engineers on the team who have the skills to think about the solution from the perspective of what might break.&lt;/p>
&lt;p>It’s worth noting that the team also requires code reviews via GitHub pull requests. The intention of code reviews is not for the reviewer to test the code. The reviewer may optionally also do that, but it is expected that the author of the code has tested it fully before requesting a code review.&lt;/p>
&lt;p>Once code is done, tested (by the developer) and reviewed, it is ready to merge and the developer can do so&amp;hellip; almost (see &lt;a href="#getting-there-in-milestones" >Getting There in Milestones&lt;/a>).&lt;/p>
&lt;h2>Getting There in Milestones&lt;span class="hx-absolute -hx-mt-20" id="getting-there-in-milestones">&lt;/span>
&lt;a href="#getting-there-in-milestones" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>The aim is to get to a place where the developer of a change can do everything and merge without needing any extra permission. To make the process safer in getting to the final step, several parts will be followed. A process similar to what’s described &lt;a href="#in-detail" >In Detail&lt;/a> is followed, while retaining an “AT” step similar to what the current process.&lt;/p>
&lt;p>The big difference to that AT step though will be the depth in which it is performed. Rather than being a single exhaustive step where all testing is performed, it will be more like a smoke test where a QA engineer gets a little extra creative in testing.&lt;/p>
&lt;p>There may still be cases of a ticket getting coded up totally unrelated to bigger initiative work, perhaps even unannounced to anyone. For work like this the traditional AT step is still appropriate for now. Still though, it is preferred for the software developer to get a QA engineer involved as early as possible; it helps us get the best contributions from everyone.&lt;/p>
&lt;h2>An Example of QA Assistance in Practice&lt;span class="hx-absolute -hx-mt-20" id="an-example-of-qa-assistance-in-practice">&lt;/span>
&lt;a href="#an-example-of-qa-assistance-in-practice" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Imagine a scenario where a community member or a squad is going to change the display of the targets screen. The group would discuss the needs of the users and work out solutions, where the selected solution was to make this change. This discussion could involve project managers, designers, developers, and QA engineers. The developer would be thinking about how to code the proposed solution and the QA engineer would be considering that as well as what might go wrong.&lt;/p>
&lt;p>In the case where a UI change is being made, a design will be created. At this point the group can see what is to be built. When meeting and discussing the user interactions with the designer the QA engineer can get some early ideas around test scenarios.&lt;/p>
&lt;p>As code is written and pushed to a branch the QA engineer and developer talk about what is changing. Any misconceptions are cleared up and the QA engineer can start to assist the developer by pointing out areas that may be important or non-obvious to test. This could be as simple as noting challenges of different screen sizes or as complex as specific configurations that may need extra attention for how targets work.&lt;/p>
&lt;p>That conversation (ideally multiple of these) is the “assistance”. It’s where the value of the QA engineering mindset is achieved. The developer still owns and tests their work; they just have a QA engineer to talk to so they can feel confident in their own testing.&lt;/p>
&lt;p>Depending on the change the developer may work with the QA engineer where the QA engineer can contribute some automated end-to-end testing to the branch. Things should feel collaborative and not a division of labor or handing things off.&lt;/p>
&lt;p>Once the developer has finished writing the code they test it a bit more and open a PR for a code review. The reviewer should be able to review the code with an assumption that it is well-tested already and the focus of the review can be around the code and implementation choices.&lt;/p>
&lt;p>If any changes need to be made during the review process, the developer makes those changes and re-executes any relevant testing.&lt;/p>
&lt;p>At this point the ideal action to take would be that the developer merges the finished code and no AT step happens, as the quality is already baked in from the start and throughout. This is the ideal setup yet to be achieved. Here the ticket still goes to AT, but for a smaller last bit of smoke testing. Notice that it is not an exhaustive set of tests, it is a small bit of extra poking around by a QA engineer. This limited testing is possible because the developer said it is done, and they said that because they tested it, and they had a QA engineer assist them to reach that level of confidence in their own testing.&lt;/p>
&lt;p>The last part here is to merge it. That extra poking around should be quick, so the developer should be ready to click the green button soon!&lt;/p>
&lt;h2>FAQ&lt;span class="hx-absolute -hx-mt-20" id="faq">&lt;/span>
&lt;a href="#faq" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;details class="last-of-type:hx-mb-0 hx-rounded-lg hx-bg-neutral-50 dark:hx-bg-neutral-800 hx-p-2 hx-mt-4 hx-group" open>
&lt;summary class="hx-flex hx-items-center hx-cursor-pointer hx-select-none hx-list-none hx-p-1 hx-rounded hx-transition-colors hover:hx-bg-gray-100 dark:hover:hx-bg-neutral-800 before:hx-mr-1 before:hx-inline-block before:hx-transition-transform before:hx-content-[''] dark:before:hx-invert rtl:before:hx-rotate-180 group-open:before:hx-rotate-90">
&lt;strong class="hx-text-lg">Who checks if the right thing got built?&lt;/strong>
&lt;/summary>
&lt;div class="hx-p-2 hx-overflow-hidden">
The community/squad members should be aware of what’s being built, why, and if it’s coming together as expected. That’s not to be solely delegated to a QA engineer to do. Developers should be working with the community and showing their work (demos, screenshots, etc). This should feel like a team collaborating to build useful working software, not an assembly line of disassociated parts.
&lt;/div>
&lt;/details>
&lt;details class="last-of-type:hx-mb-0 hx-rounded-lg hx-bg-neutral-50 dark:hx-bg-neutral-800 hx-p-2 hx-mt-4 hx-group" open>
&lt;summary class="hx-flex hx-items-center hx-cursor-pointer hx-select-none hx-list-none hx-p-1 hx-rounded hx-transition-colors hover:hx-bg-gray-100 dark:hover:hx-bg-neutral-800 before:hx-mr-1 before:hx-inline-block before:hx-transition-transform before:hx-content-[''] dark:before:hx-invert rtl:before:hx-rotate-180 group-open:before:hx-rotate-90">
&lt;strong class="hx-text-lg">What if a developer is bad at testing?&lt;/strong>
&lt;/summary>
&lt;div class="hx-p-2 hx-overflow-hidden">
That’s something to improve, not outsource to someone else. Even still, the QA engineer isn’t disappearing and they will still offer deeper advice on what tests the developer should perform.
&lt;/div>
&lt;/details>
&lt;details class="last-of-type:hx-mb-0 hx-rounded-lg hx-bg-neutral-50 dark:hx-bg-neutral-800 hx-p-2 hx-mt-4 hx-group" open>
&lt;summary class="hx-flex hx-items-center hx-cursor-pointer hx-select-none hx-list-none hx-p-1 hx-rounded hx-transition-colors hover:hx-bg-gray-100 dark:hover:hx-bg-neutral-800 before:hx-mr-1 before:hx-inline-block before:hx-transition-transform before:hx-content-[''] dark:before:hx-invert rtl:before:hx-rotate-180 group-open:before:hx-rotate-90">
&lt;strong class="hx-text-lg">What will QA engineers do if not doing manual acceptance testing?&lt;/strong>
&lt;/summary>
&lt;div class="hx-p-2 hx-overflow-hidden">
Automating more. That can be in more end-to-end tests for better regression testing, automating mobile device testing, adding better structures to enable the whole team to automate better, improving CI pipeline, etc.
&lt;/div>
&lt;/details></description></item></channel></rss>