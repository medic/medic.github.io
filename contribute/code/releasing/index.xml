<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Community Health Toolkit â€“ Releasing</title><link>https://docs.communityhealthtoolkit.org/contribute/code/releasing/</link><description>Recent content in Releasing on Community Health Toolkit</description><generator>Hugo -- gohugo.io</generator><atom:link href="https://docs.communityhealthtoolkit.org/contribute/code/releasing/index.xml" rel="self" type="application/rss+xml"/><item><title>Contribute: Feature Releases</title><link>https://docs.communityhealthtoolkit.org/contribute/code/releasing/feature_releases/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.communityhealthtoolkit.org/contribute/code/releasing/feature_releases/</guid><description>
&lt;p>To build and iterate on new features at a pace that is faster than our regular release cycle, some features are released in a &lt;em>Feature Release&lt;/em>. Feature Releases (FRs) are based on the most recent release and only include improvements related to a feature being developed. These releases are tested to be production-ready so that new features can be studied with CHT partners in a live deployment, with the aim of getting the feature ready for wider use in an upcoming release.&lt;/p>
&lt;h2 id="release-names">Release names&lt;/h2>
&lt;p>A Feature Release can easily be identified by its version, which follows the pattern of &lt;code>{BASE-RELEASE-NUMBER}-FR-{FEATURE-NAME}&lt;/code>. For example, if the latest release is &lt;code>3.10.1&lt;/code> then the Feature Release for speedier upgrades would be &lt;code>3.10.1-FR-speedier-upgrades&lt;/code>. When this feature is found to be successful and ready for wider distribution it will be included in the next release.&lt;/p>
&lt;h2 id="initial-fr-installation">Initial FR Installation&lt;/h2>
&lt;h3 id="3x">3.x&lt;/h3>
&lt;p>When you are on a non-feature release, you need to use horticulturalist (horti) to do the initial install of the FR. For example, if your instance was running at &lt;code>192-168-68-26.my.local-ip.co:8443&lt;/code> and you wanted to install &lt;code>3.16.0-FR-offline-user-replace-beta.1&lt;/code>, after &lt;a href="https://github.com/medic/horticulturalist#usage">installing&lt;/a> &lt;code>horti&lt;/code> you could start the installation with this command:&lt;/p>
&lt;pre tabindex="0">&lt;code>COUCH_URL=https://medic:password@192-168-68-26.my.local-ip.co:8443/medic horti --local --install=3.16.0-FR-offline-user-replace-beta.1
&lt;/code>&lt;/pre>&lt;p>On subsequent upgrades to the later beta&amp;rsquo;s of the FR, you will be able to more easily do it through the admin UI in the CHT.&lt;/p>
&lt;h3 id="4x">4.x&lt;/h3>
&lt;p>As horticulturalist (horti) does not exist in CHT 4.x, the current way to upgrade an instance is to manually edit your compose file to have the correct version tag of the images. Find the CHT Core compose file and edit all 5 instances of the version tag for each image.&lt;/p>
&lt;p>For example, this &lt;code>image&lt;/code> is using the label &lt;code>4.0.1-4.0.1&lt;/code> (1 of 5 instances):&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">services&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">haproxy&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">public.ecr.aws/s5s3h4s7/cht-haproxy:4.0.1-4.0.1&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">restart&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">always&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">hostname&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">haproxy&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>If you wanted to install &lt;code>4.1.0-FR-supervisor-cwh-add-beta.1&lt;/code>, you would make it look like this:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">services&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">haproxy&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">public.ecr.aws/s5s3h4s7/cht-haproxy:4.1.0-FR-supervisor-cwh-add-beta.1&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">restart&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">always&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">hostname&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">haproxy&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>On subsequent upgrades to the later beta&amp;rsquo;s of the FR, you will be able to more easily do it through the admin UI in the CHT.&lt;/p>
&lt;h2 id="upgrades-to-release">Upgrades to release&lt;/h2>
&lt;p>Once the feature is ready for widespread use, it will be included in a regular &lt;a href="https://docs.communityhealthtoolkit.org/contribute/code/releasing/">CHT release&lt;/a>. Projects using the feature version can be upgraded as soon as practical to get back on to a fully supported release.&lt;/p></description></item></channel></rss>