<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Community Health Toolkit â€“ Android app development</title><link>https://docs.communityhealthtoolkit.org/apps/guides/android/</link><description>Recent content in Android app development on Community Health Toolkit</description><generator>Hugo -- gohugo.io</generator><language>en</language><atom:link href="https://docs.communityhealthtoolkit.org/apps/guides/android/index.xml" rel="self" type="application/rss+xml"/><item><title>Apps: Publishing</title><link>https://docs.communityhealthtoolkit.org/apps/guides/android/publishing/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.communityhealthtoolkit.org/apps/guides/android/publishing/</guid><description>
&lt;p>Once the flavor is &lt;a href="https://docs.communityhealthtoolkit.org/apps/guides/android/branding/">built&lt;/a> there are many different ways to publish the binaries for installation.&lt;/p>
&lt;h3 id="google-play-store">Google Play Store&lt;/h3>
&lt;p>The Play Store has the advantage of being installed on all Android phones by default. This makes it very easy for users to install your app, which makes it the approach we recommend for most applications.&lt;/p>
&lt;p>One of the downsides is it can be more difficult to get your app published and it may be removed in future if it&amp;rsquo;s found to not comply with future requirements.&lt;/p>
&lt;p>For this method you will need access to the organization&amp;rsquo;s play store console with permission to publish the app.&lt;/p>
&lt;p>In the &lt;a href="https://play.google.com/console">Google Play Console&lt;/a>, for each flavor to publish:&lt;/p>
&lt;ul>
&lt;li>Create a new &lt;code>Production&lt;/code> release&lt;/li>
&lt;li>Upload the &lt;code>arm64&lt;/code> app bundles (from the GitHub Release) for the flavor. If you plan on uploading multiple APKs, the APKs should have different version codes. Read more: &lt;a href="https://developer.android.com/google/play/publishing/multiple-apks#Rules">here&lt;/a>.&lt;/li>
&lt;li>Use the new cht-android version as the Release name&lt;/li>
&lt;li>Add a one sentence summary of the CHANGELOG entry as the Release notes.&lt;/li>
&lt;/ul>
&lt;p>For a more detailed explanation, follow this &lt;a href="https://support.google.com/googleplay/android-developer/answer/9859751?hl=en">doc&lt;/a>.&lt;/p>
&lt;div class="alert alert-primary" role="alert">
&lt;h4 class="alert-heading">Note&lt;/h4>
Published apps are not immediately available to users on the Play Store. Confirm, via the Google Play Console, that the release is available before officially announcing it (this could take hours or days).
&lt;/div>
&lt;h4 id="new-app-in-the-play-store">New App in the Play Store&lt;/h4>
&lt;p>Remember that when the app is created in the Play Store, it&amp;rsquo;s required to choose the way the app will be signed by Google: we upload the signed AAB files, but then Google creates optimized versions of the app in .apk format. The app has to be configured to use the same signing and upload signatures by Google. Choose to upload a &amp;ldquo;Java keystore&amp;rdquo;, the Play Console will require a file encrypted with a tool named PEPK, that file is &lt;code>&amp;lt;brand&amp;gt;_private_key.pepk&lt;/code> generated when following the instructions of &lt;a href="https://docs.communityhealthtoolkit.org/apps/guides/android/branding/">New brand&lt;/a> (the button to upload the &lt;code>.pepk&lt;/code> in the Play Console may say &amp;ldquo;Upload generated ZIP&amp;rdquo; although the PEPK file doesn&amp;rsquo;t look like a .zip file).&lt;/p>
&lt;div class="alert alert-primary" role="alert">
&lt;h4 class="alert-heading">Note&lt;/h4>
New apps cannot longer be uploaded with the APK format in the Play Store. Apps created before Aug 1, 2021 can still be updated with &lt;code>.apk&lt;/code> files, but new ones needs to be uploaded with the Android App Bundle format (&lt;code>.aab&lt;/code>). Checkout the &lt;a href="https://docs.communityhealthtoolkit.org/contribute/code/android/development-setup/#artifact-formats">Artifact formats&lt;/a> section.
&lt;/div>
&lt;h3 id="side-loading">Side loading&lt;/h3>
&lt;p>This method gives an app developer full control over installation. It is also possible to do the installation without an internet connection which makes it ideal for remote installation, or to save bandwidth when performing multiple installs.&lt;/p>
&lt;ol>
&lt;li>In the phone settings &lt;a href="https://developer.android.com/distribute/marketing-tools/alternative-distribution#unknown-sources">select the option&lt;/a> to &amp;ldquo;opt in for installing unknown apps&amp;rdquo;.&lt;/li>
&lt;li>Download the correct APK on to the phone. It&amp;rsquo;s important to select the right APK for the instruction set and Android version, as documented &lt;a href="https://docs.communityhealthtoolkit.org/contribute/code/android/development-setup/#apks">in this table&lt;/a>. This is likely easiest done by using the phone&amp;rsquo;s browser to navigate to the download page.&lt;/li>
&lt;li>After downloading, you should be prompted to install the APK.&lt;/li>
&lt;/ol>
&lt;h3 id="f-droid">F-Droid&lt;/h3>
&lt;p>F-Droid is a free open source application store which gives the app developer more control over the listing. As it isn&amp;rsquo;t installed on Android devices by default it takes a little more effort to set up originally, but is easier than manually sideloading.&lt;/p>
&lt;p>Read more about &lt;a href="https://medic.org/stories/using-f-droid-for-app-distribution-a-product-experiment/">Using F-Droid for app distribution&lt;/a>.&lt;/p>
&lt;h3 id="mobile-device-management">Mobile Device Management&lt;/h3>
&lt;p>Using mobile device management (MDM) software allows administrators to remotely manage mobile devices. This gives the IT administrator full control over which applications are installed on the devices, as well as having the option to delete apps and data from lost or stolen mobile devices. For this reason, using MDM software is highly recommended for deployments.&lt;/p>
&lt;p>There are many commercially available MDM tools to evaluate, with a wide range of features and prices. &lt;a href="https://workspace.google.com/intl/en_us/products/admin/endpoint/">Google Endpoint&lt;/a> is available for organizations using Google Workspace (formerly G Suite), and has free plans for non-profit organizations. Check out the &lt;a href="https://support.google.com/a/answer/1734200">Endpoint documentation overview&lt;/a> for more information, including &lt;a href="https://support.google.com/a/answer/7400753">how to enable mobile device management&lt;/a>, and &lt;a href="https://support.google.com/a/answer/173390">how to remotely wipe a device&lt;/a>.&lt;/p>
&lt;p>Other MDM providers include &lt;a href="https://h-mdm.com/">Headwind MDM&lt;/a> and &lt;a href="https://docs.microsoft.com/en-us/mem/intune/">Microsoft Intune&lt;/a>. It is recommended that you research MDM options and pick the one that&amp;rsquo;s right for you.&lt;/p>
&lt;h3 id="progressive-web-app">Progressive Web App&lt;/h3>
&lt;p>Another alternative is to install the CHT Core webapp as a Progressive Web App. This avoids building an Android application altogether. Read more on the &lt;a href="https://docs.communityhealthtoolkit.org/core/overview/pwa/">PWA page&lt;/a>.&lt;/p></description></item><item><title>Apps: Building CHT Android Flavors</title><link>https://docs.communityhealthtoolkit.org/apps/guides/android/branding/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.communityhealthtoolkit.org/apps/guides/android/branding/</guid><description>
&lt;div class="pageinfo pageinfo-primary">
&lt;p>This tutorial will take you through building a CHT Android Application off the existing wrapper.&lt;/p>
&lt;p>The CHT Android application is a thin wrapper to load the CHT Core Framework web application in a WebView.&lt;/p>
&lt;p>You will be adding a new android flavor based off the &lt;a href="https://github.com/medic/cht-android">CHT Android&lt;/a>.&lt;/p>
&lt;/div>
&lt;h2 id="brief-overview-of-key-concepts">Brief Overview of Key Concepts&lt;/h2>
&lt;p>The CHT Android is a native Android container for the Community Health Toolkit (CHT). The repository contains &amp;ldquo;flavored&amp;rdquo; configurations, where each &amp;ldquo;flavor&amp;rdquo; or &amp;ldquo;brand&amp;rdquo; is an app. All apps share the same code and features, but can be customized, hard-coding a specific CHT deployment and have a partner specific logo and display name.&lt;/p>
&lt;h2 id="add-a-new-brand">Add a new Brand&lt;/h2>
&lt;p>Adding a new &lt;em>&amp;ldquo;brand&amp;rdquo;&lt;/em> or &lt;em>&amp;ldquo;flavor&amp;rdquo;&lt;/em> requires the following steps:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>Check you meet the &lt;strong>&lt;a href="#1-required-resources">Required Resources&lt;/a>&lt;/strong>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Add the &lt;strong>&lt;a href="#2-new-brand">New Brand&lt;/a>&lt;/strong> in the source code.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>&lt;a href="#3-generate-a-new-keystore">Generate a new keystore&lt;/a>&lt;/strong> if there is no one.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>&lt;a href="#4-test-locally-the-keystore">Test locally&lt;/a>&lt;/strong> and create a pull request with the changes.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>&lt;a href="#5-release-the-new-flavor">Release&lt;/a>&lt;/strong> the new flavor.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>&lt;a href="#6-publish-the-app">Publish&lt;/a>&lt;/strong> in the Play Store or whatever channel.&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>Below are more instructions for each step.&lt;/p>
&lt;h3 id="1-required-resources">1. Required Resources&lt;/h3>
&lt;p>To proceed you need to have ready the following:&lt;/p>
&lt;ul>
&lt;li>The URL of your CHT server so users don&amp;rsquo;t have to type it in post install.&lt;/li>
&lt;li>The app logo and title.&lt;/li>
&lt;li>Translations for your supported languages (most flavors don&amp;rsquo;t need to customize translations though).&lt;/li>
&lt;/ul>
&lt;p>Also be sure to have a working &lt;strong>&lt;a href="https://docs.communityhealthtoolkit.org/contribute/code/android/development-setup/">Development Environment&lt;/a>&lt;/strong>.&lt;/p>
&lt;p>While you should use your own branding, the &lt;a href="./CHT.logo.512.png">CHT logo&lt;/a> is available to use if so desired.&lt;/p>
&lt;h4 id="play-store-assets">Play Store assets&lt;/h4>
&lt;p>If you are going to publish the app in the &lt;strong>Play Store&lt;/strong>, Google will require to provide the following to list the app:&lt;/p>
&lt;ul>
&lt;li>A description of the app.&lt;/li>
&lt;li>A shorter description (80 characters).&lt;/li>
&lt;li>Logo 512x512px, typically a version of the partner logo e.g. square design icons.&lt;/li>
&lt;li>A background image.&lt;/li>
&lt;li>Screenshots.&lt;/li>
&lt;/ul>
&lt;p>Google is constantly changing the requirements to publish in the Play Store, it&amp;rsquo;s a good practice to check in advance whether all the requirements are met (checkout &lt;em>&lt;a href="https://support.google.com/googleplay/android-developer/answer/9866151">Add preview assets&amp;hellip;&lt;/a>&lt;/em>).&lt;/p>
&lt;h5 id="test-data">Test data&lt;/h5>
&lt;p>When publishing for the first time in the Play Store, a reviewer from Google will try to check whether the permission requested by the app follows the Play Store rules. The CHT Android app has enabled by default location request permissions, and the workflow to request the permission follows the strict rules imposed by Google, but they won&amp;rsquo;t be aware that your &lt;em>flavored&lt;/em> app is based on the CHT Android, so you have to provide Google with instructions of how to test the app, specifically how to test the location request.&lt;/p>
&lt;p>To do so, give them instructions of how to login with the app (with a real username and password), and the basic steps to reach the location request, like open up a form.&lt;/p>
&lt;p>Once approved you can delete the &amp;ldquo;test&amp;rdquo; user, Google conduct the tests only the first time, or when a new permission request is added to the app.&lt;/p>
&lt;h3 id="2-new-brand">2. New Brand&lt;/h3>
&lt;p>Each branded app has an identifier (&lt;em>id&lt;/em>) that is used to identify and configure it in different parts of the source code and when invoking some commands. In the instructions below we will use as example the id &lt;strong>&lt;code>new_brand&lt;/code>&lt;/strong>.&lt;/p>
&lt;ol>
&lt;li>
&lt;p>Check out the tag from the &lt;a href="https://github.com/medic/cht-android/releases">last stable release&lt;/a> in CHT Android repository and create a branch, for example, if the latest stable release is &lt;code>v0.11.0&lt;/code> and the branch name is &lt;code>v0.11.0-new-brand&lt;/code>, then the command is:&lt;/p>
&lt;pre tabindex="0">&lt;code>git checkout v0.11.0 -b v0.11.0-new-brand
&lt;/code>&lt;/pre>&lt;/li>
&lt;li>
&lt;p>Add &lt;code>productFlavors { &amp;lt;new_brand&amp;gt; { ... } }&lt;/code> in &lt;a href="https://github.com/medic/cht-android/blob/master/build.gradle">build.gradle&lt;/a>, e.g.:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-groovy" data-lang="groovy">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">new_brand&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">dimension&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#4e9a06">&amp;#39;brand&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">applicationId&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#4e9a06">&amp;#39;org.medicmobile.webapp.mobile.new_brand&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ce5c00;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Add icons, strings etc. in the &lt;code>src/&amp;lt;new_brand&amp;gt;&lt;/code> folder. It&amp;rsquo;s required to place there at least the &lt;code>src/new_brand/res/values/strings.xml&lt;/code> file with the name of the app and the URL of the CHT instance:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-xml" data-lang="xml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;utf-8&amp;#34;?&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">&amp;lt;resources&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;lt;string&lt;/span> &lt;span style="color:#c4a000">name=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;app_name&amp;#34;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;gt;&lt;/span>New Brand&lt;span style="color:#204a87;font-weight:bold">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;lt;string&lt;/span> &lt;span style="color:#c4a000">name=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;app_host&amp;#34;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;gt;&lt;/span>new_brand.app.medicmobile.org&lt;span style="color:#204a87;font-weight:bold">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">&amp;lt;/resources&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Enable automated builds of the APKs and AABs: add the &lt;code>new_brand&lt;/code> flavor in &lt;a href="https://github.com/medic/cht-android/blob/master/.github/workflows/publish.yml">.github/workflows/publish.yml&lt;/a>. The &lt;em>Unpack secrets &amp;hellip;&lt;/em> task unpacks and decrypts the secret file with the keystore (next section), The &lt;em>Assemble &amp;hellip;&lt;/em> task takes care of generating the &lt;code>.apk&lt;/code> files for sideloading, and the &lt;em>Bundle &amp;hellip;&lt;/em> task is responsible of generating the &lt;code>.aab&lt;/code> files for publishing in the Play Store (you can skip the last if you are not going to publish in the Play Store):&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yml" data-lang="yml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Unpack secrets new_brand&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">env&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">ANDROID_SECRETS_KEY&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">${{ secrets.ANDROID_SECRETS_KEY_NEW_BRAND }}&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">ANDROID_SECRETS_IV&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">${{ secrets.ANDROID_SECRETS_IV_NEW_BRAND }}&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">run&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">make org=new_brand keydec&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Assemble new_brand&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">uses&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">maierj/fastlane-action@v1.4.0&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">with&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">lane&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">build&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">options&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#39;{ &amp;#34;flavor&amp;#34;: &amp;#34;new_brand&amp;#34; }&amp;#39;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">env&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">ANDROID_KEYSTORE_PATH&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">new_brand.keystore&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">ANDROID_KEYSTORE_PASSWORD&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">${{ secrets.ANDROID_KEYSTORE_PASSWORD_NEW_BRAND }}&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">ANDROID_KEY_PASSWORD&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">${{ secrets.ANDROID_KEY_PASSWORD_NEW_BRAND }}&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Bundle new_brand&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">uses&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">maierj/fastlane-action@v1.4.0&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">with&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">lane&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">bundle&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">options&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#39;{ &amp;#34;flavor&amp;#34;: &amp;#34;new_brand&amp;#34; }&amp;#39;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">env&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">ANDROID_KEYSTORE_PATH&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">new_brand.keystore&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">ANDROID_KEYSTORE_PASSWORD&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">${{ secrets.ANDROID_KEYSTORE_PASSWORD_NEW_BRAND }}&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">ANDROID_KEY_PASSWORD&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">${{ secrets.ANDROID_KEY_PASSWORD_NEW_BRAND }}&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The variables in the &lt;code>env&lt;/code> sections point to a keystore and the passwords to unlock the keystore that will be generated in the following steps, but it&amp;rsquo;s important to follow the name convention, in the example all the variables that are configured in Github Actions end with the suffix &lt;code>_NEW_BRAND&lt;/code>, these variables need to be added in the CHT Android repository settings by a manager of Medic.&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h3 id="3-generate-a-new-keystore">3. Generate a new keystore&lt;/h3>
&lt;p>Each branded app created needs its own keystore to sign the binaries for releasing.&lt;/p>
&lt;p>Since the &lt;code>.aab&lt;/code> files generated here are signed with the same key you generated, the files and key can be uploaded to the Play Store later and any file generated locally following the steps above will be compatible with any installation made from the Play Store.&lt;/p>
&lt;p>The keystore files are placed into a compressed and encrypted file in the &lt;a href="https://github.com/medic/cht-android/tree/master/secrets">secrets/&lt;/a> folder. In our case the file will be &lt;code>secrets/secrets-new_brand.tar.gz.enc&lt;/code>, and the content inside when the file is decrypted is:&lt;/p>
&lt;ul>
&lt;li>&lt;code>new_brand.keystore&lt;/code>: the Java keystore with a signature key inside that is always called &lt;code>medicmobile&lt;/code>. It&amp;rsquo;s used to sign the APKs and the bundles, and the one that Google will use to sign the optimized APKs that generates in the Play Store.&lt;/li>
&lt;li>&lt;code>new_brand_private_key.pepk&lt;/code>: a PEPK file is an encrypted file that contains inside the &lt;code>medicmobile&lt;/code> key from the keystore above, ready to be uploaded to the Play Store the first time the app is registered in the Play Console. The file is only used there, but kept in the compressed file as a backup.&lt;/li>
&lt;/ul>
&lt;p>Don&amp;rsquo;t worry to follow all the name conventions and how to generate these files, you can create all them in one step: the new keystore, the passwords and the PEPK file with &lt;code>make org=new_brand keygen&lt;/code>.&lt;/p>
&lt;p>Executing the command will check that you have the necessary tooling installed, and ask you the information about the certificate like the organization name, organization unit, etc. The command also takes care of picking random passwords that meet the security requirements, and then compresses the key files and finally encrypt the &lt;code>.tar.gz&lt;/code> file into the &lt;code>.enc&lt;/code> file. At the end of the execution, the script will also show the list of environment variables that you have to setup in CI (Github Actions) and locally in order to sign the apps with the new keystore. Below is an example of executing it to create the keystore for our &amp;ldquo;new_brand&amp;rdquo;:&lt;/p>
&lt;pre tabindex="0">&lt;code>make org=new_brand keygen
Verifying the following executables are in the $PATH: java keytool openssl ...
keytool -genkey -storepass dd8668... -v -keystore new_brand.keystore -alias medicmobile -keyalg RSA -keysize 2048 -validity 9125
What is your first and last name?
[Unknown]:
What is the name of your organizational unit?
[Unknown]: New Brand
What is the name of your organization?
[Unknown]: Medic
What is the name of your City or Locality?
[Unknown]: San Fran... ...
Is CN=Unknown, OU=New Brand, O=Medic, L=San Francisco, ST=CA, C=US correct?
[no]: y
Generating 2,048 bit RSA key pair and self-signed certificate (SHA256withRSA) with a validity of 9,125 days
for: CN=Unknown, OU=New Brand, O=Medic, L=San Francisco, ST=CA, C=US
[Storing new_brand.keystore]
... ...
####################################### Secrets! #######################################
# #
# The following environment variables needs to be added to the CI environment #
# (Github Actions), and to your local environment if you also want #
# to sign APK or AAB files locally: #
# #
export ANDROID_KEYSTORE_PASSWORD_NEW_BRAND=dd8668...
export ANDROID_KEY_PASSWORD_NEW_BRAND=dd8668...
export ANDROID_SECRETS_IV_NEW_BRAND=88d9c2dea7a9...
export ANDROID_SECRETS_KEY_NEW_BRAND=2824d02d2bc221f5844b8fe1d928211dcbbc...
#
# The file secrets/secrets-new_brand.tar.gz.enc was created and has to be added to the git
# repository (don&amp;#39;t worry, it&amp;#39;s encrypted with some of the keys above). #
# NOTE: *keep the environment variables secret !!* #
# #
########################################### End of Secrets ###################################
&lt;/code>&lt;/pre>&lt;p>The &lt;em>Secrets!&lt;/em> section at the end is as important as the &lt;code>secrets/secrets-new_brand.tar.gz.enc&lt;/code> file generated, because as it says above, it needs to be configured in CI.&lt;/p>
&lt;p>Use a safe channel to send the environment variables to the manager in charge, like a password manager, and keep them locally at least for testing, storing in a script file that is safe in your computer.&lt;/p>
&lt;p>About the file &lt;code>secrets/secrets-new_brand.tar.gz.enc&lt;/code>, as the last paragraph in the console says: &lt;em>has to be added to the git repository (don&amp;rsquo;t worry, it&amp;rsquo;s encrypted with some of the keys above)&lt;/em>.&lt;/p>
&lt;p>If you want to start over because some of the parameters were wrong, just execute &lt;code>make org=new_brand keyrm-all&lt;/code> to clean all the files generated. Once committed the &lt;code>.enc&lt;/code> file, you can delete the uncompressed and unencrypted version with &lt;code>make org=new_brand keyrm&lt;/code>, it will delete the &lt;code>new_brand.keystore&lt;/code>, &lt;code>new_brand_private_key.pepk&lt;/code>, and the unencrypted &lt;code>.tar.gz&lt;/code> files, that are safer kept in the &lt;code>.tar.gz.enc&lt;/code> file.&lt;/p>
&lt;p>If you encounter issues with the &lt;code>make org=new_brand keygen&lt;/code> command repeatedly looping through questions, we recommend changing your OS language to English.&lt;/p>
&lt;h3 id="4-test-the-keystore-locally">4. Test the keystore locally&lt;/h3>
&lt;p>&lt;strong>Want to check the keystore?&lt;/strong> here are a few things you must test before upload to the repository:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>To decrypt the content like CI does to sign the app, execute: &lt;code>make org=new_brand keydec&lt;/code>, it will decrypt and decompress the files removed in the step above. Remember that the environment variables printed in the console needs to be loaded in the CLI. Note that all the variables above end with the suffix &lt;code>_NEW_BRAND&lt;/code>, as the id of the app that we pass through the &lt;code>org&lt;/code> argument in lowercase, but if Make found the same variables defined without the prefix, they take precedence over the suffix ones.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Execute &lt;code>make org=new_brand keyprint&lt;/code> to see the certificate content, like the org name, the certificate fingerprints, etc.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Sign your app! You can try locally to build the app with the certificate. To create the .apk files run: &lt;code>make org=new_brand flavor=New_brand assemble&lt;/code>. The &amp;ldquo;release&amp;rdquo; files signed should be placed in &lt;code>build/outputs/apk/new_brand/release/&lt;/code>. To ensure the files were signed with the right signature execute &lt;code>make keyprint-apk&lt;/code>, it will check the certificate of the first apk file under the &lt;code>build/&lt;/code> folder:&lt;/p>
&lt;pre tabindex="0">&lt;code>make keyprint-apk
apksigner verify -v --print-certs build/outputs/apk/new_brand/release/cht-android-SNAPSHOT-new_brand-arm64-v8a-release.apk
... ...
Verified using v2 scheme (APK Signature Scheme v2): true
... ...
Signer #1 certificate DN: CN=Unknown, OU=New Brand, O=Medic Mobile, L=San Francisco, ST=CA, C=US
Signer #1 certificate SHA-256 digest: 7f072b...
&lt;/code>&lt;/pre>&lt;/li>
&lt;/ol>
&lt;p>Also, do the same for the bundle format: build and verify, despite the AAB are not useful for local development. In our example, execute first &lt;code>make org=new_brand flavor=New_brand bundle&lt;/code>, and then &lt;code>make keyprint-bundle&lt;/code> to see the signature of one of the &lt;code>.aab&lt;/code> files generated.&lt;/p>
&lt;p>Because the files generated here are signed with the same key that you are going to use in CI, and the files produced in CI will be uploaded to the Play Store later, any file generated locally following the steps above will be compatible with any installation made from the Play Store, means that if a user install the app from the Play Store, and then we want to replace the installation with an alpha version generated in CI or a local version generated in dev environment, it will work without requiring the user to uninstall the app and lost the data.&lt;/p>
&lt;h3 id="5-release-the-new-flavor">5. Release the new flavor&lt;/h3>
&lt;p>Releasing a new flavor requires the following steps:&lt;/p>
&lt;ol>
&lt;li>Make a pull request to the release branch in the CHT Android repository.&lt;/li>
&lt;li>Once approved it&amp;rsquo;s recommended to create an alpha version to do final tests.&lt;/li>
&lt;li>Merge the pull request.&lt;/li>
&lt;li>&lt;a href="https://docs.communityhealthtoolkit.org/contribute/code/android/releasing/">Release the flavor&lt;/a>.&lt;/li>
&lt;/ol>
&lt;h3 id="6-publish-the-app">6. Publish the app&lt;/h3>
&lt;p>The last step is to publish it in the Play Store, or whatever option best suit your needs. Checkout the &lt;a href="https://docs.communityhealthtoolkit.org/apps/guides/android/publishing/">Publishing&lt;/a> page to see all the options available and instructions.&lt;/p>
&lt;h2 id="android-app-links-verification">Android App Links verification&lt;/h2>
&lt;p>&lt;em>Supported for CHT Core 4.7.0+ and CHT Android 1.3.0+&lt;/em>&lt;/p>
&lt;p>Starting with Android 12, Android supports associating an app with a domain and automatically verifying this association. This allows deep links to immediately open content in the app. To get this working, you need to host a Digital Asset Links JSON file at &lt;code>https://&amp;lt;domain.name&amp;gt;/.well-known/assetlinks.json&lt;/code> containing some information about your app to associate it with your domain. More information is available on the &lt;a href="https://developer.android.com/training/app-links/verify-android-applinks">official Android docs&lt;/a>.&lt;/p>
&lt;h3 id="hosting-assetlinksjson-with-the-cht">Hosting &lt;code>assetlinks.json&lt;/code> with the CHT&lt;/h3>
&lt;p>Since CHT Core version 4.7.0, the CHT supports serving &lt;code>assetlinks.json&lt;/code> by adding it to your app settings.
All you have to do to make the CHT serve your assetlinks at &lt;code>/.well-known/assetlinks.json&lt;/code> is to:&lt;/p>
&lt;ol>
&lt;li>Ensure your flavor of cht-android &lt;a href="#3-generate-a-new-keystore">has a valid keystore&lt;/a>.&lt;/li>
&lt;li>Use the &lt;code>keytool&lt;/code> utility (included with your Java SDK) to get your app&amp;rsquo;s cert fingerprint:
&lt;pre tabindex="0">&lt;code>keytool -list -v -keystore ./path/to/release-key.keystore
# or alternatively:
keytool -printcert -jarfile ./path/to/project.apk
&lt;/code>&lt;/pre>&lt;/li>
&lt;li>Set the cert fingerprint in the &lt;a href="https://docs.communityhealthtoolkit.org/apps/reference/app-settings/assetlinks/">&lt;code>assetlinks&lt;/code> configuration&lt;/a> for your CHT instance and deploy it to your server with cht-conf.&lt;/li>
&lt;/ol>
&lt;h3 id="verifying-it-works">Verifying it works&lt;/h3>
&lt;p>There are different ways to verify your setup works and we&amp;rsquo;ll go through a few of them in the next steps.&lt;/p>
&lt;h4 id="using-android-debug-bridge-adb">Using Android Debug Bridge &lt;code>adb&lt;/code>&lt;/h4>
&lt;ol>
&lt;li>To install the &lt;code>adb&lt;/code> command, follow the instructions under the &lt;a href="https://docs.communityhealthtoolkit.org/contribute/code/android/development-setup/#debug-tool-adb">Development Environment &amp;gt; Debug tool adb&lt;/a> section.&lt;/li>
&lt;li>With the phone connected to your computer, open a command line session and write the following command: &lt;code>adb shell pm get-app-links &amp;lt;package_name&amp;gt;&lt;/code> where &lt;code>&amp;lt;package_name&amp;gt;&lt;/code> is your application ID.&lt;/li>
&lt;/ol>
&lt;p>The output of this command should look like this:&lt;/p>
&lt;pre tabindex="0">&lt;code>&amp;lt;package_name&amp;gt;:
ID: 01234567-89ab-cdef-0123-456789abcdef
Signatures: [&amp;#34;62:BF:C1:78:24:D8:4D:5C:B4:E1:8B:66:98:EA:14:16:57:6F:A4:E5:96:CD:93:81:B2:65:19:71:A7:80:EA:4D&amp;#34;]
Domain verification state:
mobile.webapp.medicmobile.org: verified
&lt;/code>&lt;/pre>&lt;p>The domain verification state for your CHT instance&amp;rsquo;s domain should show &lt;code>verified&lt;/code>.&lt;/p>
&lt;h4 id="manually-testing-on-the-device">Manually testing on the device&lt;/h4>
&lt;figure class="right col-6 col-md-4 col-lg-2">&lt;a href="android-12-prompt.png">
&lt;img src="android-12-prompt.png"/> &lt;/a>
&lt;/figure>
&lt;p>Another way of verifying your Android app has been properly associated to your CHT instance&amp;rsquo;s domain is by opening
the Android app on a device. You can run this test on a real device or with the emulator in Android Studio.&lt;/p>
&lt;p>Opening the app for the first time should take you straight to the login page &lt;strong>without&lt;/strong> prompting you to link a domain to the app as shown in the following screenshot:&lt;/p>
&lt;p>Additionally, clicking a link to your CHT instance should open the app immediately instead of opening the CHT instance in the default browser.&lt;/p>
&lt;h3 id="use-case---a-single-android-app-for-many-cht-instances">Use case - a single Android app for many CHT instances&lt;/h3>
&lt;p>For specific large deployment scenarios, you might publish a single Android app to serve multiple CHT instances.
In this case, each CHT instance&amp;rsquo;s app settings will need to be configured with the same &lt;code>assetlinks.json&lt;/code> because
they share the same Android app and hence the same &lt;code>package_name&lt;/code> and &lt;code>sha256_cert_fingerprints&lt;/code> properties.&lt;/p>
&lt;p>When building your Android app, you will need to ensure the app&amp;rsquo;s manifest has &lt;code>&amp;lt;intent-filter android:autoverify=&amp;quot;true&amp;quot;&amp;gt;&lt;/code>
with each CHT instance&amp;rsquo;s domain listed in it like so:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-xml" data-lang="xml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;utf-8&amp;#34;?&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">&amp;lt;manifest&lt;/span> &lt;span style="color:#c4a000">xmlns:android=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;http://schemas.android.com/apk/res/android&amp;#34;&lt;/span> &lt;span style="color:#c4a000">xmlns:tools=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;http://schemas.android.com/tools&amp;#34;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;lt;uses-permission&lt;/span> &lt;span style="color:#c4a000">android:name=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;android.permission.READ_EXTERNAL_STORAGE&amp;#34;&lt;/span> &lt;span style="color:#c4a000">tools:node=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;remove&amp;#34;&lt;/span> &lt;span style="color:#204a87;font-weight:bold">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;lt;application&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;lt;activity&lt;/span> &lt;span style="color:#c4a000">android:name=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;AppUrlIntentActivity&amp;#34;&lt;/span> &lt;span style="color:#c4a000">android:launchMode=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;singleInstance&amp;#34;&lt;/span> &lt;span style="color:#c4a000">android:exported=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;true&amp;#34;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;lt;intent-filter&lt;/span> &lt;span style="color:#c4a000">android:autoVerify=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;true&amp;#34;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;lt;action&lt;/span> &lt;span style="color:#c4a000">android:name=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;android.intent.action.VIEW&amp;#34;&lt;/span> &lt;span style="color:#204a87;font-weight:bold">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;lt;category&lt;/span> &lt;span style="color:#c4a000">android:name=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;android.intent.category.DEFAULT&amp;#34;&lt;/span> &lt;span style="color:#204a87;font-weight:bold">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;lt;category&lt;/span> &lt;span style="color:#c4a000">android:name=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;android.intent.category.BROWSABLE&amp;#34;&lt;/span> &lt;span style="color:#204a87;font-weight:bold">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;lt;data&lt;/span> &lt;span style="color:#c4a000">android:scheme=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;https&amp;#34;&lt;/span> &lt;span style="color:#c4a000">android:host=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;first-cht-app.org&amp;#34;&lt;/span> &lt;span style="color:#c4a000">android:pathPattern=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;.*&amp;#34;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;lt;data&lt;/span> &lt;span style="color:#c4a000">android:scheme=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;https&amp;#34;&lt;/span> &lt;span style="color:#c4a000">android:host=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;second-cht-app.org&amp;#34;&lt;/span> &lt;span style="color:#c4a000">android:pathPattern=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;.*&amp;#34;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;lt;data&lt;/span> &lt;span style="color:#c4a000">android:scheme=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;https&amp;#34;&lt;/span> &lt;span style="color:#c4a000">android:host=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;third-cht-app.org&amp;#34;&lt;/span> &lt;span style="color:#c4a000">android:pathPattern=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;.*&amp;#34;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;lt;/intent-filter&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;lt;/activity&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;lt;/application&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">&amp;lt;/manifest&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item></channel></rss>