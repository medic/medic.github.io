<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Community Health Toolkit – Tracking and Improving Performance</title><link>https://docs.communityhealthtoolkit.org/apps/guides/performance/</link><description>Recent content in Tracking and Improving Performance on Community Health Toolkit</description><generator>Hugo -- gohugo.io</generator><atom:link href="https://docs.communityhealthtoolkit.org/apps/guides/performance/index.xml" rel="self" type="application/rss+xml"/><item><title>Apps: Purging</title><link>https://docs.communityhealthtoolkit.org/apps/guides/performance/purging/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.communityhealthtoolkit.org/apps/guides/performance/purging/</guid><description>
&lt;p>&lt;em>Only available in 3.7.0 and above&lt;/em>&lt;/p>
&lt;p>Purging is a tool that allows you to increase performance and available disk space for offline users (eg CHWs) by removing unneeded documents from their device.&lt;/p>
&lt;p>As users continually generate new reports their performance may naturally degrade as a result. You can use purging to remove older documents that are no longer relevant from their devices. Purging only removes documents from user&amp;rsquo;s devices: these reports are still available for online analytics and impact metrics.&lt;/p>
&lt;p>Purging is disabled by default, and is enabled if a purge function is specified in &lt;code>app_settings.json&lt;/code>, along with a run schedule.&lt;/p>
&lt;p>The following example would purge all reports that were created more than a year ago:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-json" data-lang="json">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;//&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;other app_settings settings&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;purge&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;fn&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;function(userCtx, contact, reports, messages, chtScriptApi, permissions) { const old = Date.now() - (1000 * 60 * 60 * 24 * 365); return reports.filter(r =&amp;gt; r.reported_date &amp;lt; old).map(r =&amp;gt; r._id);}&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;text_expression&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;at 12 am on Sunday&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>Purging is both very powerful and also very dangerous&lt;/strong>. Read the rest of this document carefully to make sure you completely understand how to purge and the ramifications of doing so, before using purging in your project.&lt;/p>
&lt;h2 id="server-side">Server-side&lt;/h2>
&lt;p>Purging runs on the server on a configurable schedule.&lt;/p>
&lt;p>It will iterate over all users to generate a list of unique roles groups that represent every user. Each group will have their purged docs saved in an individual database.&lt;/p>
&lt;p>Then, it will iterate over all existent contacts, collecting all reports about that contact along with all sms messages that the contact has sent or received. This is similar to the scoping you may have encountered when configuring &lt;a href="https://docs.communityhealthtoolkit.org/apps/reference/tasks/">tasks&lt;/a> and &lt;a href="https://docs.communityhealthtoolkit.org/apps/reference/targets/">targets&lt;/a>.&lt;/p>
&lt;p>The configured purge function runs over all combinations of purge scope (contact + reports + messages) and user context (unique list of roles) to determine which docs should be purged.&lt;/p>
&lt;p>The resulting list of docs to be purged is compared to the existent purged docs so that only the differences are saved (old purges are reverted and new purges are added).&lt;/p>
&lt;p>A document is considered purged for a user if a document with the same id, prefixed by &lt;code>purge&lt;/code>, exists in the corresponding purge database.&lt;/p>
&lt;p>The following user:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-json" data-lang="json">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;name&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;org.couchdb.user:&amp;lt;your user&amp;gt;&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;roles&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000;font-weight:bold">[&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;district_admin&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;supervisor&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>would get their purges from a &lt;code>medic-purged-role-&amp;lt;role_hash&amp;gt;&lt;/code> where &lt;code>role_hash&lt;/code> is an md5 hash of the user&amp;rsquo;s roles.&lt;/p>
&lt;p>When users sync (includes initial sync), they will only download documents that are not purged for their roles.&lt;/p>
&lt;h2 id="client-side">Client-side&lt;/h2>
&lt;p>Periodically a user&amp;rsquo;s device calls an API endpoint that returns batches of doc ids that have been purged since last time the same device checked. This is done in the background so the user is not disrupted from their work.&lt;/p>
&lt;p>The system is similar to CouchDB replication, in the sense that a &lt;code>checkpointer&lt;/code> document is saved in the corresponding server-side database, that stores the &lt;code>last_seq&lt;/code> that the device has downloaded and is used to get the next batch of ids. Purging many documents while the application is running is an expensive and potentially disruptive activity, so instead the ids are stored until the next time the app is started.&lt;/p>
&lt;p>Then, when the user launches the app again during the bootstrap phase the app checks if there are any documents to purge, and if so deletes them all before starting up as usual. Doing the deletion prior to startup is relatively fast and designed to disrupt the user as little as possible.&lt;/p>
&lt;h2 id="configuration">Configuration&lt;/h2>
&lt;p>To enable purging, write your purge configuration to &lt;code>purge.js&lt;/code> in your project root:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-js" data-lang="js">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">module&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">exports&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">text_expression&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#39;at 9 am on Sunday&amp;#39;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">run_every_days&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">7&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">cron&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#39;0 1 * * SUN&amp;#39;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">fn&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#204a87;font-weight:bold">function&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">userCtx&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">contact&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">reports&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">messages&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">chtScriptApi&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">permissions&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">const&lt;/span> &lt;span style="color:#000">old&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#204a87">Date&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">now&lt;/span>&lt;span style="color:#000;font-weight:bold">()&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">-&lt;/span> &lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#0000cf;font-weight:bold">1000&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">*&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">60&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">*&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">60&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">*&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">24&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">*&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">365&lt;/span>&lt;span style="color:#000;font-weight:bold">);&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">const&lt;/span> &lt;span style="color:#000">oldMessages&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#204a87">Date&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">now&lt;/span>&lt;span style="color:#000;font-weight:bold">()&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">-&lt;/span> &lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#0000cf;font-weight:bold">1000&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">*&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">60&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">*&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">60&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">*&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">24&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">*&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">90&lt;/span>&lt;span style="color:#000;font-weight:bold">);&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">const&lt;/span> &lt;span style="color:#000">reportsToPurge&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#000">reports&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">filter&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">r&lt;/span> &lt;span style="color:#000;font-weight:bold">=&amp;gt;&lt;/span> &lt;span style="color:#000">r&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">reported_date&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">&amp;lt;&lt;/span> &lt;span style="color:#000">old&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">map&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">r&lt;/span> &lt;span style="color:#000;font-weight:bold">=&amp;gt;&lt;/span> &lt;span style="color:#000">r&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">_id&lt;/span>&lt;span style="color:#000;font-weight:bold">);&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">const&lt;/span> &lt;span style="color:#000">messagesToPurge&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#000">messages&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">filter&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">m&lt;/span> &lt;span style="color:#000;font-weight:bold">=&amp;gt;&lt;/span> &lt;span style="color:#000">m&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">reported_date&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">&amp;lt;&lt;/span> &lt;span style="color:#000">oldMessages&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">map&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">m&lt;/span> &lt;span style="color:#000;font-weight:bold">=&amp;gt;&lt;/span> &lt;span style="color:#000">m&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">_id&lt;/span>&lt;span style="color:#000;font-weight:bold">);&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">return&lt;/span> &lt;span style="color:#000;font-weight:bold">[...&lt;/span>&lt;span style="color:#000">reportsToPurge&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000;font-weight:bold">...&lt;/span>&lt;span style="color:#000">messagesToPurge&lt;/span>&lt;span style="color:#000;font-weight:bold">];&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="purge-configuration">Purge configuration&lt;/h3>
&lt;p>As shown above, you should be exporting a property &lt;code>fn&lt;/code> defining a self contained function: it should have no outside dependencies - like used variables, required modules or call outside functions.&lt;/p>
&lt;p>This function takes six parameters:&lt;/p>
&lt;ul>
&lt;li>&lt;code>userCtx&lt;/code>, an object with the user&amp;rsquo;s &lt;code>roles&lt;/code> as fields. For more information read the &lt;a href="https://docs.couchdb.org/en/stable/json-structure.html#userctx-object">documentation for the User Context Object&lt;/a>.&lt;/li>
&lt;li>&lt;code>contact&lt;/code>, the contact document of a patient or other contact who has reports about them.&lt;/li>
&lt;li>&lt;code>reports&lt;/code>, an array of all reports for that subject that are present on the server.&lt;/li>
&lt;li>&lt;code>messages&lt;/code>, an array of sms messages that the contact has sent or received.&lt;/li>
&lt;li>&lt;code>chtScriptApi&lt;/code> (Optional) the CHT API that provides CHT-Core Framwework&amp;rsquo;s functions to other parts of the app. More info on the API can be found &lt;a href="https://docs.communityhealthtoolkit.org/apps/reference/_partial_cht_api/">here&lt;/a>. Added in 4.3.0.&lt;/li>
&lt;li>&lt;code>permissions&lt;/code> (Optional) string or array of permissions that the user has. More info on permissions can be found &lt;a href="https://docs.communityhealthtoolkit.org/apps/reference/app-settings/user-permissions/">here&lt;/a>. Added in 4.3.0.&lt;/li>
&lt;/ul>
&lt;p>And should return an array of &lt;code>_id&lt;/code> values for docs you would like to be purged (or &lt;code>undefined&lt;/code> / nothing if you don&amp;rsquo;t wish to purge anything). `Only ids of docs that were passed to the function are valid for purging: you are not allowed to purge other documents.&lt;/p>
&lt;p>In the cases of reports that do not have subjects or their subjects are not found, the &lt;code>purge&lt;/code> function will receive an empty object as &lt;code>contact&lt;/code>. In the cases of reports about deleted contacts, the &lt;code>purge&lt;/code> function will receive a &lt;code>{ _deleted: true }&lt;/code> object as the &lt;code>contact&lt;/code>.&lt;/p>
&lt;p>As of &lt;strong>3.9.0&lt;/strong>, &lt;code>task&lt;/code> documents that are in a terminal state (&lt;code>Cancelled&lt;/code>, &lt;code>Completed&lt;/code>, &lt;code>Failed&lt;/code>) are purged if their &lt;code>end_date&lt;/code> is more than 60 days ago (relative to server date).
As of &lt;strong>3.9.0&lt;/strong>, &lt;code>target&lt;/code> documents are purged if their reporting period is more than 6 months ago (relative to server date). Purging &lt;code>task&lt;/code> and &lt;code>target&lt;/code> documents happens automatically on every purge run. The intervals and required states are not configurable.&lt;/p>
&lt;h3 id="schedule-configuration">Schedule configuration&lt;/h3>
&lt;p>You must set a schedule for purging to run server-side.
Depending on the size of the database and server capacity, purging could be a lengthy and resource intensive operation, so it is recommended you run purge on a schedule that your server can sustain (for example at nighttime in the weekends).&lt;/p>
&lt;p>You can also change the frequency of local purge downloads (default being every 7 days).&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>property&lt;/th>
&lt;th>description&lt;/th>
&lt;th>required&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>fn&lt;/code>&lt;/td>
&lt;td>Self-contained purge function&lt;/td>
&lt;td>yes&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>run_every_days&lt;/code>&lt;/td>
&lt;td>The interval (in days) at which purges will be downloaded client-side. &lt;em>Default 7&lt;/em>.&lt;/td>
&lt;td>no&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>text_expression&lt;/code>&lt;/td>
&lt;td>Any valid text expression to describe the interval of running purge server-side. For more information, see &lt;a href="https://bunkat.github.io/later/parsers.html#text">LaterJS&lt;/a>&lt;/td>
&lt;td>no if &lt;code>cron&lt;/code> provided&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>cron&lt;/code>&lt;/td>
&lt;td>Any valid Cron expression to describe the interval of running purge server-side. For more information, see &lt;a href="https://bunkat.github.io/later/parsers.html#cron">LaterJS&lt;/a>&lt;/td>
&lt;td>no if &lt;code>text_expression&lt;/code> provided&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Example of purge configured in your app_settings:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-json" data-lang="json">&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;//&amp;#34;&lt;/span>&lt;span style="color:#a40000">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;other app_settings settings&amp;#34;&lt;/span>&lt;span style="color:#a40000">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;purge&amp;#34;&lt;/span>&lt;span style="color:#a40000">:&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;fn&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;function(userCtx, contact, reports, messages) { return []; }&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;cron&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;0 1 * * SUN&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;text_expression&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;at 1:00 am on Sun&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;run_every_days&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">5&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="considerations">Considerations&lt;/h2>
&lt;h3 id="purged-documents-server-side">Purged documents server-side&lt;/h3>
&lt;p>Purging is run as a scheduled task in Sentinel.&lt;/p>
&lt;p>Purging does not touch documents in the &lt;code>medic&lt;/code> database, everything is done in separate purge databases(&lt;code>medic-purged-roles-&amp;lt;roles-hash&amp;gt;&lt;/code>).&lt;/p>
&lt;p>The purge databases names contain an md5 of the JSON representation of a list of unique roles.
They also contain a &lt;code>_local/info&lt;/code> doc where the roles are listed in clear text.&lt;/p>
&lt;p>As of &lt;strong>3.14.0&lt;/strong>, contacts that have more than 20,000 associated reports + messages will be skipped, and none of their associated reports and messages will be purged. A single contact that has more than 20,000 associated records most likely points to a configuration issue. Skipped contacts&amp;rsquo; ids are reported both in logs and in &lt;code>purgelog&lt;/code> files (see below).&lt;/p>
&lt;p>A &lt;code>purgelog&lt;/code> document is saved in the &lt;code>medic-sentinel&lt;/code> database after every purge. The purgelog has a meaningful id: &lt;code>purgelog:&amp;lt;timestamp&amp;gt;&lt;/code>, where &lt;code>timestamp&lt;/code> represents the moment when purging was completed. As of &lt;strong>3.14.0&lt;/strong>, every time purging fails to complete due to an error, a &lt;code>purgelog:error&lt;/code> document is saved in the &lt;code>medic-sentinel&lt;/code> database. The ids of these documents are similarly meaningful: &lt;code>purgelog:error:&amp;lt;timestamp&amp;gt;&lt;/code>.&lt;/p>
&lt;p>&lt;code>purgelog&lt;/code> docs have the following properties:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>property&lt;/th>
&lt;th>value type&lt;/th>
&lt;th>description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>date&lt;/code>&lt;/td>
&lt;td>ISO formatted date&lt;/td>
&lt;td>The moment when purging was completed&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>roles&lt;/code>&lt;/td>
&lt;td>Map&lt;/td>
&lt;td>A map of roles lists and their hashes that purging has run for&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>duration&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>Time it took to run purging, in ms.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>skipped_contacts&lt;/code>&lt;/td>
&lt;td>Array&lt;/td>
&lt;td>Available since &lt;strong>3.14.0&lt;/strong> List of contacts ids that were skipped, due to having too many associated records.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>error&lt;/code>&lt;/td>
&lt;td>String&lt;/td>
&lt;td>Available since &lt;strong>3.14.0&lt;/strong> Describes the error that caused purging to fail. Only present in &lt;code>purgelog:error&lt;/code> docs.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>You can retrieve a list of all your purge logs, descending from newest to oldest, with this request:&lt;/p>
&lt;p>&lt;code>https(s)://&amp;lt;host&amp;gt;/medic-sentinel/_all_docs?end_key=&amp;quot;purgelog:&amp;quot;&amp;amp;start_key=&amp;quot;purgelog:\ufff0&amp;quot;&amp;amp;descending=true&lt;/code>&lt;/p>
&lt;p>You can retrieve a list of all your purge logs with errors, descending from newest to oldest, with this request:&lt;/p>
&lt;p>&lt;code>https(s)://&amp;lt;host&amp;gt;/medic-sentinel/_all_docs?end_key=&amp;quot;purgelog:error:&amp;quot;&amp;amp;start_key=&amp;quot;purgelog:error:\ufff0&amp;quot;&amp;amp;descending=true&lt;/code>&lt;/p>
&lt;p>Purging is reversible. If you update your purge function, when running purge the old invalid purges will be deleted. This does not mean that devices will automatically re-download documents that become unpurged. In order for the user to re-download a previously purged document, the document either needs to be updated in the &lt;code>medic&lt;/code> database on the server or the user has to download all data again.&lt;/p>
&lt;p>Running purge will not remove old purge databases, even if they don&amp;rsquo;t correspond to any existent users. Their removal is a manual process.&lt;/p>
&lt;p>Purge does not run when adding new roles or adding said new roles to users. It also does not run when an existent user is updated to have a new unique list of roles (one that purge has not run over yet). This means that roles need to be planned carefully in order to take advantage of serverside purge. If purge has not run for the user&amp;rsquo;s list of roles at the moment of initial replication, the user will download &lt;strong>all&lt;/strong> documents - only to be purged later.&lt;/p>
&lt;h3 id="purged-documents-client-side">Purged documents client-side&lt;/h3>
&lt;p>The key thing to keep in mind while purging is that &lt;strong>documents that you purge are deleted on user&amp;rsquo;s device&lt;/strong>. This sounds obvious, but it&amp;rsquo;s important to understand &lt;em>how&lt;/em> this affects the running of the application:&lt;/p>
&lt;ul>
&lt;li>Any &lt;strong>rules&lt;/strong> you have written that presume that the document exists may break. For example, if the document completes a task, purging it will reopen that task, unless you &lt;em>also&lt;/em> purge the document that created the task in the first place (while making sure that purging &lt;em>that&lt;/em> report doesn&amp;rsquo;t break more things!)&lt;/li>
&lt;li>Similarly &lt;strong>targets&lt;/strong> won&amp;rsquo;t be able to use the report to generate values, so counts may go down or become inaccurate&lt;/li>
&lt;li>Additionally, the &lt;strong>contact summary&lt;/strong> will also lose out on being able to use that report&lt;/li>
&lt;li>Changing the user&amp;rsquo;s roles list (adding/removing roles) will cause the user to download &lt;strong>all purged docs ids&lt;/strong> from the purge database corresponding to their new roles list.&lt;/li>
&lt;/ul>
&lt;p>More subtly, you may also confuse your users!&lt;/p>
&lt;p>If you purge documents too quickly, they may get confused as to whether they created the report or not, and may create it again, causing data problems. Users are not told that purging is occurring in a very obvious way: the expectation is that purging will naturally occur as documents become irrelevant, and so users should never really notice.&lt;/p>
&lt;p>Users may search for their own documents, and use data from them in novel ways you may not anticipate. It&amp;rsquo;s important to work with your users to ensure documents are only removed once there are no uses for them.&lt;/p>
&lt;p>It is key then, that you test your purge rules thoroughly!&lt;/p></description></item><item><title>Apps: CouchDB replication</title><link>https://docs.communityhealthtoolkit.org/apps/guides/performance/replication/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.communityhealthtoolkit.org/apps/guides/performance/replication/</guid><description>
&lt;p>Replication is what we call it when users download a copy of the data on to their device.&lt;/p>
&lt;h2 id="restricting-replication">Restricting replication&lt;/h2>
&lt;p>If the user has an online role they can access all the data, otherwise they will get restricted access to the data.&lt;/p>
&lt;h3 id="restriction-by-place">Restriction by place&lt;/h3>
&lt;p>The most common restriction is by place. This is where we check the user&amp;rsquo;s &lt;code>facility_id&lt;/code> property, and allow access to all contacts that are descendants of that place, and all reports and messages that are about one of those descendants.&lt;/p>
&lt;p>For example, if a CHP&amp;rsquo;s &lt;code>facility_id&lt;/code> property is set to the ID of the Maori Hill clinic, then they will be able to see all patients and all reports about patients at that clinic.&lt;/p>
&lt;h3 id="depth">Depth&lt;/h3>
&lt;p>Sometimes though you want to only access contacts near the top of the hierarchy. This may be because returning all contacts would be too much data to be practical, or for patient privacy, or because it&amp;rsquo;s just not part of your workflow. In this case you can configure a replication depth for a specific role under &lt;code>replication_depth&lt;/code> in the app settings.&lt;/p>
&lt;p>In 3.10, we add the ability to limit replication depth for reports, in conjunction with replication depth for contacts.&lt;/p>
&lt;h5 id="code-sample">Code sample:&lt;/h5>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-json" data-lang="json">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;replication_depth&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000;font-weight:bold">[&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">{&lt;/span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;role&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;district_manager&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;depth&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">1&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;report_depth&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">1&lt;/span> &lt;span style="color:#000;font-weight:bold">},&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">{&lt;/span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;role&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;national_manager&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;depth&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">2&lt;/span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;p>&lt;em>See Also&lt;/em>: &lt;a href="https://docs.communityhealthtoolkit.org/apps/reference/app-settings/replication_depth/">Replication Depth&lt;/a>&lt;/p>
&lt;h5 id="contact-depth">Contact Depth&lt;/h5>
&lt;p>Contact depth is calculated relative to the user&amp;rsquo;s home place, having the user&amp;rsquo;s facility at depth = 0. Places and contacts that are direct children the facility are on depth = 1, and so on.&lt;/p>
&lt;p>For example, considering the following contact hierarchy:&lt;/p>
&lt;pre tabindex="0">&lt;code>district &amp;gt; health_center &amp;gt; clinic &amp;gt; area &amp;gt; family &amp;gt; patient
&lt;/code>&lt;/pre>&lt;p>a &lt;code>supervisor&lt;/code> at &lt;code>health_center&lt;/code> level, and the following configuration:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-json" data-lang="json">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">{&lt;/span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;replication_depth&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000;font-weight:bold">[{&lt;/span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;role&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;supervisor_role&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;depth&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#a40000">&amp;lt;variable&amp;gt;&lt;/span> &lt;span style="color:#000;font-weight:bold">}]}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The &lt;code>supervisor&lt;/code> would download the following contacts and reports, depending on condigured depth:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Documents&lt;/th>
&lt;th>depth=0&lt;/th>
&lt;th>depth=1&lt;/th>
&lt;th>depth=2&lt;/th>
&lt;th>depth=3&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>health_center&lt;/code>&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>all reports about &lt;code>health_center&lt;/code>&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>person children of &lt;code>health_center&lt;/code>&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>reports about person children of &lt;code>health_center&lt;/code>&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>clinic&lt;/code>&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>all reports about &lt;code>clinic&lt;/code>&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>person children of &lt;code>clinic&lt;/code>&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>reports about person children of &lt;code>clinic&lt;/code>&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>family&lt;/code>&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>all reports about &lt;code>family&lt;/code>&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>person children of &lt;code>family&lt;/code>&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>✔&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>reports about person children of &lt;code>family&lt;/code>&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>✔&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h5 id="report-depth">Report Depth&lt;/h5>
&lt;p>As of 3.10, &lt;code>report_depth&lt;/code> works similarly to &lt;code>depth&lt;/code>, but it&amp;rsquo;s applied to reports (documents with &lt;code>&amp;quot;type&amp;quot;: &amp;quot;data_record&amp;quot;&lt;/code>) alone, excepting reports that are submitted by the authenticated user.
It only works in conjunction with &lt;code>depth&lt;/code>.&lt;/p>
&lt;p>Following the examples above:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-json" data-lang="json">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">{&lt;/span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;replication_depth&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000;font-weight:bold">[{&lt;/span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;role&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;supervisor_role&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;depth&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#a40000">&amp;lt;variable&amp;gt;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;report_depth&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#a40000">&amp;lt;variable&amp;gt;&lt;/span> &lt;span style="color:#000;font-weight:bold">}]}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The &lt;code>supervisor&lt;/code> would download the following contacts and reports:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Documents&lt;/th>
&lt;th>depth=0&lt;/th>
&lt;th>depth=1 report_depth=0&lt;/th>
&lt;th>depth=2 report_depth=0&lt;/th>
&lt;th>depth=2 report_depth=1&lt;/th>
&lt;th>depth=2 report_depth=0&lt;/th>
&lt;th>depth=3 report_depth=1&lt;/th>
&lt;th>depth=3 report_depth=2&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>health_center&lt;/code>&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>all reports about &lt;code>health_center&lt;/code>&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>children of &lt;code>health_center&lt;/code>&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>reports about children of &lt;code>health_center&lt;/code> submitted by &lt;code>supervisor&lt;/code>&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>reports about children of &lt;code>health_center&lt;/code> submitted by other users&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>clinic&lt;/code>&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>reports about &lt;code>clinic&lt;/code> submitted by &lt;code>supervisor&lt;/code>&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>reports about &lt;code>clinic&lt;/code> submitted by other users&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Documents&lt;/th>
&lt;th>depth=0&lt;/th>
&lt;th>depth=1 report_depth=0&lt;/th>
&lt;th>depth=2 report_depth=0&lt;/th>
&lt;th>depth=2 report_depth=1&lt;/th>
&lt;th>depth=2 report_depth=0&lt;/th>
&lt;th>depth=3 report_depth=1&lt;/th>
&lt;th>depth=3 report_depth=2&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>children of &lt;code>clinic&lt;/code>&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>reports about children of &lt;code>clinic&lt;/code> submitted by &lt;code>supervisor&lt;/code>&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>reports about children of &lt;code>clinic&lt;/code> submitted by other users&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>✔&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>family&lt;/code>&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>reports about &lt;code>family&lt;/code> submitted by &lt;code>supervisor&lt;/code>&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>reports about &lt;code>family&lt;/code> submitted by other users&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>✔&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>children of &lt;code>family&lt;/code>&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>reports about children of &lt;code>family&lt;/code> submitted by &lt;code>supervisor&lt;/code>&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>✔&lt;/td>
&lt;td>✔&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>reports about children of &lt;code>family&lt;/code> submitted by other users&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>If &lt;code>report_depth&lt;/code> is omitted, the user will have access to all reports about contacts they see.&lt;/p>
&lt;p>If &lt;code>report_depth&lt;/code> is higher than &lt;code>depth&lt;/code>, it has no effect.&lt;/p>
&lt;p>If &lt;code>depth&lt;/code> is omitted, the rule is invalid and will be ignored.&lt;/p>
&lt;p>If a user&amp;rsquo;s roles match multiple &lt;code>replication_depth&lt;/code> entries, the one with the highest &lt;code>depth&lt;/code> is selected.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-json" data-lang="json">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;replication_depth&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000;font-weight:bold">[&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">{&lt;/span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;role&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;role1&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;depth&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">1&lt;/span> &lt;span style="color:#000;font-weight:bold">},&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">{&lt;/span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;role&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;role2&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;depth&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">2&lt;/span> &lt;span style="color:#000;font-weight:bold">},&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">{&lt;/span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;role&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;role3&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;depth&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">3&lt;/span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>A user with &lt;code>roles: [&amp;quot;role1&amp;quot;, &amp;quot;role2&amp;quot;, &amp;quot;role3&amp;quot;]&lt;/code> will have a replication depth of 3.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-json" data-lang="json">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;replication_depth&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000;font-weight:bold">[&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">{&lt;/span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;role&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;role1&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;depth&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">2&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;report_depth&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">1&lt;/span> &lt;span style="color:#000;font-weight:bold">},&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">{&lt;/span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;role&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;role2&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;depth&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">5&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;report_depth&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">2&lt;/span> &lt;span style="color:#000;font-weight:bold">},&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">{&lt;/span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;role&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;role3&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;depth&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">4&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;report_depth&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">3&lt;/span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>A user with &lt;code>roles: [&amp;quot;role1&amp;quot;, &amp;quot;role2&amp;quot;, &amp;quot;role3&amp;quot;]&lt;/code> will have a replication depth of 5 and report replication depth of 2.&lt;/p>
&lt;h3 id="supervisor-signoff">Supervisor signoff&lt;/h3>
&lt;p>Some reports need to be signed off by a supervisor even though that supervisor doesn&amp;rsquo;t have the depth to see the patient the report is about. To achieve this the report needs a field named &lt;code>needs_signoff&lt;/code> with a value of &lt;code>true&lt;/code>.&lt;/p>
&lt;h3 id="sensitive-documents">Sensitive documents&lt;/h3>
&lt;p>We won&amp;rsquo;t replicate reports that are &lt;code>private&lt;/code> and are about the user when the sender is someone the user can&amp;rsquo;t access. A report is private when it has a property &lt;code>doc.fields.private&lt;/code> with a value of &lt;code>true&lt;/code>. For example, if a supervisor submits a private report about one of their CHPs, that CHP won&amp;rsquo;t be able to see it.&lt;/p></description></item><item><title>Apps: User telemetry</title><link>https://docs.communityhealthtoolkit.org/apps/guides/performance/telemetry/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.communityhealthtoolkit.org/apps/guides/performance/telemetry/</guid><description>
&lt;p>&lt;em>Introduced in v3.4.0&lt;/em>&lt;/p>
&lt;p>The app collects performance data on certain user actions which is then aggregated each day and replicated to the server. This can be used to evaluate the performance of the code and configuration and to evaluate where improvements can be made.&lt;/p>
&lt;p>The aggregate doc for the previous day is created when the first telemetry item is recorded each day. This is stored in the &lt;code>medic-user-&amp;lt;username&amp;gt;-meta&lt;/code> database on the device and replicated to the server when an internet connection is available. This user specific server db is then replicated into the &lt;code>medic-users-meta&lt;/code> database which holds all aggregate telemetry docs for all users.&lt;/p>
&lt;p>The aggregate docs&amp;rsquo; IDs follow the pattern &lt;code>telemetry-&amp;lt;year&amp;gt;-&amp;lt;month&amp;gt;-&amp;lt;day&amp;gt;-&amp;lt;username&amp;gt;-&amp;lt;uuid&amp;gt;&lt;/code>.&lt;/p>
&lt;div class="alert alert-primary" role="alert">
&lt;h4 class="alert-heading">Note&lt;/h4>
Versions prior to v3.12.0 do aggregate in a monthly basis instead of daily, and the aggregate docs&amp;rsquo; IDs follow the pattern &lt;code>telemetry-&amp;lt;year&amp;gt;-&amp;lt;month&amp;gt;-&amp;lt;username&amp;gt;-&amp;lt;uuid&amp;gt;&lt;/code>.
&lt;/div>
&lt;h2 id="performance-data">Performance data&lt;/h2>
&lt;p>Each aggregate data point has the following fields.&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Field&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>sum&lt;/code>&lt;/td>
&lt;td>A sum of all the recorded times in milliseconds.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>min&lt;/code>&lt;/td>
&lt;td>The smallest time recorded in milliseconds.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>max&lt;/code>&lt;/td>
&lt;td>The largest time recorded in milliseconds.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>count&lt;/code>&lt;/td>
&lt;td>The number of times recorded.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>sumsqr&lt;/code>&lt;/td>
&lt;td>The sum of squares of the times recorded in milliseconds.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>The telemetry data gathered changes with different versions of the framework. Currently, the data points collected are:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Field&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>boot_time&lt;/code>&lt;/td>
&lt;td>The overall boot time including loading the code, purging, and accessing the database.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>boot_time:1:to_first_code_execution&lt;/code>&lt;/td>
&lt;td>The time between the page loading and the JavaScript starting to run.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>boot_time:2:to_bootstrap&lt;/code>&lt;/td>
&lt;td>The time between JavaScript starting and the bootstrapping (purging, initial replication, etc) to complete.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>boot_time:2_1:to_replication&lt;/code>&lt;/td>
&lt;td>The time it took to complete initial replication. If initial replication was interrupted and retried, this value will be incorrect. Added in 3.14.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>boot_time:2_2:to_purge&lt;/code>&lt;/td>
&lt;td>The time it takes to complete the purge. Added in 3.14.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>boot_time:2_3:to_purge_meta&lt;/code>&lt;/td>
&lt;td>The time it takes to complete the purge of local meta database. Added in 3.14.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>boot_time:3:to_angular_bootstrap&lt;/code>&lt;/td>
&lt;td>The time between bootstrapping completing and the webapp being ready to use.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>boot_time:4:to_db_warmed&lt;/code>&lt;/td>
&lt;td>The time between the webapp being ready to use and the database being ready to use.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>boot_time:purging:&amp;lt;boolean&amp;gt;&lt;/code>&lt;/td>
&lt;td>&lt;code>boot_time:purging:true&lt;/code> when purging ran successfully on device startup, &lt;code>boot_time:purging:false&lt;/code> when purging did not run. Added in 3.14.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>boot_time:purging_failed&lt;/code>&lt;/td>
&lt;td>The purging failed when running on device startup. Added in 3.14.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>boot_time:purging_meta:&amp;lt;boolean&amp;gt;&lt;/code>&lt;/td>
&lt;td>&lt;code>boot_time:purging_meta:true&lt;/code> when purging of the local meta database ran successfully, &lt;code>boot_time:purging_meta:false&lt;/code> when it did not run. Added in 3.14.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>boot_time:purging_meta_failed&lt;/code>&lt;/td>
&lt;td>The purging of the local meta database failed. Added in 3.14.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>enketo:reports:&amp;lt;form&amp;gt;:&amp;lt;action&amp;gt;:&amp;lt;component&amp;gt;&lt;/code>&lt;/td>
&lt;td>The time taken to fill in Enketo forms. The &lt;code>action&lt;/code> can either be &amp;ldquo;add&amp;rdquo; or &amp;ldquo;edit&amp;rdquo;. The &lt;code>component&lt;/code> is one of: &amp;ldquo;render&amp;rdquo; covers getting the form and rendering it on screen; &amp;ldquo;user_edit_time&amp;rdquo; is the time the user took to fill in and submit the form; or &amp;ldquo;save&amp;rdquo; is about converting the form into a report and saving it.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>enketo:contacts:&amp;lt;form&amp;gt;:add:&amp;lt;component&amp;gt;&lt;/code>&lt;/td>
&lt;td>As above but for Contact creation forms.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>enketo:tasks:&amp;lt;form&amp;gt;:&amp;lt;action&amp;gt;:&amp;lt;component&amp;gt;&lt;/code>&lt;/td>
&lt;td>As above but for forms on the Tasks tab.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>search:contacts&lt;/code>&lt;/td>
&lt;td>The time taken to list all contacts.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>search:contacts:&amp;lt;filter[:filter]&amp;gt;&lt;/code>&lt;/td>
&lt;td>The time taken to search all contacts using the given filters.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>search:reports&lt;/code>&lt;/td>
&lt;td>The time taken to list all reports.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>search:reports:&amp;lt;filter[:filter]&amp;gt;&lt;/code>&lt;/td>
&lt;td>The time taken to search all reports using the given filters.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>sidebar_filter:reports:open&lt;/code>&lt;/td>
&lt;td>Number of times the user opens the sidebar filter in Reports tab.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>client-date-offset&lt;/code>&lt;/td>
&lt;td>The difference between the client datetime and the server datetime. Only recorded if the difference is large enough that it may cause issues.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>analytics:targets:load&lt;/code>&lt;/td>
&lt;td>The time taken to load the targets page. Added in 3.9&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>tasks:load&lt;/code>&lt;/td>
&lt;td>The time taken to load the tasks page. Added in 3.9&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>tasks:refresh&lt;/code>&lt;/td>
&lt;td>The time taken to refresh tasks on the tasks page. Added in 3.9&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>rules-engine:initialize&lt;/code>&lt;/td>
&lt;td>The time taken to initialize the rules-engine . Added in 3.9&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>rules-engine:update-emissions&lt;/code>&lt;/td>
&lt;td>The time taken to update emissions in the rules-engine, when receiving a change. Added in 3.9&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>rules-engine:tasks:all-contacts&lt;/code>&lt;/td>
&lt;td>The time taken to fetch tasks for all contacts in rules-engine. Added in 3.9&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>rules-engine:tasks:some-contacts&lt;/code>&lt;/td>
&lt;td>The time taken to fetch tasks for some specific contacts in rules-engine. Added in 3.9&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>rules-engine:targets&lt;/code>&lt;/td>
&lt;td>Time taken for the rules-engine to fetch targets. Added in 3.9&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>rules-engine:targets:dirty-contacts&lt;/code>&lt;/td>
&lt;td>Number of &amp;ldquo;dirty&amp;rdquo; contacts[1] when fetching targets in the rules-engine. Added in 3.9&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>rules-engine:tasks:dirty-contacts&lt;/code>&lt;/td>
&lt;td>Number of &amp;ldquo;dirty&amp;rdquo; contacts[1] when fetching tasks in the rules-engine. Added in 3.9&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>rules-engine:ensureTaskFreshness:cancel&lt;/code>&lt;/td>
&lt;td>The time taken to cancel the automated task freshness thread in the rules-engine. This event is only recorded when the thread is cancelled before executing the refresh. Added in 3.9&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>rules-engine:ensureTargetFreshness:cancel&lt;/code>&lt;/td>
&lt;td>The time taken to cancel the automated target freshness thread in the rules-engine. This event is only recorded when the thread is cancelled before executing the refresh. Added in 3.9&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>rules-engine:tasks-breakdown:some-contacts&lt;/code>&lt;/td>
&lt;td>The time taken to fetch the tasks breakdown by status for some contacts. Added in 3.13.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>replication:user-initiated&lt;/code>&lt;/td>
&lt;td>Number of times the user clicked &amp;ldquo;Sync now&amp;rdquo;. Added in 3.12.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>replication:&amp;lt;database&amp;gt;:&amp;lt;direction&amp;gt;:success&lt;/code>&lt;/td>
&lt;td>Time taken to replicate, when replication was successful. Added in 3.12.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>replication:&amp;lt;database&amp;gt;:&amp;lt;direction&amp;gt;:failure&lt;/code>&lt;/td>
&lt;td>Time taken to replicate, when replication failed. Added in 3.12.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>replication:&amp;lt;database&amp;gt;:&amp;lt;direction&amp;gt;:failure:reason:offline:client&lt;/code>&lt;/td>
&lt;td>Number of times replication failed because of connection errors, and the app detects the client is offline. Added in 3.12.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>replication:&amp;lt;database&amp;gt;:&amp;lt;direction&amp;gt;:failure:reason:offline:server&lt;/code>&lt;/td>
&lt;td>Number of times replication failed because of connection errors, and the app detects the client is online. Added in 3.12.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>replication:&amp;lt;database&amp;gt;:&amp;lt;direction&amp;gt;:failure:reason:error&lt;/code>&lt;/td>
&lt;td>Number of times replication failed because of errors other than connection errors. Added in 3.12.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>replication:&amp;lt;database&amp;gt;:&amp;lt;direction&amp;gt;:docs&lt;/code>&lt;/td>
&lt;td>Number of replicated docs. For &lt;code>medic&lt;/code> replication, stores number of &amp;ldquo;read&amp;rdquo; docs, for &lt;code>meta&lt;/code> replication, stores sum of read docs for every direction. Added in 3.12.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>replication:medic:&amp;lt;direction&amp;gt;:ms-since-last-replicated-date&lt;/code>&lt;/td>
&lt;td>Time between a replication attempt and the last successful replication. Only recorded for medic database, every time replication is attempted. Added in 3.12.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>replication:medic:&amp;lt;direction&amp;gt;:denied&lt;/code>&lt;/td>
&lt;td>Number of times replication was denied[2]. Added in 3.12.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>tasks:group:all-tasks&lt;/code>&lt;/td>
&lt;td>Total number of tasks for the household (includes all statuses), when displaying household tasks page. Added in 3.13.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>tasks:group:cancelled&lt;/code>&lt;/td>
&lt;td>Number of cancelled tasks for the household, when displaying household tasks page. Added in 3.13.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>tasks:group:ready&lt;/code>&lt;/td>
&lt;td>Number of tasks in &amp;ldquo;Ready&amp;rdquo; state for the household, when displaying household tasks page. Added in 3.13.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>tasks:group:ready:&amp;lt;task_title&amp;gt;&lt;/code>&lt;/td>
&lt;td>Breakdown of &amp;ldquo;Ready&amp;rdquo; tasks by &lt;code>task_title&lt;/code> for the household, when displaying household tasks page. Added in 3.13.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>tasks:group:modal:confirm&lt;/code>&lt;/td>
&lt;td>Number times the user confirms navigation away from the household tasks page. Added in 3.13.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>tasks:group:modal:reject&lt;/code>&lt;/td>
&lt;td>Number times the user rejects navigation away from the household tasks page. Added in 3.13.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>user_settings:language:&amp;lt;language_code&amp;gt;&lt;/code>&lt;/td>
&lt;td>The selected language by the user, example: &lt;code>user_settings:language:en&lt;/code>. Added in 3.14.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>enketo:&amp;lt;training-card&amp;gt;:add:render&lt;/code>&lt;/td>
&lt;td>The time it took to render the training card. Added in 4.2.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>enketo:&amp;lt;training-card&amp;gt;:add:user_edit_time&lt;/code>&lt;/td>
&lt;td>The time the user took to complete the training card. Added in 4.2.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>enketo:&amp;lt;training-card&amp;gt;:add:save&lt;/code>&lt;/td>
&lt;td>The time it took to save the training card. Added in 4.2.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>enketo:&amp;lt;training-card&amp;gt;:add:quit&lt;/code>&lt;/td>
&lt;td>The time from when the training card was rendered to when the user quits the training. Added in 4.2.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>geolocation:success&lt;/code>&lt;/td>
&lt;td>A successful GPS response with the value showing the accuracy.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>geolocation:failure:&amp;lt;x&amp;gt;&lt;/code>&lt;/td>
&lt;td>An unsuccessful GPS response. &lt;code>x&lt;/code> is a constant matching the &lt;a href="https://developer.mozilla.org/en-US/docs/Web/API/GeolocationPositionError/code">GeolocationPositionError&lt;/a> or with one of the following values: &lt;code>-1&lt;/code> unknown failure, &lt;code>-2&lt;/code> timeout, or &lt;code>-3&lt;/code> geolocation services unavailable.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>[1] &amp;ldquo;Dirty&amp;rdquo; indicates that the contact&amp;rsquo;s task documents are not up to date. They will be refreshed before being used. &lt;br>
[2] Replication can be denied when the user doesn&amp;rsquo;t have permissions to create a doc (hierarchy permissions) or when a doc fails a &lt;code>validate_doc_update&lt;/code> check.&lt;/p>
&lt;p>Unless otherwise specified, &lt;code>database&lt;/code> and &lt;code>direction&lt;/code> placeholders stand for any combination of:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>database&lt;/th>
&lt;th>direction&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>medic&lt;/code>&lt;/td>
&lt;td>&lt;code>from&lt;/code> or &lt;code>to&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>meta&lt;/code>&lt;/td>
&lt;td>&lt;code>sync&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="metadata">Metadata&lt;/h2>
&lt;p>When the aggregate doc is created the Telemetry service also includes a snapshot of some metadata.&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Field&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>year&lt;/code>&lt;/td>
&lt;td>The year the data was collected. Added in 3.4.0.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>month&lt;/code>&lt;/td>
&lt;td>The month the data was collected. Initially the month was 0 indexed (eg: 0=Jan, 1=Feb, &amp;hellip;), but from 3.8.0 &lt;a href="https://github.com/medic/cht-core/issues/5949">this bug was fixed&lt;/a> so it changed to 1 indexed (eg: 1=Jan, 2=Feb, &amp;hellip;). Added in 3.4.0.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>day&lt;/code>&lt;/td>
&lt;td>The day of the month the data was collected. Added in 3.12.0.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>user&lt;/code>&lt;/td>
&lt;td>The username of the logged in user. Added in 3.4.0.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>deviceId&lt;/code>&lt;/td>
&lt;td>A unique key for this device. Added in 3.4.0.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>versions.app&lt;/code>&lt;/td>
&lt;td>The version of the webapp. Added in 3.5.0.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>versions.forms.&amp;lt;form&amp;gt;&lt;/code>&lt;/td>
&lt;td>The version of each form. Added in 3.5.0.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>userAgent&lt;/code>&lt;/td>
&lt;td>The userAgent string from the user&amp;rsquo;s browser. Added in 3.4.0.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>hardwareConcurrency&lt;/code>&lt;/td>
&lt;td>The number of cores reported from the browser. Added in 3.4.0.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>screen.width&lt;/code>&lt;/td>
&lt;td>The width of the screen in pixels. Added in 3.4.0.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>screen.height&lt;/code>&lt;/td>
&lt;td>The height of the screen in pixels. Added in 3.4.0.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>deviceInfo.app.version&lt;/code>&lt;/td>
&lt;td>The version name of the Android app. Only captured when running in the Android wrapper v0.4.0+. Added in 3.8.0.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>deviceInfo.app.packageName&lt;/code>&lt;/td>
&lt;td>The package name of the Android app. Only captured when running in the Android wrapper v0.9.0+. Added in 3.12.0.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>deviceInfo.app.versionCode&lt;/code>&lt;/td>
&lt;td>The Internal &lt;a href="https://developer.android.com/reference/android/R.styleable#AndroidManifest_versionCode">version code&lt;/a> of the Android app. Only captured when running in the Android wrapper v0.9.0+. Added in 3.12.0.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>deviceInfo.software.androidVersion&lt;/code>&lt;/td>
&lt;td>The version of Android OS. Only captured when running in the Android wrapper v0.4.0+. Added in 3.8.0.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>deviceInfo.software.osApiLevel&lt;/code>&lt;/td>
&lt;td>The API of the Android OS. Only captured when running in the Android wrapper v0.4.0+. Added in 3.8.0.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>deviceInfo.software.osVersion&lt;/code>&lt;/td>
&lt;td>The version of Android OS (detailed). Only captured when running in the Android wrapper v0.4.0+. Added in 3.8.0.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>deviceInfo.hardware.device&lt;/code>&lt;/td>
&lt;td>The Android device name. Only captured when running in the Android wrapper v0.4.0+. Added in 3.8.0.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>deviceInfo.hardware.model&lt;/code>&lt;/td>
&lt;td>The Android model name. Only captured when running in the Android wrapper v0.4.0+. Added in 3.8.0.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>deviceInfo.hardware.manufacturer&lt;/code>&lt;/td>
&lt;td>The Android device manufacturer. Only captured when running in the Android wrapper v0.4.0+. Added in 3.8.0.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>deviceInfo.hardware.hardware&lt;/code>&lt;/td>
&lt;td>The Android device hardware. Only captured when running in the Android wrapper v0.4.0+. Added in 3.8.0.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>deviceInfo.hardware.cpuInfo&lt;/code>&lt;/td>
&lt;td>The Android device CPU information. Only captured when running in the Android wrapper v0.4.0+. Added in 3.8.0.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>deviceInfo.storage.free&lt;/code>&lt;/td>
&lt;td>The available storage on the device. Only captured when running in the Android wrapper v0.4.0+. Added in 3.8.0.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>deviceInfo.storage.total&lt;/code>&lt;/td>
&lt;td>The total storage on the device. Only captured when running in the Android wrapper v0.4.0+. Added in 3.8.0.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>deviceInfo.ram.free&lt;/code>&lt;/td>
&lt;td>The available RAM on the device. Only captured when running in the Android wrapper v0.4.0+. Added in 3.8.0.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>deviceInfo.ram.total&lt;/code>&lt;/td>
&lt;td>The total RAM on the device. Only captured when running in the Android wrapper v0.4.0+. Added in 3.8.0.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>deviceInfo.ram.threshold&lt;/code>&lt;/td>
&lt;td>The level of RAM at which certain services will be killed by Android. Only captured when running in the Android wrapper v0.4.0+. Added in 3.8.0.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>deviceInfo.network.downSpeed&lt;/code>&lt;/td>
&lt;td>The reported download speed of the network. Only captured when running in the Android wrapper v0.4.0+. Added in 3.8.0.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>deviceInfo.network.upSpeed&lt;/code>&lt;/td>
&lt;td>The reported upload speed of the network. Only captured when running in the Android wrapper v0.4.0+. Added in 3.8.0.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>dbInfo.doc_count&lt;/code>&lt;/td>
&lt;td>The number of docs in the local database. Added in 3.4.0.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>dbInfo.update_seq&lt;/code>&lt;/td>
&lt;td>The update sequence of the local database. Added in 3.4.0.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>dbInfo.idb_attachment_format&lt;/code>&lt;/td>
&lt;td>The format of database attachments. Added in 3.4.0.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>dbInfo.db_name&lt;/code>&lt;/td>
&lt;td>The name of the local database. Added in 3.4.0.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>dbInfo.auto_compaction&lt;/code>&lt;/td>
&lt;td>Whether or not auto compaction is set. Added in 3.4.0.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>dbInfo.adapter&lt;/code>&lt;/td>
&lt;td>The database adapter being used. Added in 3.4.0.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="export-data-to-json">Export data to JSON&lt;/h2>
&lt;div class="alert alert-primary" role="alert">
&lt;h4 class="alert-heading">Note&lt;/h4>
Telemetry data can be viewed directly in your browser with &lt;a href="https://couchdb.apache.org/fauxton-visual-guide/">Fauxton&lt;/a> at &lt;code>https://{{CHT_INSTANCE_URL}}/_utils&lt;/code>, and navigating the &lt;code>medic-users-meta&lt;/code> database.
&lt;/div>
&lt;p>To export all telemetry in JSON for further analysis or visualization, first meet these prerequisites:&lt;/p>
&lt;ol>
&lt;li>Ensure that both &lt;a href="https://nodejs.org/en/">&lt;code>node&lt;/code>&lt;/a> and &lt;a href="https://www.npmjs.com/get-npm">&lt;code>npm&lt;/code>&lt;/a> are installed and that the needed &lt;code>node&lt;/code> libraries are installed: &lt;code>npm install inquirer pouchdb-core fs path minimist pouchdb-adapter-http&lt;/code>&lt;/li>
&lt;li>Get a current copy of the export script: &lt;code>curl -s -o get_users_meta_docs.js https://raw.githubusercontent.com/medic/cht-core/master/scripts/get_users_meta_docs.js&lt;/code>&lt;/li>
&lt;/ol>
&lt;p>To export the data open a terminal in the folder where you want to save the export, and run this command:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>node get_users_meta_docs.js --mode batch --type telemetry https://USERNAME:PASSWORD@COUCHDB_SERVER:COUCHDB_PORT/medic-users-meta &amp;gt; telemetry.json
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>For example, if your username is &lt;code>admin&lt;/code>, your password is &lt;code>pass&lt;/code>, your CouchDB server is &lt;code>localhost&lt;/code> and your CouchDB port is &lt;code>5984&lt;/code>, you would run:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>node get_users_meta_docs.js --mode batch --type telemetry https://admin:pass@localhost:5984/medic-users-meta &amp;gt; telemetry.json
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>This will save a file named &lt;code>telemetry.json&lt;/code> containing all the telemetry data in the current directory.&lt;/p>
&lt;h2 id="code-samples">Code Samples&lt;/h2>
&lt;h3 id="logged-in-from-the-browser">Logged in from the browser&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-js" data-lang="js">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;_id&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;telemetry-2020-5-medic-016304ab-7167-4c97-93bb-a6626ef6128d&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;_rev&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;1-90a94d76eb30ac47e2f498b80cf54cd1&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;type&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;telemetry&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;metrics&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;boot_time&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;sum&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">3879.43500012625&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;min&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">308.0550000304356&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;max&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">1110.6599999475293&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;count&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">7&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;sumsqr&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">2616858.529000253&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">},&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;boot_time:1:to_first_code_execution&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;sum&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">2096.309999935329&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;min&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">141.66500000283122&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;max&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">558.6599999805912&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;count&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">8&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;sumsqr&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">672987.1618553334&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">},&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;boot_time:2:to_bootstrap&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;sum&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">628.5150001058355&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;min&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">70.50499995239079&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;max&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">129.88000002223998&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;count&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">7&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;sumsqr&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">58704.48214660012&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">},&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;boot_time:3:to_angular_bootstrap&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;sum&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">1415.5550000723451&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;min&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">45.25000008288771&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;max&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">787.9549999488518&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;count&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">7&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;sumsqr&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">732805.5498113176&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">},&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;search:contacts:types&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;sum&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">3728.9899999741465&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;min&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">96.60000004805624&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;max&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">1134.1099999845028&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;count&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">8&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;sumsqr&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">2939824.639961114&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">},&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;search:reports:subjectIds&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;sum&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">3825.224999745842&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;min&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">27.304999995976686&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;max&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">982.2900000144728&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;count&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">25&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;sumsqr&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">1461182.0137715642&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">},&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;metadata&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;year&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">2020&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;month&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">5&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;day&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">20&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;user&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;medic&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;deviceId&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;016304ab-7167-4c97-93bb-a6626ef6128d&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;versions&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;app&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;master&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;forms&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;client_review&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;2-51ad4bd1c86c18ea768196da8264147e&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;contact:clinic:create&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;16-8dbb4dde6f8f9067e9cbed5b44ce5fd0&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;contact:clinic:edit&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;2-c1c955042db963a95470bdf891bcef6f&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;contact:district_hospital:create&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;2-42b8b579b38ca6c2978c238e7d9c78fe&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;contact:district_hospital:edit&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;2-4360bb0eb6f6ff863849a07adac7e851&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;contact:health_center:create&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;2-c9b86820479f211c8e505eba150c5203&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;contact:health_center:edit&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;2-19b3da5f9f146be07ec1854a372e374b&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;contact:person:create&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;2-230d39c41682da720b83e4909b138c9b&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;contact:person:edit&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;6-75781492122157beb7c2451861970ece&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;death_report&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;2-97cfa3cc24ee743dfea03c019d644bec&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;delivery&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;2-adf37c0da7d5e58c8e4d27fc940f70e6&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;enroll&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;10-13322d437e301f3c436e3b989a3fd384&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;no_contact&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;4-0901afd126ec6c87fe952ca3c3a652ed&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;pnc_danger_sign_follow_up_baby&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;2-12e8989f6774828bb10aa4b675bc43ff&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;pnc_danger_sign_follow_up_mother&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;2-62f58b6e0ade10d70f15df73ddb6a025&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;pregnancy&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;2-4fa3db96cae638c4cb041125c9970496&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;pregnancy_danger_sign&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;2-49758bfd894fb5db6e719bff864f9da9&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;pregnancy_danger_sign_follow_up&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;2-a9a2b6800d6f93e151a3a63359620976&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;pregnancy_facility_visit_reminder&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;2-0e3deaf22966166d05bcf803615499c8&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;pregnancy_home_visit&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;2-283eb323e61a7fc756bda61f9d9be382&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;referral_for_care&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;2-627c6c21bd54e482133acc8188a71f8d&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;undo_death_report&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;2-3a4ca8d678f0338d7044cb1bc35d103d&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">},&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;device&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;userAgent&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.106 Safari/537.36&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;hardwareConcurrency&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">4&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;screen&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;width&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">1920&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;height&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">1080&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">},&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;deviceInfo&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#000;font-weight:bold">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">},&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;dbInfo&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;db_name&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;medic&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;purge_seq&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;0-g1AAAAEzeJzLYWBg4MhgTmHgzcvPy09JdcjLz8gvLskBCjPlsQBJhgNA6v____ezEhnwqnsAUfefkLoFEHX7CalrgKibj1tdkgKQTLLHa2dSAkhNPX41DiA18XjVJDIkyUMUZAEAuYBi9g&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;update_seq&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;1456-g1AAAAE2eJzLYWBg4MhgTmHgzcvPy09JdcjLz8gvLskBCjMlMiTJ____PytxAg4FSQpAMskerGYhLjUOIDXxYDVTcKlJAKmpB6tZhENNHguQZGgAUkBl87MSl-JVtwCibn9WYjtedQcg6u7jdj9E3QOIuv9ZSQwMjDVZAFZfZ6g&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;sizes&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;file&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">67196510&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;external&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">65800620&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;active&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">65357308&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">},&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;other&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;data_size&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">65800620&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">},&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;doc_del_count&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">41&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;doc_count&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">497&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;disk_size&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">67196510&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;disk_format_version&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">7&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;data_size&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">65357308&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;compact_running&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#204a87;font-weight:bold">false&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;cluster&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;q&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">8&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;n&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">1&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;w&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">1&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;r&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">},&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;instance_start_time&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;0&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;host&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;http://localhost:5988/medic/&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;auto_compaction&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#204a87;font-weight:bold">false&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;adapter&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;http&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item></channel></rss>