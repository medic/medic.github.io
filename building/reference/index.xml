<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Community Health Toolkit â€“ Reference Documentation</title><link>https://docs.communityhealthtoolkit.org/building/reference/</link><description>Recent content in Reference Documentation on Community Health Toolkit</description><generator>Hugo -- gohugo.io</generator><language>en</language><atom:link href="https://docs.communityhealthtoolkit.org/building/reference/index.xml" rel="self" type="application/rss+xml"/><item><title>API to interact with CHT Applications</title><link>https://docs.communityhealthtoolkit.org/building/reference/api/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.communityhealthtoolkit.org/building/reference/api/</guid><description>
&lt;style>
.td-content #TableOfContents ul ul ul {
display: none;
}
&lt;/style>
&lt;p>This page covers the endpoints to use when integrating with the CHT server. If there isn&amp;rsquo;t an endpoint that provides the function or data you need, direct access to the database is possible via the &lt;a href="https://docs.couchdb.org/en/stable/api/index.html" target="_blank" rel="noopener">CouchDB API&lt;/a>. Access to the &lt;a href="https://docs.communityhealthtoolkit.org/technical-overview/data/analytics/data-flows-for-analytics/" >PostgreSQL database&lt;/a> may also prove useful for data analysis. If additional endpoints would be helpful, make suggestions via a &lt;a href="https://github.com/medic/cht-core/issues/new/choose" target="_blank" rel="noopener">GitHub issue&lt;/a>.&lt;/p>
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#settings">Settings&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#get-apiv1settings">GET /api/v1/settings&lt;/a>&lt;/li>
&lt;li>&lt;a href="#put-apiv1settings">PUT /api/v1/settings&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#export">Export&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#get-apiv2exportdhis">GET /api/v2/export/dhis&lt;/a>&lt;/li>
&lt;li>&lt;a href="#get-apiv2exportreports">GET /api/v2/export/reports&lt;/a>&lt;/li>
&lt;li>&lt;a href="#get-apiv2exportmessages">GET /api/v2/export/messages&lt;/a>&lt;/li>
&lt;li>&lt;a href="#get-apiv2exportfeedback">GET /api/v2/export/feedback&lt;/a>&lt;/li>
&lt;li>&lt;a href="#get-apiv2exportcontacts">GET /api/v2/export/contacts&lt;/a>&lt;/li>
&lt;li>&lt;a href="#get-apiv2exportuser-devices">GET /api/v2/export/user-devices&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#forms">Forms&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#get-apiv1forms">GET /api/v1/forms&lt;/a>&lt;/li>
&lt;li>&lt;a href="#get-apiv1formsidformat">GET /api/v1/forms/{{id}}.{{format}}&lt;/a>&lt;/li>
&lt;li>&lt;a href="#post-apiv1formsvalidate">POST /api/v1/forms/validate&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#records">Records&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#post-apiv2records">POST /api/v2/records&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#sms">SMS&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#post-apisms">POST /api/sms&lt;/a>&lt;/li>
&lt;li>&lt;a href="#post-apiv1smsaggregatorendpoint">POST /api/v1/sms/{aggregator}/{endpoint}&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#contact">Contact&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#getapiv1contactuuid">GET/api/v1/contact/{{uuid}}&lt;/a>&lt;/li>
&lt;li>&lt;a href="#get-apiv1contactuuid">GET /api/v1/contact/uuid&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#person">Person&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#get-apiv1personuuid">GET /api/v1/person/{{uuid}}&lt;/a>&lt;/li>
&lt;li>&lt;a href="#get-apiv1person">GET /api/v1/person&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#people">People&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#supported-properties">Supported Properties&lt;/a>&lt;/li>
&lt;li>&lt;a href="#post-apiv1people">POST /api/v1/people&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#place">Place&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#get-apiv1placeuuid">GET /api/v1/place/{{uuid}}&lt;/a>&lt;/li>
&lt;li>&lt;a href="#get-apiv1place">GET /api/v1/place&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#places">Places&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#supported-properties-1">Supported Properties&lt;/a>&lt;/li>
&lt;li>&lt;a href="#post-apiv1places">POST /api/v1/places&lt;/a>&lt;/li>
&lt;li>&lt;a href="#post-apiv1placesid">POST /api/v1/places/{{id}}&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#report">Report&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#getapiv1reportuuid">GET/api/v1/report/{{uuid}}&lt;/a>&lt;/li>
&lt;li>&lt;a href="#get-apiv1reportuuid">GET /api/v1/report/uuid&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#users">Users&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#supported-properties-2">Supported Properties&lt;/a>&lt;/li>
&lt;li>&lt;a href="#get-apiv1users">GET /api/v1/users&lt;/a>&lt;/li>
&lt;li>&lt;a href="#get-apiv2users">GET /api/v2/users&lt;/a>&lt;/li>
&lt;li>&lt;a href="#get-apiv2usersusername">GET /api/v2/users/{{username}}&lt;/a>&lt;/li>
&lt;li>&lt;a href="#post-apiv1users">POST /api/v1/users&lt;/a>&lt;/li>
&lt;li>&lt;a href="#post-apiv2users">POST /api/v2/users&lt;/a>&lt;/li>
&lt;li>&lt;a href="#post-apiv1usersusername">POST /api/v1/users/{{username}}&lt;/a>&lt;/li>
&lt;li>&lt;a href="#delete-apiv1usersusername">DELETE /api/v1/users/{{username}}&lt;/a>&lt;/li>
&lt;li>&lt;a href="#get-apiv1users-info">GET /api/v1/users-info&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#bulk-operations">Bulk Operations&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#post-apiv1bulk-delete">POST /api/v1/bulk-delete&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#monitoring">Monitoring&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#get-apiv1monitoring">GET /api/v1/monitoring&lt;/a>&lt;/li>
&lt;li>&lt;a href="#get-apiv2monitoring">GET /api/v2/monitoring&lt;/a>&lt;/li>
&lt;li>&lt;a href="#get-apiv1express-metrics">GET /api/v1/express-metrics&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#upgrades">Upgrades&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#post-apiv1upgrade">POST /api/v1/upgrade&lt;/a>&lt;/li>
&lt;li>&lt;a href="#post-apiv1upgradestage">POST /api/v1/upgrade/stage&lt;/a>&lt;/li>
&lt;li>&lt;a href="#post-apiv1upgradecomplete">POST /api/v1/upgrade/complete&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#hydrate">Hydrate&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#get-apiv1hydrate">GET /api/v1/hydrate&lt;/a>&lt;/li>
&lt;li>&lt;a href="#post-apiv1hydrate">POST /api/v1/hydrate&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#contacts-by-phone">Contacts by phone&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#get-apiv1contacts-by-phone">GET /api/v1/contacts-by-phone&lt;/a>&lt;/li>
&lt;li>&lt;a href="#post-apiv1contacts-by-phone">POST /api/v1/contacts-by-phone&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#replication-limit">Replication Limit&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#get-apiv1users-doc-count">GET /api/v1/users-doc-count&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#credentials">Credentials&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#put-apiv1credentials">PUT /api/v1/credentials&lt;/a>&lt;/li>
&lt;li>&lt;a href="#3x-api">3.x API&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;div class="hx-overflow-x-auto hx-mt-6 hx-flex hx-flex-col hx-rounded-lg hx-border hx-py-4 hx-px-4 contrast-more:hx-border-current contrast-more:dark:hx-border-current hx-border-blue-200 hx-bg-blue-100 hx-text-blue-900 dark:hx-border-blue-200/30 dark:hx-bg-blue-900/30 dark:hx-text-blue-200">
&lt;p class="hx-flex hx-items-center hx-font-medium">&lt;svg height=16px class="hx-inline-block hx-align-middle hx-mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>&lt;/svg>Note&lt;/p>
&lt;div class="hx-w-full hx-min-w-0 hx-leading-7">
&lt;div class="hx-mt-6 hx-leading-7 first:hx-mt-0">&lt;p>Various properties throughout this API use a timestamp value, the
following formats are supported:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ISO 8601 combined date and time with timezone of the format below where &amp;ldquo;Z&amp;rdquo; is offset from UTC like &amp;ldquo;-03&amp;rdquo;, &amp;ldquo;+1245&amp;rdquo;, or just &amp;ldquo;Z&amp;rdquo; which is UTC (0 offset);&lt;/p>
&lt;pre>&lt;code>YYYY-MM-DDTHH:mm:ssZ
YYYY-MM-DDTHH:mm:ss.SSSZ
&lt;/code>&lt;/pre>
&lt;/li>
&lt;li>
&lt;p>Milliseconds since Unix Epoch&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>A compatible value can be generated using the &lt;code>toISOString&lt;/code> or &lt;code>toValue&lt;/code> method
on a Javascript Date object.&lt;/p>
&lt;h5>Examples&lt;span class="hx-absolute -hx-mt-20" id="examples">&lt;/span>
&lt;a href="#examples" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h5>&lt;ul>
&lt;li>2011-10-10T14:48:00-0300&lt;/li>
&lt;li>2016-07-01T13:48:24+00:00&lt;/li>
&lt;li>2016-07-01T13:48:24Z&lt;/li>
&lt;li>1467383343484 (MS since Epoch)&lt;/li>
&lt;/ul>&lt;/div>
&lt;/div>
&lt;/div>
&lt;h2>Settings&lt;span class="hx-absolute -hx-mt-20" id="settings">&lt;/span>
&lt;a href="#settings" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Get and update the app settings.&lt;/p>
&lt;h3>GET /api/v1/settings&lt;span class="hx-absolute -hx-mt-20" id="get-apiv1settings">&lt;/span>
&lt;a href="#get-apiv1settings" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Returns the settings in JSON format.&lt;/p>
&lt;h3>PUT /api/v1/settings&lt;span class="hx-absolute -hx-mt-20" id="put-apiv1settings">&lt;/span>
&lt;a href="#put-apiv1settings" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;h4>Query Parameters&lt;span class="hx-absolute -hx-mt-20" id="query-parameters">&lt;/span>
&lt;a href="#query-parameters" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Variable&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>overwrite&lt;/td>
&lt;td>Whether to replace settings document with input document. If both replace and overwrite are set, then it overwrites only. Defaults to replace.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>replace&lt;/td>
&lt;td>Whether to replace existing settings for the given properties or to merge. Defaults to false (merging).&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Returns a JSON object with two fields:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;success&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;upgraded&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Variable&lt;/th>
&lt;th>Type&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>success&lt;/td>
&lt;td>Boolean&lt;/td>
&lt;td>Always &lt;code>true&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>upgraded&lt;/td>
&lt;td>Boolean&lt;/td>
&lt;td>Whether the settings doc was updated or not&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2>Export&lt;span class="hx-absolute -hx-mt-20" id="export">&lt;/span>
&lt;a href="#export" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Request different types of data in various formats.&lt;/p>
&lt;p>Each of the export endpoints except contacts, feedback, and user-devices supports a parameter which returns date formatted in human readable form (ISO 8601). Setting this parameter to false or leaving it out will return dates formatted as an epoch timestamp.&lt;/p>
&lt;p>To set this parameter for a GET request use:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>http://admin:pass@localhost:5988/api/v2/export/messages?options[humanReadable]=true&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>To set this parameter for a POST request submit this as the request body:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;options&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;humanReadable&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>GET /api/v2/export/dhis&lt;span class="hx-absolute -hx-mt-20" id="get-apiv2exportdhis">&lt;/span>
&lt;a href="#get-apiv2exportdhis" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Exports target data formatted as a DHIS2 dataValueSet. The data can be filtered to a specific section of the contact hierarchy or for a given time interval.&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>dataSet&lt;/td>
&lt;td>A DHIS2 dataSet ID. Targets associated with this dataSet will have their data aggregated. (required)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>date.from&lt;/td>
&lt;td>Filter the target data to be aggregated to be within the month of this timestamp. (required)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>orgUnit&lt;/td>
&lt;td>Filter the target data to only that associated with contacts with attribute &lt;code>{ dhis: { orgUnit } }&lt;/code>. (optional)&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;filters&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;dataSet&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;VMuFODsyWaO&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;date&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;from&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">949392000000&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;orgUnit&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;KbY9DJ8mBkx&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>GET /api/v2/export/reports&lt;span class="hx-absolute -hx-mt-20" id="get-apiv2exportreports">&lt;/span>
&lt;a href="#get-apiv2exportreports" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>It uses the &lt;a href="https://github.com/medic/cht-core/tree/master/shared-libs/search" target="_blank" rel="noopener">search shared library&lt;/a> to ensure identical results in the export and the front-end. It also only supports exporting CSV so we can efficiently stream infinitely large exports.&lt;/p>
&lt;h4>Query parameters&lt;span class="hx-absolute -hx-mt-20" id="query-parameters-1">&lt;/span>
&lt;a href="#query-parameters-1" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>These are identical to the JS objects passed to the shared library, as if you were using it directly in Javascript.&lt;/p>
&lt;p>You may either pass JSON in the request body using &lt;code>POST&lt;/code>:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="err">POST&lt;/span> &lt;span class="err">/api/v&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="err">/export/reports&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;filters&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;forms&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;selected&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;code&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;immunization_visit&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Or using form-style parameters as &lt;code>GET&lt;/code>:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>GET /api/v2/export/reports?filters[search]=&amp;amp;filters[forms][selected][0][code]=immunization_visit&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>&lt;strong>NB:&lt;/strong> this API is bound directly to this library. For more information on what queries you can perform with the search library, see &lt;a href="https://github.com/medic/cht-core/tree/master/shared-libs/search" target="_blank" rel="noopener">its documentation&lt;/a>.&lt;/p>
&lt;h3>GET /api/v2/export/messages&lt;span class="hx-absolute -hx-mt-20" id="get-apiv2exportmessages">&lt;/span>
&lt;a href="#get-apiv2exportmessages" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Download messages.&lt;/p>
&lt;h4>Output&lt;span class="hx-absolute -hx-mt-20" id="output">&lt;/span>
&lt;a href="#output" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Column&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Record UUID&lt;/td>
&lt;td>The unique ID for the message in the database.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Patient ID&lt;/td>
&lt;td>The generated short patient ID for use in SMS.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Reported Date&lt;/td>
&lt;td>The date the message was received or generated.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>From&lt;/td>
&lt;td>This phone number the message is or will be sent from.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Contact Name&lt;/td>
&lt;td>The name of the user this message is assigned to.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Message Type&lt;/td>
&lt;td>The type of the message&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Message State&lt;/td>
&lt;td>The state of the message at the time this export was generated&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Received Timestamp&lt;/td>
&lt;td>The datetime the message was received. Only applies to incoming messages.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Other Timestamps&lt;/td>
&lt;td>The datetime the message transitioned to each state.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Sent By&lt;/td>
&lt;td>The phone number the message was sent from. Only applies to incoming messages.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>To Phone&lt;/td>
&lt;td>The phone number the message is or will be sent to. Only applies to outgoing messages.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Message Body&lt;/td>
&lt;td>The content of the message.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4>Examples&lt;span class="hx-absolute -hx-mt-20" id="examples-1">&lt;/span>
&lt;a href="#examples-1" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>/api/v2/export/messages&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>GET /api/v2/export/feedback&lt;span class="hx-absolute -hx-mt-20" id="get-apiv2exportfeedback">&lt;/span>
&lt;a href="#get-apiv2exportfeedback" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Export a file containing the user feedback.&lt;/p>
&lt;h4>Query Parameters&lt;span class="hx-absolute -hx-mt-20" id="query-parameters-2">&lt;/span>
&lt;a href="#query-parameters-2" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Variable&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>format&lt;/td>
&lt;td>The format of the returned file, either &amp;lsquo;csv&amp;rsquo; or &amp;lsquo;xml&amp;rsquo;. Defaults to &amp;lsquo;csv&amp;rsquo;.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>locale&lt;/td>
&lt;td>Locale for translatable data. Defaults to &amp;rsquo;en&amp;rsquo;.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>tz&lt;/td>
&lt;td>The timezone to show date values in, as an offset in minutes from GMT, for example &amp;lsquo;-120&amp;rsquo;.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>skip_header_row&lt;/td>
&lt;td>&amp;rsquo;true&amp;rsquo; to omit the column headings. Defaults to &amp;lsquo;false&amp;rsquo;.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>GET /api/v2/export/contacts&lt;span class="hx-absolute -hx-mt-20" id="get-apiv2exportcontacts">&lt;/span>
&lt;a href="#get-apiv2exportcontacts" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Returns a JSON array of contacts.&lt;/p>
&lt;h4>Output&lt;span class="hx-absolute -hx-mt-20" id="output-1">&lt;/span>
&lt;a href="#output-1" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Column&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>id&lt;/td>
&lt;td>The unique ID for the contact in the database.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>rev&lt;/td>
&lt;td>The current CouchDb revision of contact in the database.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>name&lt;/td>
&lt;td>The name of the user this message is assigned to.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>patient_id&lt;/td>
&lt;td>The generated short patient ID for use in SMS.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>type&lt;/td>
&lt;td>The contact type. For configurable hierarchies, this will always be &lt;code>contact&lt;/code>.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>contact_type&lt;/td>
&lt;td>The configurable contact type. Will be empty if using the default hierarchy.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>place_id&lt;/td>
&lt;td>The generated short place ID for use in SMS.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4>Query parameters&lt;span class="hx-absolute -hx-mt-20" id="query-parameters-3">&lt;/span>
&lt;a href="#query-parameters-3" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>These are identical to the JS objects passed to the shared library, as if you were using it directly in Javascript.&lt;/p>
&lt;p>You may either pass JSON in the request body using &lt;code>POST&lt;/code>:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="err">POST&lt;/span> &lt;span class="err">/api/v&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="err">/export/contacts&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;filters&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;search&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;jim&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Or using form-style parameters as &lt;code>GET&lt;/code>:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>GET /api/v2/export/contacts?filters[search]=jim&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>GET /api/v2/export/user-devices&lt;span class="hx-absolute -hx-mt-20" id="get-apiv2exportuser-devices">&lt;/span>
&lt;a href="#get-apiv2exportuser-devices" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;em>Added in 4.7.0&lt;/em>&lt;/p>
&lt;p>Returns a JSON array of CHT-related software versions for each user device. This information is derived from the latest telemetry entry for each user device. If a particular user has used multiple devices, an entry will be included for &lt;em>each&lt;/em> device. You can reference the &lt;code>date&lt;/code> value to determine which devices have been &lt;em>recently&lt;/em> used. If multiple users used the same physical device (e.g. they were logged into the same phone at different times), an entry will be included for &lt;em>each&lt;/em> user.&lt;/p>
&lt;h4>Output&lt;span class="hx-absolute -hx-mt-20" id="output-2">&lt;/span>
&lt;a href="#output-2" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Column&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>user&lt;/td>
&lt;td>The user&amp;rsquo;s name.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>deviceId&lt;/td>
&lt;td>The unique key for the user&amp;rsquo;s device.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>date&lt;/td>
&lt;td>The date the telemetry entry was taken in YYYY-MM-DD, see &lt;a href="https://docs.communityhealthtoolkit.org/technical-overview/data/performance/telemetry/" >relevant docs&lt;/a>.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>browser.name&lt;/td>
&lt;td>The name of the browser used.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>browser.version&lt;/td>
&lt;td>The version of the browser used.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>apk&lt;/td>
&lt;td>The Internal &lt;a href="https://developer.android.com/reference/android/R.styleable#AndroidManifest_versionCode" target="_blank" rel="noopener">version code&lt;/a> of the Android app.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>android&lt;/td>
&lt;td>The version of Android OS.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>cht&lt;/td>
&lt;td>The version of CHT the user was on at time the telemetry entry was generated.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>settings&lt;/td>
&lt;td>The revision of the App Settings document stored in CouchDB.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2>Forms&lt;span class="hx-absolute -hx-mt-20" id="forms">&lt;/span>
&lt;a href="#forms" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;h3>GET /api/v1/forms&lt;span class="hx-absolute -hx-mt-20" id="get-apiv1forms">&lt;/span>
&lt;a href="#get-apiv1forms" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Returns a list of currently installed forms (in all available formats) in JSON format.&lt;/p>
&lt;h4>Headers&lt;span class="hx-absolute -hx-mt-20" id="headers">&lt;/span>
&lt;a href="#headers" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Key&lt;/th>
&lt;th>Value&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>X-OpenRosa-Version&lt;/td>
&lt;td>1.0&lt;/td>
&lt;td>If this header is specified returns XML formatted forms list. See &lt;a href="https://bitbucket.org/javarosa/javarosa/wiki/FormListAPI" target="_blank" rel="noopener">OpenRosa FormListAPI&lt;/a>.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4>Examples&lt;span class="hx-absolute -hx-mt-20" id="examples-2">&lt;/span>
&lt;a href="#examples-2" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>Get list of forms currently installed.&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>GET /api/v1/forms&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 200
Content-Type: application/json; charset=utf-8
[&amp;#34;anc_visit.xml&amp;#34;,&amp;#34;anc_registration.xml&amp;#34;,&amp;#34;off.xml&amp;#34;, &amp;#34;off.json&amp;#34;]&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Get OpenRosa XForms compatible forms installed in XML format.&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>GET /api/v1/forms
Host: medic.local
X-OpenRosa-Version: 1.0&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 200 OK
Content-Type: text/xml; charset=utf-8
X-OpenRosa-Version: 1.0
&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;UTF-8&amp;#34;?&amp;gt;
&amp;lt;xforms xmlns=&amp;#34;http://openrosa.org/xforms/xformsList&amp;#34;&amp;gt;
&amp;lt;xform&amp;gt;
&amp;lt;name&amp;gt;Visit&amp;lt;/name&amp;gt;
&amp;lt;formID&amp;gt;ANCVisit&amp;lt;/formID&amp;gt;
&amp;lt;hash&amp;gt;md5:1f0f096602ed794a264ab67224608cf4&amp;lt;/hash&amp;gt;
&amp;lt;downloadUrl&amp;gt;http://medic.local/api/v1/forms/anc_visit.xml&amp;lt;/downloadUrl&amp;gt;
&amp;lt;/xform&amp;gt;
&amp;lt;xform&amp;gt;
&amp;lt;name&amp;gt;Registration with LMP&amp;lt;/name&amp;gt;
&amp;lt;formID&amp;gt;PregnancyRegistration&amp;lt;/formID&amp;gt;
&amp;lt;hash&amp;gt;md5:1f0f096602ed794a264ab67224608cf4&amp;lt;/hash&amp;gt;
&amp;lt;downloadUrl&amp;gt;http://medic.local/api/v1/forms/anc_registration.xml&amp;lt;/downloadUrl&amp;gt;
&amp;lt;/xform&amp;gt;
&amp;lt;xform&amp;gt;
&amp;lt;name&amp;gt;Stop&amp;lt;/name&amp;gt;
&amp;lt;formID&amp;gt;Stop&amp;lt;/formID&amp;gt;
&amp;lt;hash&amp;gt;md5:1f0f096602ed794a264ab67224608cf4&amp;lt;/hash&amp;gt;
&amp;lt;downloadUrl&amp;gt;http://medic.local/api/v1/forms/off.xml&amp;lt;/downloadUrl&amp;gt;
&amp;lt;/xform&amp;gt;
&amp;lt;/xforms&amp;gt;&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>GET /api/v1/forms/{{id}}.{{format}}&lt;span class="hx-absolute -hx-mt-20" id="get-apiv1formsidformat">&lt;/span>
&lt;a href="#get-apiv1formsidformat" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Return form definition for a given form ID and format.&lt;/p>
&lt;h4>Parameters&lt;span class="hx-absolute -hx-mt-20" id="parameters">&lt;/span>
&lt;a href="#parameters" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Variable&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>id&lt;/td>
&lt;td>Form identifier&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>format&lt;/td>
&lt;td>Format string or file extension. e.g. xml, json&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4>Examples&lt;span class="hx-absolute -hx-mt-20" id="examples-3">&lt;/span>
&lt;a href="#examples-3" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>Get latest version of the PregnancyRegistration form in xml (XForms) format.&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>GET /api/v1/forms/pregnancyregistration.xml&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Get the latest version of the NPYY form in JSON format.&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>GET /api/v1/forms/NPYY.json&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>POST /api/v1/forms/validate&lt;span class="hx-absolute -hx-mt-20" id="post-apiv1formsvalidate">&lt;/span>
&lt;a href="#post-apiv1formsvalidate" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;em>Added in 3.12.0&lt;/em>&lt;/p>
&lt;p>Validate the XForm passed. Require the &lt;code>can_configure&lt;/code> permission.&lt;/p>
&lt;h4>Headers&lt;span class="hx-absolute -hx-mt-20" id="headers-1">&lt;/span>
&lt;a href="#headers-1" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Key&lt;/th>
&lt;th>Value&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Content-Type&lt;/td>
&lt;td>application/xml&lt;/td>
&lt;td>The form is sent in XML format&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Authorization&lt;/td>
&lt;td>Basic KEY&lt;/td>
&lt;td>KEY is the &amp;ldquo;basic&amp;rdquo; token&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4>Examples&lt;span class="hx-absolute -hx-mt-20" id="examples-4">&lt;/span>
&lt;a href="#examples-4" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>POST /api/v1/forms/validate HTTP/1.1
Content-Type: application/xml
Authorization: Basic XXXXXXXXXX
&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;UTF-8&amp;#34;?&amp;gt;
&amp;lt;xforms xmlns=&amp;#34;http://openrosa.org/xforms/xformsList&amp;#34;&amp;gt;
&amp;lt;xform&amp;gt;
&amp;lt;name&amp;gt;Visit&amp;lt;/name&amp;gt;
&amp;lt;formID&amp;gt;ANCVisit&amp;lt;/formID&amp;gt;
&amp;lt;hash&amp;gt;md5:1f0f096602ed794a264ab67224608cf4&amp;lt;/hash&amp;gt;
&amp;lt;downloadUrl&amp;gt;http://medic.local/api/v1/forms/anc_visit.xml&amp;lt;/downloadUrl&amp;gt;
&amp;lt;/xform&amp;gt;
&amp;lt;xform&amp;gt;
&amp;lt;name&amp;gt;Registration with LMP&amp;lt;/name&amp;gt;
&amp;lt;formID&amp;gt;PregnancyRegistration&amp;lt;/formID&amp;gt;
&amp;lt;hash&amp;gt;md5:1f0f096602ed794a264ab67224608cf4&amp;lt;/hash&amp;gt;
&amp;lt;downloadUrl&amp;gt;http://medic.local/api/v1/forms/anc_registration.xml&amp;lt;/downloadUrl&amp;gt;
&amp;lt;/xform&amp;gt;
&amp;lt;xform&amp;gt;
&amp;lt;name&amp;gt;Stop&amp;lt;/name&amp;gt;
&amp;lt;formID&amp;gt;Stop&amp;lt;/formID&amp;gt;
&amp;lt;hash&amp;gt;md5:1f0f096602ed794a264ab67224608cf4&amp;lt;/hash&amp;gt;
&amp;lt;downloadUrl&amp;gt;http://medic.local/api/v1/forms/off.xml&amp;lt;/downloadUrl&amp;gt;
&amp;lt;/xform&amp;gt;
&amp;lt;/xforms&amp;gt;&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Example response when the form passed the validations:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 200 OK
Content-Type: application/json
{ok: true}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Example response when the form failed the validations:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 400 Bad Request
Content-Type: application/json
{error: &amp;#34;Error transforming xml. xsltproc return ...&amp;#34;}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h2>Records&lt;span class="hx-absolute -hx-mt-20" id="records">&lt;/span>
&lt;a href="#records" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;h3>POST /api/v2/records&lt;span class="hx-absolute -hx-mt-20" id="post-apiv2records">&lt;/span>
&lt;a href="#post-apiv2records" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Create a new record based on a &lt;a href="https://docs.communityhealthtoolkit.org/building/reference/app-settings/forms/" target="_blank" rel="noopener">JSON form&lt;/a> that has been configured.&lt;/p>
&lt;p>Records can be created one of two ways, parsing the form data yourself and submitting a JSON object or by submitting the raw message string.&lt;/p>
&lt;h4>Headers&lt;span class="hx-absolute -hx-mt-20" id="headers-2">&lt;/span>
&lt;a href="#headers-2" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Key&lt;/th>
&lt;th>Value&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Content-Type&lt;/td>
&lt;td>application/x-www-form-urlencoded&lt;/td>
&lt;td>Processes form parameters.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Content-Type&lt;/td>
&lt;td>application/json&lt;/td>
&lt;td>Processes form data in request body as JSON.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Only one variant of the &lt;code>Content-Type&lt;/code> header may be provided; RFC 2616 does not
allow multiple content types to appear in a single &lt;code>Content-Type&lt;/code> header.&lt;/p>
&lt;h5>Form Parameters&lt;span class="hx-absolute -hx-mt-20" id="form-parameters">&lt;/span>
&lt;a href="#form-parameters" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h5>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Variable&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>message&lt;/td>
&lt;td>Message string in a supported format like Muvuku or Textforms. Depending if your CHT instance is configured in forms-only mode or not you might receive an error if the form is not found.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>from&lt;/td>
&lt;td>Reporting phone number.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>sent_timestamp&lt;/td>
&lt;td>Timestamp in MS since Unix Epoch of when the message was received on the gateway. Defaults to now.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h5>JSON Properties&lt;span class="hx-absolute -hx-mt-20" id="json-properties">&lt;/span>
&lt;a href="#json-properties" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h5>&lt;p>Special values reside in the property &lt;code>_meta&lt;/code>, so you can&amp;rsquo;t have a form field named &lt;code>_meta&lt;/code>. Only strings and numbers are currently support as field values.&lt;/p>
&lt;p>All property names will be lowercased.&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Key&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>_meta.form&lt;/td>
&lt;td>The form code.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>_meta.from&lt;/td>
&lt;td>Reporting phone number. Optional.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>_meta.reported_date&lt;/td>
&lt;td>Timestamp in MS since Unix Epoch of when the message was received on the gateway. Defaults to now.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>_meta.locale&lt;/td>
&lt;td>Optional locale string. Example: &amp;lsquo;fr&amp;rsquo;&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4>Examples&lt;span class="hx-absolute -hx-mt-20" id="examples-5">&lt;/span>
&lt;a href="#examples-5" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>Creating new record using message field.&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>POST /api/v2/records
Content-Type: application/x-www-form-urlencoded
message=1!YYYZ!Sam#23#2015#ANC&amp;amp;from=&amp;#43;5511943348031&amp;amp;sent_timestamp=1352399720000&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 200 OK
Content-Type: application/json; charset=utf-8
{
&amp;#34;success&amp;#34;: true,
&amp;#34;id&amp;#34;: &amp;#34;364c796a843fbe0a73476f9153012733&amp;#34;
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Creating new record with JSON.&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>POST /api/v2/records
Content-Type: application/json
{
&amp;#34;nurse&amp;#34;: &amp;#34;Sam&amp;#34;,
&amp;#34;week&amp;#34;: 23,
&amp;#34;year&amp;#34;: 2015,
&amp;#34;visit&amp;#34;: &amp;#34;ANC&amp;#34;,
&amp;#34;_meta&amp;#34;: {
&amp;#34;form&amp;#34;: &amp;#34;YYYZ&amp;#34;,
&amp;#34;reported_date&amp;#34;: 1352399720000
}
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 200 OK
Content-Type: application/json; charset=utf-8
{
&amp;#34;success&amp;#34;: true,
&amp;#34;id&amp;#34;: &amp;#34;364c796a843fbe0a73476f9153012733&amp;#34;
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h4>Errors&lt;span class="hx-absolute -hx-mt-20" id="errors">&lt;/span>
&lt;a href="#errors" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>If required fields are not found return 500.&lt;/p>
&lt;p>If invalid JSON return error response 500.&lt;/p>
&lt;p>If submitting JSON and corresponding form is not found on the server you will receive an error.&lt;/p>
&lt;h2>SMS&lt;span class="hx-absolute -hx-mt-20" id="sms">&lt;/span>
&lt;a href="#sms" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;h3>POST /api/sms&lt;span class="hx-absolute -hx-mt-20" id="post-apisms">&lt;/span>
&lt;a href="#post-apisms" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Endpoint used by cht-gateway to send sms messages. More documentation in the &lt;a href="https://github.com/medic/cht-gateway/blob/master/README.md" target="_blank" rel="noopener">cht-gateway repo&lt;/a>.&lt;/p>
&lt;h3>POST /api/v1/sms/{aggregator}/{endpoint}&lt;span class="hx-absolute -hx-mt-20" id="post-apiv1smsaggregatorendpoint">&lt;/span>
&lt;a href="#post-apiv1smsaggregatorendpoint" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Endpoint for integration with SMS aggregators. More details on the &lt;a href="https://docs.communityhealthtoolkit.org/building/messaging/gateways/rapidpro/" >RapidPro&lt;/a> and &lt;a href="https://docs.communityhealthtoolkit.org/building/messaging/gateways/africas-talking/" >Africa&amp;rsquo;s Talking&lt;/a> pages.&lt;/p>
&lt;h2>Contact&lt;span class="hx-absolute -hx-mt-20" id="contact">&lt;/span>
&lt;a href="#contact" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;h3>GET/api/v1/contact/{{uuid}}&lt;span class="hx-absolute -hx-mt-20" id="getapiv1contactuuid">&lt;/span>
&lt;a href="#getapiv1contactuuid" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;em>Added in 4.18.0&lt;/em>&lt;/p>
&lt;p>Returns a contact&amp;rsquo;s data in JSON format.&lt;/p>
&lt;h4>Permissions&lt;span class="hx-absolute -hx-mt-20" id="permissions">&lt;/span>
&lt;a href="#permissions" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>&lt;code>can_view_contacts&lt;/code>&lt;/p>
&lt;h4>Query parameters&lt;span class="hx-absolute -hx-mt-20" id="query-parameters-4">&lt;/span>
&lt;a href="#query-parameters-4" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>with_lineage&lt;/td>
&lt;td>false&lt;/td>
&lt;td>If &amp;ldquo;true&amp;rdquo;, the contact&amp;rsquo;s parent lineage will be included in the returned data. Default is &amp;ldquo;false&amp;rdquo;.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4>Examples&lt;span class="hx-absolute -hx-mt-20" id="examples-6">&lt;/span>
&lt;a href="#examples-6" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>Get a contact by uuid:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>GET /api/v1/contact/d1c560e2-a07b-4562-a775-a2c7d0a9766f&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 200 OK
Content-Type: application/json; charset=utf-8
{
&amp;#34;_id&amp;#34;: &amp;#34;d1c560e2-a07b-4562-a775-a2c7d0a9766f&amp;#34;,
&amp;#34;_rev&amp;#34;: &amp;#34;1-d13970de1501783cc52de0fd6db8beaf&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;person&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;Person Person&amp;#34;,
&amp;#34;short_name&amp;#34;: &amp;#34;August&amp;#34;,
&amp;#34;date_of_birth&amp;#34;: &amp;#34;1990-3-0&amp;#34;,
&amp;#34;date_of_birth_method&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;ephemeral_dob&amp;#34;: {
&amp;#34;dob_calendar&amp;#34;: &amp;#34;1990-3-0&amp;#34;,
&amp;#34;dob_method&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;dob_approx&amp;#34;: &amp;#34;1990-04-01T02:12:34.933Z&amp;#34;,
&amp;#34;dob_raw&amp;#34;: &amp;#34;1990-3-0&amp;#34;,
&amp;#34;dob_iso&amp;#34;: &amp;#34;1990-3-0&amp;#34;
},
&amp;#34;sex&amp;#34;: &amp;#34;female&amp;#34;,
&amp;#34;phone&amp;#34;: &amp;#34;&amp;#43;254777205792&amp;#34;,
&amp;#34;phone_alternate&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;role&amp;#34;: &amp;#34;patient&amp;#34;,
&amp;#34;external_id&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;notes&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;meta&amp;#34;: {
&amp;#34;created_by&amp;#34;: &amp;#34;medic&amp;#34;,
&amp;#34;created_by_person_uuid&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;created_by_place_uuid&amp;#34;: &amp;#34;&amp;#34;
},
&amp;#34;reported_date&amp;#34;: 1742012068469,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;a048aa9d-3fd0-4182-a7c1-ed65cbf29aa0&amp;#34;,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;d828971b-d796-45b5-ab1a-943622d906a1&amp;#34;,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;3bb8af4d-ee91-4889-9e11-5ba09a833b2e&amp;#34;
}
}
}
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Get a contact with their lineage by uuid:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>GET /api/v1/contact/d1c560e2-a07b-4562-a775-a2c7d0a9766f?with_lineage=true&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>{
&amp;#34;_id&amp;#34;: &amp;#34;d1c560e2-a07b-4562-a775-a2c7d0a9766f&amp;#34;,
&amp;#34;_rev&amp;#34;: &amp;#34;1-d13970de1501783cc52de0fd6db8beaf&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;person&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;Person&amp;#34;,
&amp;#34;short_name&amp;#34;: &amp;#34;August&amp;#34;,
&amp;#34;date_of_birth&amp;#34;: &amp;#34;1990-3-0&amp;#34;,
&amp;#34;date_of_birth_method&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;ephemeral_dob&amp;#34;: {
&amp;#34;dob_calendar&amp;#34;: &amp;#34;1990-3-0&amp;#34;,
&amp;#34;dob_method&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;dob_approx&amp;#34;: &amp;#34;1990-04-01T02:12:34.933Z&amp;#34;,
&amp;#34;dob_raw&amp;#34;: &amp;#34;1990-3-0&amp;#34;,
&amp;#34;dob_iso&amp;#34;: &amp;#34;1990-3-0&amp;#34;
},
&amp;#34;sex&amp;#34;: &amp;#34;female&amp;#34;,
&amp;#34;phone&amp;#34;: &amp;#34;&amp;#43;254777205792&amp;#34;,
&amp;#34;phone_alternate&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;role&amp;#34;: &amp;#34;patient&amp;#34;,
&amp;#34;external_id&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;notes&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;meta&amp;#34;: {
&amp;#34;created_by&amp;#34;: &amp;#34;medic&amp;#34;,
&amp;#34;created_by_person_uuid&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;created_by_place_uuid&amp;#34;: &amp;#34;&amp;#34;
},
&amp;#34;reported_date&amp;#34;: 1742012068469,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;a048aa9d-3fd0-4182-a7c1-ed65cbf29aa0&amp;#34;,
&amp;#34;_rev&amp;#34;: &amp;#34;1-bc7ed2cf5e5997734513faab5f818c3e&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;clinic&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;Household&amp;#34;,
&amp;#34;external_id&amp;#34;: &amp;#34;rR9Ul&amp;#34;,
&amp;#34;notes&amp;#34;: &amp;#34;Atque non carmen patruus rem toties ceno uredo ad.\nPossimus aro victoria nam terra clamo campana.&amp;#34;,
&amp;#34;meta&amp;#34;: {
&amp;#34;created_by&amp;#34;: &amp;#34;medic&amp;#34;,
&amp;#34;created_by_person_uuid&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;created_by_place_uuid&amp;#34;: &amp;#34;&amp;#34;
},
&amp;#34;reported_date&amp;#34;: 1740727312910,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;d828971b-d796-45b5-ab1a-943622d906a1&amp;#34;,
&amp;#34;_rev&amp;#34;: &amp;#34;1-1c8e9ae54655e1892686e854e7d404ea&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;health_center&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;Health Center&amp;#34;,
&amp;#34;external_id&amp;#34;: &amp;#34;GlghB&amp;#34;,
&amp;#34;notes&amp;#34;: &amp;#34;Turbo amor utilis surgo vomica cedo.\nAlveus tabella tondeo itaque.&amp;#34;,
&amp;#34;meta&amp;#34;: {
&amp;#34;created_by&amp;#34;: &amp;#34;medic&amp;#34;,
&amp;#34;created_by_person_uuid&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;created_by_place_uuid&amp;#34;: &amp;#34;&amp;#34;
},
&amp;#34;reported_date&amp;#34;: 1742160968002,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;3bb8af4d-ee91-4889-9e11-5ba09a833b2e&amp;#34;,
&amp;#34;_rev&amp;#34;: &amp;#34;1-6b109ceccdfcd13f9f78968262d8c82a&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;district_hospital&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;Hospital&amp;#34;,
&amp;#34;external_id&amp;#34;: &amp;#34;Xge4N&amp;#34;,
&amp;#34;notes&amp;#34;: &amp;#34;Attonbitus sperno cernuus.\nVarius temeritas suadeo cimentarius tum.&amp;#34;,
&amp;#34;meta&amp;#34;: {
&amp;#34;created_by&amp;#34;: &amp;#34;medic&amp;#34;,
&amp;#34;created_by_person_uuid&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;created_by_place_uuid&amp;#34;: &amp;#34;&amp;#34;
},
&amp;#34;reported_date&amp;#34;: 1741973509708
}
}
}
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>GET /api/v1/contact/uuid&lt;span class="hx-absolute -hx-mt-20" id="get-apiv1contactuuid">&lt;/span>
&lt;a href="#get-apiv1contactuuid" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;em>Added in 4.18.0&lt;/em>&lt;/p>
&lt;p>Returns a JSON array of strings of UUID&amp;rsquo;s of contacts based on the specified page parameters.&lt;/p>
&lt;h4>Permissions&lt;span class="hx-absolute -hx-mt-20" id="permissions-1">&lt;/span>
&lt;a href="#permissions-1" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>&lt;code>can_view_contacts&lt;/code>&lt;/p>
&lt;h4>Query Parameters&lt;span class="hx-absolute -hx-mt-20" id="query-parameters-5">&lt;/span>
&lt;a href="#query-parameters-5" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>type&lt;/td>
&lt;td>true if freetext is not provided&lt;/td>
&lt;td>ID of the contact_type for the contacts to fetch.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>freetext&lt;/td>
&lt;td>true if type is not provided&lt;/td>
&lt;td>A string search term for filtering the contacts to fetch. The string value should be at least 3 characters in length and not contain whitespace.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>cursor&lt;/td>
&lt;td>false&lt;/td>
&lt;td>The token identifying which page to retrieve. A &lt;code>null&lt;/code> value indicates the first page should be returned. Subsequent pages can be retrieved by providing the cursor returned with the previous page. Defaults to &lt;code>null&lt;/code>.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>limit&lt;/td>
&lt;td>false&lt;/td>
&lt;td>The total number of contacts to fetch. Defaults to &lt;code>10000&lt;/code>.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4>Examples&lt;span class="hx-absolute -hx-mt-20" id="examples-7">&lt;/span>
&lt;a href="#examples-7" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ol>
&lt;li>Get an array of contact UUIDs of type &lt;code>person&lt;/code>.&lt;/li>
&lt;/ol>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>GET /api/v1/contact/uuid?type=person&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 200 OK
Content-Type: application/json; charset=utf-8
{
&amp;#34;data&amp;#34;: [
&amp;#34;0003d4cd-1f52-48ad-9238-bbbddd1c022f&amp;#34;,
&amp;#34;00078d1a-687f-49d0-8930-21d79f2e05a9&amp;#34;,
&amp;#34;000f3c80-e22b-4738-a1a9-3212756d00d9&amp;#34;,
&amp;#34;001b6346-c8be-48b3-8bc1-1ef8ea4ed907&amp;#34;,
&amp;#34;003d4976-fe39-4ad8-b530-3878fbf0746f&amp;#34;,
&amp;#34;00405b80-070e-4adf-9b15-52399380307b&amp;#34;,
&amp;#34;0058269a-061c-4e51-a854-583d5a34ea3e&amp;#34;,
&amp;#34;005a840b-fa9f-440e-be68-235e50870639&amp;#34;,
&amp;#34;00afc504-cd27-4b05-b9d7-b50765802314&amp;#34;,
&amp;#34;00d35973-3365-4653-a0bb-ba8c2d00099d&amp;#34;
],
&amp;#34;cursor&amp;#34;: null
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;ol start="2">
&lt;li>Get an array of contact UUIDs with freetext &lt;code>abc&lt;/code>.&lt;/li>
&lt;/ol>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>GET /api/v1/contact/uuid?freetext=abc&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 200 OK
Content-Type: application/json; charset=utf-8
{
&amp;#34;data&amp;#34;: [
&amp;#34;0003d4cd-1f52-48ad-9238-bbbddd1c022f&amp;#34;,
&amp;#34;00078d1a-687f-49d0-8930-21d79f2e05a9&amp;#34;,
&amp;#34;000f3c80-e22b-4738-a1a9-3212756d00d9&amp;#34;,
&amp;#34;001b6346-c8be-48b3-8bc1-1ef8ea4ed907&amp;#34;,
&amp;#34;003d4976-fe39-4ad8-b530-3878fbf0746f&amp;#34;,
&amp;#34;00405b80-070e-4adf-9b15-52399380307b&amp;#34;,
&amp;#34;0058269a-061c-4e51-a854-583d5a34ea3e&amp;#34;,
&amp;#34;005a840b-fa9f-440e-be68-235e50870639&amp;#34;,
&amp;#34;00afc504-cd27-4b05-b9d7-b50765802314&amp;#34;,
&amp;#34;00d35973-3365-4653-a0bb-ba8c2d00099d&amp;#34;
],
&amp;#34;cursor&amp;#34;: null
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;ol start="3">
&lt;li>Get an array of 10 contact UUIDs with type &lt;code>person&lt;/code> and freetext &lt;code>abc&lt;/code> after skipping some amount of contacts.&lt;/li>
&lt;/ol>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>GET /api/v1/contact/uuid?type=person&amp;amp;freetext=abc&amp;amp;limit=10&amp;amp;cursor=W1t7InZhbHVlIjoyLjc5MzE5LCJAdHlwZSI6ImZ1dXQ==&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 200 OK
Content-Type: application/json; charset=utf-8
{
&amp;#34;data&amp;#34;: [
&amp;#34;00f8d77a-c672-48ee-b6e4-d508ee207e83&amp;#34;,
&amp;#34;010a727b-7251-4d48-8a0f-4d711429f661&amp;#34;,
&amp;#34;01192e60-b7f6-4423-a37f-53e458f3d8b3&amp;#34;,
&amp;#34;012c6ab4-e0ad-4e36-9984-905b02b82607&amp;#34;,
&amp;#34;014a4b49-7a4f-460e-9718-c64e5754010d&amp;#34;,
&amp;#34;0162a9c9-9b91-4e83-b296-3095d5c5dd21&amp;#34;,
&amp;#34;018bbfd2-ac0b-41a7-a0b6-0ab50a5950c4&amp;#34;,
&amp;#34;01be86c2-1638-4a60-af2e-3857e806e84a&amp;#34;,
&amp;#34;01c3db83-b27c-46de-b709-21032a170642&amp;#34;,
&amp;#34;01fbd96b-bd77-40aa-bc08-a1d3a877b9e2&amp;#34;
],
&amp;#34;cursor&amp;#34;: &amp;#34;W1t7InZhbHVlIjoyLjc5MzE5LCJAdHlwZSI6ImZsb2F0In0seyjoic3RyaW5nIn1dXQ==&amp;#34;
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h2>Person&lt;span class="hx-absolute -hx-mt-20" id="person">&lt;/span>
&lt;a href="#person" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;h3>GET /api/v1/person/{{uuid}}&lt;span class="hx-absolute -hx-mt-20" id="get-apiv1personuuid">&lt;/span>
&lt;a href="#get-apiv1personuuid" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;em>Added in 4.9.0&lt;/em>&lt;/p>
&lt;p>Returns a person&amp;rsquo;s data in JSON format.&lt;/p>
&lt;h4>Permissions&lt;span class="hx-absolute -hx-mt-20" id="permissions-2">&lt;/span>
&lt;a href="#permissions-2" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>&lt;code>can_view_contacts&lt;/code>&lt;/p>
&lt;h4>Query parameters&lt;span class="hx-absolute -hx-mt-20" id="query-parameters-6">&lt;/span>
&lt;a href="#query-parameters-6" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>with_lineage&lt;/td>
&lt;td>false&lt;/td>
&lt;td>If &amp;ldquo;true&amp;rdquo;, the person&amp;rsquo;s parent lineage will be included in the returned data. Default is &amp;ldquo;false&amp;rdquo;.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4>Examples&lt;span class="hx-absolute -hx-mt-20" id="examples-8">&lt;/span>
&lt;a href="#examples-8" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>Get a person by uuid:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>GET /api/v1/person/f512e1d8-841b-4bc1-8154-b6794755f45b&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 200 OK
Content-Type: application/json; charset=utf-8
{
&amp;#34;_id&amp;#34;: &amp;#34;f512e1d8-841b-4bc1-8154-b6794755f45b&amp;#34;,
&amp;#34;_rev&amp;#34;: &amp;#34;3-9dbc362b262f88d63f270fe06a94dfe8&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;person&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;Example CHW&amp;#34;,
&amp;#34;date_of_birth&amp;#34;: &amp;#34;2002-02-20&amp;#34;,
&amp;#34;phone&amp;#34;: &amp;#34;&amp;#43;254712345679&amp;#34;,
&amp;#34;sex&amp;#34;: &amp;#34;female&amp;#34;,
&amp;#34;role&amp;#34;: &amp;#34;chw&amp;#34;,
&amp;#34;reported_date&amp;#34;: 1708453778059,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;d9153705-4574-43c3-b945-71aa2164d1d6&amp;#34;,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;b935ef10-0339-4263-99fc-34d4f8d72891&amp;#34;
}
},
&amp;#34;patient_id&amp;#34;: &amp;#34;74615&amp;#34;
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Get a person by uuid with lineage:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>GET /api/v1/person/f512e1d8-841b-4bc1-8154-b6794755f45b?with_lineage=true&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 200 OK
Content-Type: application/json; charset=utf-8
{
&amp;#34;_id&amp;#34;: &amp;#34;f512e1d8-841b-4bc1-8154-b6794755f45b&amp;#34;,
&amp;#34;_rev&amp;#34;: &amp;#34;3-9dbc362b262f88d63f270fe06a94dfe8&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;person&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;Example CHW&amp;#34;,
&amp;#34;date_of_birth&amp;#34;: &amp;#34;2002-02-20&amp;#34;,
&amp;#34;phone&amp;#34;: &amp;#34;&amp;#43;254712345679&amp;#34;,
&amp;#34;sex&amp;#34;: &amp;#34;female&amp;#34;,
&amp;#34;role&amp;#34;: &amp;#34;chw&amp;#34;,
&amp;#34;reported_date&amp;#34;: 1708453778059,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;d9153705-4574-43c3-b945-71aa2164d1d6&amp;#34;,
&amp;#34;_rev&amp;#34;: &amp;#34;2-5f5fde4a8def0f40f89bd164d93bed4f&amp;#34;,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;b935ef10-0339-4263-99fc-34d4f8d72891&amp;#34;,
&amp;#34;_rev&amp;#34;: &amp;#34;2-bdea703bfec184085c31a6bab022764f&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;district_hospital&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;Example Health Facility&amp;#34;,
&amp;#34;contact&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;e5237f20-2d28-4272-8006-c4903e032ab4&amp;#34;,
&amp;#34;_rev&amp;#34;: &amp;#34;3-5a0a8e95cef8bafc186a9494c75afb3c&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;person&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;Example Supervisor&amp;#34;,
&amp;#34;date_of_birth&amp;#34;: &amp;#34;2002-02-20&amp;#34;,
&amp;#34;phone&amp;#34;: &amp;#34;&amp;#43;254712345678&amp;#34;,
&amp;#34;sex&amp;#34;: &amp;#34;female&amp;#34;,
&amp;#34;role&amp;#34;: &amp;#34;chw_supervisor&amp;#34;,
&amp;#34;reported_date&amp;#34;: 1708453756441,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;b935ef10-0339-4263-99fc-34d4f8d72891&amp;#34;
},
&amp;#34;patient_id&amp;#34;: &amp;#34;20424&amp;#34;
},
&amp;#34;reported_date&amp;#34;: 1708453756440,
&amp;#34;place_id&amp;#34;: &amp;#34;54380&amp;#34;
},
&amp;#34;type&amp;#34;: &amp;#34;health_center&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;Example Health Center&amp;#34;,
&amp;#34;contact&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;f512e1d8-841b-4bc1-8154-b6794755f45b&amp;#34;,
&amp;#34;_rev&amp;#34;: &amp;#34;3-9dbc362b262f88d63f270fe06a94dfe8&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;person&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;Example CHW&amp;#34;,
&amp;#34;date_of_birth&amp;#34;: &amp;#34;2002-02-20&amp;#34;,
&amp;#34;phone&amp;#34;: &amp;#34;&amp;#43;254712345679&amp;#34;,
&amp;#34;sex&amp;#34;: &amp;#34;female&amp;#34;,
&amp;#34;role&amp;#34;: &amp;#34;chw&amp;#34;,
&amp;#34;reported_date&amp;#34;: 1708453778059,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;d9153705-4574-43c3-b945-71aa2164d1d6&amp;#34;,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;b935ef10-0339-4263-99fc-34d4f8d72891&amp;#34;
}
},
&amp;#34;patient_id&amp;#34;: &amp;#34;74615&amp;#34;
},
&amp;#34;reported_date&amp;#34;: 1708453778059,
&amp;#34;place_id&amp;#34;: &amp;#34;17437&amp;#34;
},
&amp;#34;patient_id&amp;#34;: &amp;#34;74615&amp;#34;
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>GET /api/v1/person&lt;span class="hx-absolute -hx-mt-20" id="get-apiv1person">&lt;/span>
&lt;a href="#get-apiv1person" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;em>Added in 4.11.0&lt;/em>&lt;/p>
&lt;p>Returns a JSON array of people based on the specified page parameters.&lt;/p>
&lt;h4>Permissions&lt;span class="hx-absolute -hx-mt-20" id="permissions-3">&lt;/span>
&lt;a href="#permissions-3" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>&lt;code>can_view_contacts&lt;/code>&lt;/p>
&lt;h4>Query Parameters&lt;span class="hx-absolute -hx-mt-20" id="query-parameters-7">&lt;/span>
&lt;a href="#query-parameters-7" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>type&lt;/td>
&lt;td>true&lt;/td>
&lt;td>ID of the contact_type for the people to fetch.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>cursor&lt;/td>
&lt;td>false&lt;/td>
&lt;td>The token identifying which page to retrieve. A &lt;code>null&lt;/code> value indicates the first page should be returned. Subsequent pages can be retrieved by providing the cursor returned with the previous page. Defaults to &lt;code>null&lt;/code>.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>limit&lt;/td>
&lt;td>false&lt;/td>
&lt;td>The total number of people to fetch. Defaults to &lt;code>100&lt;/code>.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4>Examples&lt;span class="hx-absolute -hx-mt-20" id="examples-9">&lt;/span>
&lt;a href="#examples-9" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ol>
&lt;li>Get people of type &lt;code>person&lt;/code>.&lt;/li>
&lt;/ol>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>GET /api/v1/person?type=person&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 200 OK
Content-Type: application/json; charset=utf-8
{
&amp;#34;data&amp;#34;: [
{
&amp;#34;_id&amp;#34;: &amp;#34;0c9cc77d-7858-44dd-bf44-a25b14334801&amp;#34;,
&amp;#34;_rev&amp;#34;: &amp;#34;1-5fd1e08353c3d102e9b6710eed98dd65&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;person&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;A&amp;#34;,
&amp;#34;short_name&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;date_of_birth&amp;#34;: &amp;#34;1961-09-15&amp;#34;,
&amp;#34;date_of_birth_method&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;ephemeral_dob&amp;#34;: {
&amp;#34;dob_calendar&amp;#34;: &amp;#34;1961-09-15&amp;#34;,
&amp;#34;dob_method&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;dob_approx&amp;#34;: &amp;#34;2024-08-05T00:00:00.000&amp;#43;06:45&amp;#34;,
&amp;#34;dob_raw&amp;#34;: &amp;#34;1961-09-15&amp;#34;,
&amp;#34;dob_iso&amp;#34;: &amp;#34;1961-09-15&amp;#34;
},
&amp;#34;phone&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;phone_alternate&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;sex&amp;#34;: &amp;#34;male&amp;#34;,
&amp;#34;role&amp;#34;: &amp;#34;manager&amp;#34;,
&amp;#34;external_id&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;notes&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;user_for_contact&amp;#34;: {
&amp;#34;create&amp;#34;: &amp;#34;false&amp;#34;
},
&amp;#34;meta&amp;#34;: {
&amp;#34;created_by&amp;#34;: &amp;#34;medic&amp;#34;,
&amp;#34;created_by_person_uuid&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;created_by_place_uuid&amp;#34;: &amp;#34;&amp;#34;
},
&amp;#34;reported_date&amp;#34;: 1722840232495,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;8f98977e-8475-4bef-a064-2ba305b93f3f&amp;#34;,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;a7922ef9-ea7a-47d9-b3eb-b78b13d31460&amp;#34;
}
},
&amp;#34;form_version&amp;#34;: {
&amp;#34;time&amp;#34;: 1720158606681,
&amp;#34;sha256&amp;#34;: &amp;#34;b76e6304218d7e5d7f63c044da514784f0db4b293c1b35ac301ac7ec99876824&amp;#34;
}
},
{
&amp;#34;_id&amp;#34;: &amp;#34;6fbd5d57-28aa-4a2a-93aa-e9b9f4a3dde3&amp;#34;,
&amp;#34;_rev&amp;#34;: &amp;#34;1-3824f633dda834f676d7d27622ed9371&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;person&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;B&amp;#34;,
&amp;#34;short_name&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;date_of_birth&amp;#34;: &amp;#34;1989-02-10&amp;#34;,
&amp;#34;date_of_birth_method&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;ephemeral_dob&amp;#34;: {
&amp;#34;dob_calendar&amp;#34;: &amp;#34;1989-02-10&amp;#34;,
&amp;#34;dob_method&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;dob_approx&amp;#34;: &amp;#34;2024-07-26T00:00:00.000&amp;#43;06:45&amp;#34;,
&amp;#34;dob_raw&amp;#34;: &amp;#34;1989-02-10&amp;#34;,
&amp;#34;dob_iso&amp;#34;: &amp;#34;1989-02-10&amp;#34;
},
&amp;#34;phone&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;phone_alternate&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;sex&amp;#34;: &amp;#34;male&amp;#34;,
&amp;#34;role&amp;#34;: &amp;#34;manager&amp;#34;,
&amp;#34;external_id&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;notes&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;user_for_contact&amp;#34;: {
&amp;#34;create&amp;#34;: &amp;#34;false&amp;#34;
},
&amp;#34;meta&amp;#34;: {
&amp;#34;created_by&amp;#34;: &amp;#34;medic&amp;#34;,
&amp;#34;created_by_person_uuid&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;created_by_place_uuid&amp;#34;: &amp;#34;&amp;#34;
},
&amp;#34;reported_date&amp;#34;: 1722004033697,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;a7922ef9-ea7a-47d9-b3eb-b78b13d31460&amp;#34;
},
&amp;#34;form_version&amp;#34;: {
&amp;#34;time&amp;#34;: 1720158606680,
&amp;#34;sha256&amp;#34;: &amp;#34;a2bce7debe191964d6f0a26e0d9cce2ca4437c87a59753688cefac6d2edc9873&amp;#34;
}
},
{
&amp;#34;_id&amp;#34;: &amp;#34;99ea9cf6-8bef-475c-a769-3db0d1888f22&amp;#34;,
&amp;#34;_rev&amp;#34;: &amp;#34;1-2eea14e985aeffd40b33552b33db55a9&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;person&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;C&amp;#34;,
&amp;#34;short_name&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;date_of_birth&amp;#34;: &amp;#34;1989-02-11&amp;#34;,
&amp;#34;date_of_birth_method&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;ephemeral_dob&amp;#34;: {
&amp;#34;dob_calendar&amp;#34;: &amp;#34;1989-02-11&amp;#34;,
&amp;#34;dob_method&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;dob_approx&amp;#34;: &amp;#34;2024-07-26T00:00:00.000&amp;#43;06:45&amp;#34;,
&amp;#34;dob_raw&amp;#34;: &amp;#34;1989-02-11&amp;#34;,
&amp;#34;dob_iso&amp;#34;: &amp;#34;1989-02-11&amp;#34;
},
&amp;#34;phone&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;phone_alternate&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;sex&amp;#34;: &amp;#34;male&amp;#34;,
&amp;#34;role&amp;#34;: &amp;#34;patient&amp;#34;,
&amp;#34;external_id&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;notes&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;user_for_contact&amp;#34;: {
&amp;#34;create&amp;#34;: &amp;#34;false&amp;#34;
},
&amp;#34;meta&amp;#34;: {
&amp;#34;created_by&amp;#34;: &amp;#34;medic&amp;#34;,
&amp;#34;created_by_person_uuid&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;created_by_place_uuid&amp;#34;: &amp;#34;&amp;#34;
},
&amp;#34;reported_date&amp;#34;: 1722004087809,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;be9eb905-1dd3-4957-89ed-b74d080a8246&amp;#34;,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;b132829c-6267-4d4f-aa8e-11862828e65f&amp;#34;,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;a7922ef9-ea7a-47d9-b3eb-b78b13d31460&amp;#34;
}
}
},
&amp;#34;form_version&amp;#34;: {
&amp;#34;time&amp;#34;: 1720158606678,
&amp;#34;sha256&amp;#34;: &amp;#34;c533208263cb5892a50ede65acd31553863a1b9ac84d2b19e993ddc6f9690e1b&amp;#34;
}
},
{
&amp;#34;_id&amp;#34;: &amp;#34;a4e075ce-66cb-47bf-afe8-4c72d1674852&amp;#34;,
&amp;#34;_rev&amp;#34;: &amp;#34;1-4a5920ecc73521905fa6661b9b142346&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;person&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;D&amp;#34;,
&amp;#34;short_name&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;date_of_birth&amp;#34;: &amp;#34;1991-03-05&amp;#34;,
&amp;#34;date_of_birth_method&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;ephemeral_dob&amp;#34;: {
&amp;#34;dob_calendar&amp;#34;: &amp;#34;1991-03-05&amp;#34;,
&amp;#34;dob_method&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;dob_approx&amp;#34;: &amp;#34;2024-08-05T00:00:00.000&amp;#43;06:45&amp;#34;,
&amp;#34;dob_raw&amp;#34;: &amp;#34;1991-03-05&amp;#34;,
&amp;#34;dob_iso&amp;#34;: &amp;#34;1991-03-05&amp;#34;
},
&amp;#34;phone&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;phone_alternate&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;sex&amp;#34;: &amp;#34;male&amp;#34;,
&amp;#34;role&amp;#34;: &amp;#34;patient&amp;#34;,
&amp;#34;external_id&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;notes&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;user_for_contact&amp;#34;: {
&amp;#34;create&amp;#34;: &amp;#34;false&amp;#34;
},
&amp;#34;meta&amp;#34;: {
&amp;#34;created_by&amp;#34;: &amp;#34;medic&amp;#34;,
&amp;#34;created_by_person_uuid&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;created_by_place_uuid&amp;#34;: &amp;#34;&amp;#34;
},
&amp;#34;reported_date&amp;#34;: 1722842989644,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;1c5c9538-4832-47f4-9398-e113ec0bc856&amp;#34;,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;8f98977e-8475-4bef-a064-2ba305b93f3f&amp;#34;,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;a7922ef9-ea7a-47d9-b3eb-b78b13d31460&amp;#34;
}
}
},
&amp;#34;form_version&amp;#34;: {
&amp;#34;time&amp;#34;: 1720158606678,
&amp;#34;sha256&amp;#34;: &amp;#34;c533208263cb5892a50ede65acd31553863a1b9ac84d2b19e993ddc6f9690e1b&amp;#34;
}
},
{
&amp;#34;_id&amp;#34;: &amp;#34;dc2506e6-55c0-4874-a4a1-334fabef3044&amp;#34;,
&amp;#34;_rev&amp;#34;: &amp;#34;1-a9fa456db5b1aff444819ca91cd07c5b&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;person&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;E&amp;#34;,
&amp;#34;short_name&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;date_of_birth&amp;#34;: &amp;#34;1916-06-14&amp;#34;,
&amp;#34;date_of_birth_method&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;ephemeral_dob&amp;#34;: {
&amp;#34;dob_calendar&amp;#34;: &amp;#34;1916-06-14&amp;#34;,
&amp;#34;dob_method&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;dob_approx&amp;#34;: &amp;#34;2024-07-26T00:00:00.000&amp;#43;06:45&amp;#34;,
&amp;#34;dob_raw&amp;#34;: &amp;#34;1916-06-14&amp;#34;,
&amp;#34;dob_iso&amp;#34;: &amp;#34;1916-06-14&amp;#34;
},
&amp;#34;phone&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;phone_alternate&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;sex&amp;#34;: &amp;#34;male&amp;#34;,
&amp;#34;role&amp;#34;: &amp;#34;manager&amp;#34;,
&amp;#34;external_id&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;notes&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;user_for_contact&amp;#34;: {
&amp;#34;create&amp;#34;: &amp;#34;false&amp;#34;
},
&amp;#34;meta&amp;#34;: {
&amp;#34;created_by&amp;#34;: &amp;#34;medic&amp;#34;,
&amp;#34;created_by_person_uuid&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;created_by_place_uuid&amp;#34;: &amp;#34;&amp;#34;
},
&amp;#34;reported_date&amp;#34;: 1722004065958,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;b132829c-6267-4d4f-aa8e-11862828e65f&amp;#34;,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;a7922ef9-ea7a-47d9-b3eb-b78b13d31460&amp;#34;
}
},
&amp;#34;form_version&amp;#34;: {
&amp;#34;time&amp;#34;: 1720158606681,
&amp;#34;sha256&amp;#34;: &amp;#34;b76e6304218d7e5d7f63c044da514784f0db4b293c1b35ac301ac7ec99876824&amp;#34;
}
},
... // 95 more records or less if database has less than 100 records
],
&amp;#34;cursor&amp;#34;: null
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;ol start="2">
&lt;li>Get the second set of 100 people of type &lt;code>person&lt;/code> by using cursor &lt;code>100&lt;/code>.&lt;/li>
&lt;/ol>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>GET /api/v1/person?type=person&amp;amp;cursor=100&amp;amp;limit=100&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 200 OK
Content-Type: application/json; charset=utf-8
{
&amp;#34;data&amp;#34;: [
{
&amp;#34;_id&amp;#34;: &amp;#34;6fbd5d57-28aa-4a2a-93aa-e9b9f4a3dde3&amp;#34;,
&amp;#34;_rev&amp;#34;: &amp;#34;1-3824f633dda834f676d7d27622ed9371&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;person&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;X&amp;#34;,
&amp;#34;short_name&amp;#34;: &amp;#34;x&amp;#34;,
&amp;#34;date_of_birth&amp;#34;: &amp;#34;1989-02-10&amp;#34;,
&amp;#34;date_of_birth_method&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;ephemeral_dob&amp;#34;: {
&amp;#34;dob_calendar&amp;#34;: &amp;#34;1989-02-10&amp;#34;,
&amp;#34;dob_method&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;dob_approx&amp;#34;: &amp;#34;2024-07-26T00:00:00.000&amp;#43;06:45&amp;#34;,
&amp;#34;dob_raw&amp;#34;: &amp;#34;1989-02-10&amp;#34;,
&amp;#34;dob_iso&amp;#34;: &amp;#34;1989-02-10&amp;#34;
},
&amp;#34;phone&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;phone_alternate&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;sex&amp;#34;: &amp;#34;male&amp;#34;,
&amp;#34;role&amp;#34;: &amp;#34;manager&amp;#34;,
&amp;#34;external_id&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;notes&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;user_for_contact&amp;#34;: {
&amp;#34;create&amp;#34;: &amp;#34;false&amp;#34;
},
&amp;#34;meta&amp;#34;: {
&amp;#34;created_by&amp;#34;: &amp;#34;medic&amp;#34;,
&amp;#34;created_by_person_uuid&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;created_by_place_uuid&amp;#34;: &amp;#34;&amp;#34;
},
&amp;#34;reported_date&amp;#34;: 1722004033697,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;a7922ef9-ea7a-47d9-b3eb-b78b13d31460&amp;#34;
},
&amp;#34;form_version&amp;#34;: {
&amp;#34;time&amp;#34;: 1720158606680,
&amp;#34;sha256&amp;#34;: &amp;#34;a2bce7debe191964d6f0a26e0d9cce2ca4437c87a59753688cefac6d2edc9873&amp;#34;
}
},
{
&amp;#34;_id&amp;#34;: &amp;#34;99ea9cf6-8bef-475c-a769-3db0d1888f22&amp;#34;,
&amp;#34;_rev&amp;#34;: &amp;#34;1-2eea14e985aeffd40b33552b33db55a9&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;person&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;Y&amp;#34;,
&amp;#34;short_name&amp;#34;: &amp;#34;y&amp;#34;,
&amp;#34;date_of_birth&amp;#34;: &amp;#34;1989-02-11&amp;#34;,
&amp;#34;date_of_birth_method&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;ephemeral_dob&amp;#34;: {
&amp;#34;dob_calendar&amp;#34;: &amp;#34;1989-02-11&amp;#34;,
&amp;#34;dob_method&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;dob_approx&amp;#34;: &amp;#34;2024-07-26T00:00:00.000&amp;#43;06:45&amp;#34;,
&amp;#34;dob_raw&amp;#34;: &amp;#34;1989-02-11&amp;#34;,
&amp;#34;dob_iso&amp;#34;: &amp;#34;1989-02-11&amp;#34;
},
&amp;#34;phone&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;phone_alternate&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;sex&amp;#34;: &amp;#34;male&amp;#34;,
&amp;#34;role&amp;#34;: &amp;#34;patient&amp;#34;,
&amp;#34;external_id&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;notes&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;user_for_contact&amp;#34;: {
&amp;#34;create&amp;#34;: &amp;#34;false&amp;#34;
},
&amp;#34;meta&amp;#34;: {
&amp;#34;created_by&amp;#34;: &amp;#34;medic&amp;#34;,
&amp;#34;created_by_person_uuid&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;created_by_place_uuid&amp;#34;: &amp;#34;&amp;#34;
},
&amp;#34;reported_date&amp;#34;: 1722004087809,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;be9eb905-1dd3-4957-89ed-b74d080a8246&amp;#34;,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;b132829c-6267-4d4f-aa8e-11862828e65f&amp;#34;,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;a7922ef9-ea7a-47d9-b3eb-b78b13d31460&amp;#34;
}
}
},
&amp;#34;form_version&amp;#34;: {
&amp;#34;time&amp;#34;: 1720158606678,
&amp;#34;sha256&amp;#34;: &amp;#34;c533208263cb5892a50ede65acd31553863a1b9ac84d2b19e993ddc6f9690e1b&amp;#34;
}
},
{
&amp;#34;_id&amp;#34;: &amp;#34;a4e075ce-66cb-47bf-afe8-4c72d1674852&amp;#34;,
&amp;#34;_rev&amp;#34;: &amp;#34;1-4a5920ecc73521905fa6661b9b142346&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;person&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;Z&amp;#34;,
&amp;#34;short_name&amp;#34;: &amp;#34;z&amp;#34;,
&amp;#34;date_of_birth&amp;#34;: &amp;#34;1991-03-05&amp;#34;,
&amp;#34;date_of_birth_method&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;ephemeral_dob&amp;#34;: {
&amp;#34;dob_calendar&amp;#34;: &amp;#34;1991-03-05&amp;#34;,
&amp;#34;dob_method&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;dob_approx&amp;#34;: &amp;#34;2024-08-05T00:00:00.000&amp;#43;06:45&amp;#34;,
&amp;#34;dob_raw&amp;#34;: &amp;#34;1991-03-05&amp;#34;,
&amp;#34;dob_iso&amp;#34;: &amp;#34;1991-03-05&amp;#34;
},
&amp;#34;phone&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;phone_alternate&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;sex&amp;#34;: &amp;#34;male&amp;#34;,
&amp;#34;role&amp;#34;: &amp;#34;patient&amp;#34;,
&amp;#34;external_id&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;notes&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;user_for_contact&amp;#34;: {
&amp;#34;create&amp;#34;: &amp;#34;false&amp;#34;
},
&amp;#34;meta&amp;#34;: {
&amp;#34;created_by&amp;#34;: &amp;#34;medic&amp;#34;,
&amp;#34;created_by_person_uuid&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;created_by_place_uuid&amp;#34;: &amp;#34;&amp;#34;
},
&amp;#34;reported_date&amp;#34;: 1722842989644,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;1c5c9538-4832-47f4-9398-e113ec0bc856&amp;#34;,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;8f98977e-8475-4bef-a064-2ba305b93f3f&amp;#34;,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;a7922ef9-ea7a-47d9-b3eb-b78b13d31460&amp;#34;
}
}
},
&amp;#34;form_version&amp;#34;: {
&amp;#34;time&amp;#34;: 1720158606678,
&amp;#34;sha256&amp;#34;: &amp;#34;c533208263cb5892a50ede65acd31553863a1b9ac84d2b19e993ddc6f9690e1b&amp;#34;
}
}
],
&amp;#34;cursor&amp;#34;: &amp;#34;4&amp;#34;
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h2>People&lt;span class="hx-absolute -hx-mt-20" id="people">&lt;/span>
&lt;a href="#people" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;h3>Supported Properties&lt;span class="hx-absolute -hx-mt-20" id="supported-properties">&lt;/span>
&lt;a href="#supported-properties" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Use JSON in the request body to specify a person&amp;rsquo;s details.&lt;/p>
&lt;p>Note: this does not accommodate having a &lt;code>place&lt;/code> field on your form and will likely be revised soon.&lt;/p>
&lt;h4>Required&lt;span class="hx-absolute -hx-mt-20" id="required">&lt;/span>
&lt;a href="#required" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Key&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>name&lt;/td>
&lt;td>String used to describe the person.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>type&lt;/td>
&lt;td>ID of the &lt;code>contact_type&lt;/code> for the new person. Defaults to &amp;lsquo;person&amp;rsquo; for backwards compatibility.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4>Optional&lt;span class="hx-absolute -hx-mt-20" id="optional">&lt;/span>
&lt;a href="#optional" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Key&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>place&lt;/td>
&lt;td>String that references a place or object that defines a new place.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>reported_date&lt;/td>
&lt;td>Timestamp of when the record was reported or created. Defaults to now.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>POST /api/v1/people&lt;span class="hx-absolute -hx-mt-20" id="post-apiv1people">&lt;/span>
&lt;a href="#post-apiv1people" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Create new people.&lt;/p>
&lt;h4>Permissions&lt;span class="hx-absolute -hx-mt-20" id="permissions-4">&lt;/span>
&lt;a href="#permissions-4" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>By default any user can create or modify a place. Use these permissions to restrict access:&lt;/p>
&lt;p>&lt;code>can_create_people&lt;/code>, &lt;code>can_create_places&lt;/code>&lt;/p>
&lt;h4>Examples&lt;span class="hx-absolute -hx-mt-20" id="examples-10">&lt;/span>
&lt;a href="#examples-10" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>Create new person and place hierarchy.&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>POST /api/v1/people
Content-Type: application/json
{
&amp;#34;name&amp;#34;: &amp;#34;Hannah&amp;#34;,
&amp;#34;phone&amp;#34;: &amp;#34;&amp;#43;2548277210095&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;contact&amp;#34;,
&amp;#34;contact_type&amp;#34;: &amp;#34;patient&amp;#34;,
&amp;#34;place&amp;#34;: {
&amp;#34;name&amp;#34;: &amp;#34;CHP Area One&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;health_center&amp;#34;,
&amp;#34;parent&amp;#34;: {
&amp;#34;name&amp;#34;: &amp;#34;CHP Branch One&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;district_hospital&amp;#34;
}
}
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Create new person and assign existing place.&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>POST /api/v1/people
Content-Type: application/json
{
&amp;#34;name&amp;#34;: &amp;#34;Samuel&amp;#34;,
&amp;#34;place&amp;#34;: &amp;#34;1d83f2b4a27eceb40df9e9f9ad06d137&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;contact&amp;#34;,
&amp;#34;contact_type&amp;#34;: &amp;#34;chp&amp;#34;
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Example response:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 200 OK
Content-Type: application/json
{
&amp;#34;id&amp;#34;: &amp;#34;71df9d25ed6732ea3b4435862510d115&amp;#34;,
&amp;#34;rev&amp;#34;: &amp;#34;1-a4060843d78f46a60a6f41051e40e3b5&amp;#34;
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h2>Place&lt;span class="hx-absolute -hx-mt-20" id="place">&lt;/span>
&lt;a href="#place" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;h3>GET /api/v1/place/{{uuid}}&lt;span class="hx-absolute -hx-mt-20" id="get-apiv1placeuuid">&lt;/span>
&lt;a href="#get-apiv1placeuuid" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;em>Added in 4.10.0&lt;/em>&lt;/p>
&lt;p>Returns a place&amp;rsquo;s data in JSON format.&lt;/p>
&lt;h4>Permissions&lt;span class="hx-absolute -hx-mt-20" id="permissions-5">&lt;/span>
&lt;a href="#permissions-5" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>&lt;code>can_view_contacts&lt;/code>&lt;/p>
&lt;h4>Query parameters&lt;span class="hx-absolute -hx-mt-20" id="query-parameters-8">&lt;/span>
&lt;a href="#query-parameters-8" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>with_lineage&lt;/td>
&lt;td>false&lt;/td>
&lt;td>If &amp;ldquo;true&amp;rdquo;, the place&amp;rsquo;s parent lineage will be included in the returned data. Default is &amp;ldquo;false&amp;rdquo;.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4>Examples&lt;span class="hx-absolute -hx-mt-20" id="examples-11">&lt;/span>
&lt;a href="#examples-11" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>Get a place by uuid:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>GET /api/v1/place/d9153705-4574-43c3-b945-71aa2164d1d6&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 200 OK
Content-Type: application/json; charset=utf-8
{
&amp;#34;_id&amp;#34;: &amp;#34;d9153705-4574-43c3-b945-71aa2164d1d6&amp;#34;,
&amp;#34;_rev&amp;#34;: &amp;#34;2-5f5fde4a8def0f40f89bd164d93bed4f&amp;#34;,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;b935ef10-0339-4263-99fc-34d4f8d72891&amp;#34;
},
&amp;#34;type&amp;#34;: &amp;#34;health_center&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;Example Health Center&amp;#34;,
&amp;#34;contact&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;f512e1d8-841b-4bc1-8154-b6794755f45b&amp;#34;,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;d9153705-4574-43c3-b945-71aa2164d1d6&amp;#34;,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;b935ef10-0339-4263-99fc-34d4f8d72891&amp;#34;
}
}
},
&amp;#34;reported_date&amp;#34;: 1708453778059,
&amp;#34;place_id&amp;#34;: &amp;#34;17437&amp;#34;
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Get a place by uuid with lineage:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>GET /api/v1/place/d9153705-4574-43c3-b945-71aa2164d1d6?with_lineage=true&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 200 OK
Content-Type: application/json; charset=utf-8
{
&amp;#34;_id&amp;#34;: &amp;#34;d9153705-4574-43c3-b945-71aa2164d1d6&amp;#34;,
&amp;#34;_rev&amp;#34;: &amp;#34;2-5f5fde4a8def0f40f89bd164d93bed4f&amp;#34;,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;b935ef10-0339-4263-99fc-34d4f8d72891&amp;#34;,
&amp;#34;_rev&amp;#34;: &amp;#34;2-bdea703bfec184085c31a6bab022764f&amp;#34;,
&amp;#34;parent&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;district_hospital&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;Example Health Facility&amp;#34;,
&amp;#34;contact&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;e5237f20-2d28-4272-8006-c4903e032ab4&amp;#34;,
&amp;#34;_rev&amp;#34;: &amp;#34;3-5a0a8e95cef8bafc186a9494c75afb3c&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;person&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;Example Supervisor&amp;#34;,
&amp;#34;date_of_birth&amp;#34;: &amp;#34;2002-02-20&amp;#34;,
&amp;#34;phone&amp;#34;: &amp;#34;&amp;#43;254712345678&amp;#34;,
&amp;#34;sex&amp;#34;: &amp;#34;female&amp;#34;,
&amp;#34;role&amp;#34;: &amp;#34;chw_supervisor&amp;#34;,
&amp;#34;reported_date&amp;#34;: 1708453756441,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;b935ef10-0339-4263-99fc-34d4f8d72891&amp;#34;
},
&amp;#34;patient_id&amp;#34;: &amp;#34;20424&amp;#34;
},
&amp;#34;reported_date&amp;#34;: 1708453756440,
&amp;#34;place_id&amp;#34;: &amp;#34;54380&amp;#34;
},
&amp;#34;type&amp;#34;: &amp;#34;health_center&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;Example Health Center&amp;#34;,
&amp;#34;contact&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;f512e1d8-841b-4bc1-8154-b6794755f45b&amp;#34;,
&amp;#34;_rev&amp;#34;: &amp;#34;3-9dbc362b262f88d63f270fe06a94dfe8&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;person&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;Example CHW&amp;#34;,
&amp;#34;date_of_birth&amp;#34;: &amp;#34;2002-02-20&amp;#34;,
&amp;#34;phone&amp;#34;: &amp;#34;&amp;#43;254712345679&amp;#34;,
&amp;#34;sex&amp;#34;: &amp;#34;female&amp;#34;,
&amp;#34;role&amp;#34;: &amp;#34;chw&amp;#34;,
&amp;#34;reported_date&amp;#34;: 1708453778059,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;d9153705-4574-43c3-b945-71aa2164d1d6&amp;#34;,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;b935ef10-0339-4263-99fc-34d4f8d72891&amp;#34;
}
},
&amp;#34;patient_id&amp;#34;: &amp;#34;74615&amp;#34;
},
&amp;#34;reported_date&amp;#34;: 1708453778059,
&amp;#34;place_id&amp;#34;: &amp;#34;17437&amp;#34;
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>GET /api/v1/place&lt;span class="hx-absolute -hx-mt-20" id="get-apiv1place">&lt;/span>
&lt;a href="#get-apiv1place" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;em>Added in 4.12.0&lt;/em>&lt;/p>
&lt;p>Returns a JSON array of places based on the specified page parameters.&lt;/p>
&lt;h4>Query Parameters&lt;span class="hx-absolute -hx-mt-20" id="query-parameters-9">&lt;/span>
&lt;a href="#query-parameters-9" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>type&lt;/td>
&lt;td>true&lt;/td>
&lt;td>ID of the contact_type for the places to fetch.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>cursor&lt;/td>
&lt;td>false&lt;/td>
&lt;td>The token identifying which page to retrieve. A &lt;code>null&lt;/code> value indicates the first page should be returned. Subsequent pages can be retrieved by providing the cursor returned with the previous page. Defaults to &lt;code>null&lt;/code>.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>limit&lt;/td>
&lt;td>false&lt;/td>
&lt;td>The total number of places to fetch. Defaults to &lt;code>100&lt;/code>.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4>Examples&lt;span class="hx-absolute -hx-mt-20" id="examples-12">&lt;/span>
&lt;a href="#examples-12" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ol>
&lt;li>Get places of type &lt;code>clinic&lt;/code>.&lt;/li>
&lt;/ol>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>GET /api/v1/place?type=clinic&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 200 OK
Content-Type: application/json; charset=utf-8
{
&amp;#34;data&amp;#34;: [
{
&amp;#34;_id&amp;#34;: &amp;#34;1c5c9538-4832-47f4-9398-e113ec0bc856&amp;#34;,
&amp;#34;_rev&amp;#34;: &amp;#34;1-ec14166e5a1b0014d923a6c0aef85362&amp;#34;,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;8f98977e-8475-4bef-a064-2ba305b93f3f&amp;#34;,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;a7922ef9-ea7a-47d9-b3eb-b78b13d31460&amp;#34;
}
},
&amp;#34;type&amp;#34;: &amp;#34;clinic&amp;#34;,
&amp;#34;is_name_generated&amp;#34;: &amp;#34;true&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;A clinic&amp;#34;,
&amp;#34;external_id&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;notes&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;contact&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;a4e075ce-66cb-47bf-afe8-4c72d1674852&amp;#34;
},
&amp;#34;geolocation&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;meta&amp;#34;: {
&amp;#34;created_by&amp;#34;: &amp;#34;medic&amp;#34;,
&amp;#34;created_by_person_uuid&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;created_by_place_uuid&amp;#34;: &amp;#34;&amp;#34;
},
&amp;#34;reported_date&amp;#34;: 1722842989644,
&amp;#34;form_version&amp;#34;: {
&amp;#34;time&amp;#34;: 1720158606678,
&amp;#34;sha256&amp;#34;: &amp;#34;c533208263cb5892a50ede65acd31553863a1b9ac84d2b19e993ddc6f9690e1b&amp;#34;
}
},
{
&amp;#34;_id&amp;#34;: &amp;#34;be9eb905-1dd3-4957-89ed-b74d080a8246&amp;#34;,
&amp;#34;_rev&amp;#34;: &amp;#34;1-d1444e92bd1973e9d8366c0a55346c0a&amp;#34;,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;b132829c-6267-4d4f-aa8e-11862828e65f&amp;#34;,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;a7922ef9-ea7a-47d9-b3eb-b78b13d31460&amp;#34;
}
},
&amp;#34;type&amp;#34;: &amp;#34;clinic&amp;#34;,
&amp;#34;is_name_generated&amp;#34;: &amp;#34;true&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;B clinic&amp;#34;,
&amp;#34;external_id&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;notes&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;contact&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;99ea9cf6-8bef-475c-a769-3db0d1888f22&amp;#34;
},
&amp;#34;geolocation&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;meta&amp;#34;: {
&amp;#34;created_by&amp;#34;: &amp;#34;medic&amp;#34;,
&amp;#34;created_by_person_uuid&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;created_by_place_uuid&amp;#34;: &amp;#34;&amp;#34;
},
&amp;#34;reported_date&amp;#34;: 1722004087809,
&amp;#34;form_version&amp;#34;: {
&amp;#34;time&amp;#34;: 1720158606678,
&amp;#34;sha256&amp;#34;: &amp;#34;c533208263cb5892a50ede65acd31553863a1b9ac84d2b19e993ddc6f9690e1b&amp;#34;
}
},
... // 98 more records or less if database has less than 100 records
],
&amp;#34;cursor&amp;#34;: null
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;ol start="2">
&lt;li>Get 2 places of type &lt;code>clinic&lt;/code> by using cursor &lt;code>1&lt;/code>.&lt;/li>
&lt;/ol>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>GET /api/v1/place?type=clinic&amp;amp;cursor=1&amp;amp;limit=2&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 200 OK
Content-Type: application/json; charset=utf-8
{
&amp;#34;data&amp;#34;: [
{
&amp;#34;_id&amp;#34;: &amp;#34;1c5c9538-4832-47f4-9398-e113ec0bc856&amp;#34;,
&amp;#34;_rev&amp;#34;: &amp;#34;1-ec14166e5a1b0014d923a6c0aef85362&amp;#34;,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;8f98977e-8475-4bef-a064-2ba305b93f3f&amp;#34;,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;a7922ef9-ea7a-47d9-b3eb-b78b13d31460&amp;#34;
}
},
&amp;#34;type&amp;#34;: &amp;#34;clinic&amp;#34;,
&amp;#34;is_name_generated&amp;#34;: &amp;#34;true&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;A clinic&amp;#34;,
&amp;#34;external_id&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;notes&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;contact&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;a4e075ce-66cb-47bf-afe8-4c72d1674852&amp;#34;
},
&amp;#34;geolocation&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;meta&amp;#34;: {
&amp;#34;created_by&amp;#34;: &amp;#34;medic&amp;#34;,
&amp;#34;created_by_person_uuid&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;created_by_place_uuid&amp;#34;: &amp;#34;&amp;#34;
},
&amp;#34;reported_date&amp;#34;: 1722842989644,
&amp;#34;form_version&amp;#34;: {
&amp;#34;time&amp;#34;: 1720158606678,
&amp;#34;sha256&amp;#34;: &amp;#34;c533208263cb5892a50ede65acd31553863a1b9ac84d2b19e993ddc6f9690e1b&amp;#34;
}
},
{
&amp;#34;_id&amp;#34;: &amp;#34;be9eb905-1dd3-4957-89ed-b74d080a8246&amp;#34;,
&amp;#34;_rev&amp;#34;: &amp;#34;1-d1444e92bd1973e9d8366c0a55346c0a&amp;#34;,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;b132829c-6267-4d4f-aa8e-11862828e65f&amp;#34;,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;a7922ef9-ea7a-47d9-b3eb-b78b13d31460&amp;#34;
}
},
&amp;#34;type&amp;#34;: &amp;#34;clinic&amp;#34;,
&amp;#34;is_name_generated&amp;#34;: &amp;#34;true&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;B clinic&amp;#34;,
&amp;#34;external_id&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;notes&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;contact&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;99ea9cf6-8bef-475c-a769-3db0d1888f22&amp;#34;
},
&amp;#34;geolocation&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;meta&amp;#34;: {
&amp;#34;created_by&amp;#34;: &amp;#34;medic&amp;#34;,
&amp;#34;created_by_person_uuid&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;created_by_place_uuid&amp;#34;: &amp;#34;&amp;#34;
},
&amp;#34;reported_date&amp;#34;: 1722004087809,
&amp;#34;form_version&amp;#34;: {
&amp;#34;time&amp;#34;: 1720158606678,
&amp;#34;sha256&amp;#34;: &amp;#34;c533208263cb5892a50ede65acd31553863a1b9ac84d2b19e993ddc6f9690e1b&amp;#34;
}
}
],
&amp;#34;cursor&amp;#34;: &amp;#34;3&amp;#34;
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h2>Places&lt;span class="hx-absolute -hx-mt-20" id="places">&lt;/span>
&lt;a href="#places" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>By default any user can create or modify a place.&lt;/p>
&lt;h3>Supported Properties&lt;span class="hx-absolute -hx-mt-20" id="supported-properties-1">&lt;/span>
&lt;a href="#supported-properties-1" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Use JSON in the request body to specify a place&amp;rsquo;s details.&lt;/p>
&lt;h4>Required Properties&lt;span class="hx-absolute -hx-mt-20" id="required-properties">&lt;/span>
&lt;a href="#required-properties" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Key&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>name&lt;/td>
&lt;td>String used to describe the place.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>type&lt;/td>
&lt;td>Place type&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>parent&lt;/td>
&lt;td>String that references a place or object that defines a new place. Optional for District Hospital and National Office types.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4>Optional Properties&lt;span class="hx-absolute -hx-mt-20" id="optional-properties">&lt;/span>
&lt;a href="#optional-properties" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Key&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>contact&lt;/td>
&lt;td>String identifier for a person or object that defines a new person.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>reported_date&lt;/td>
&lt;td>Timestamp of when the record was reported or created. Defaults to now.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4>Place Types&lt;span class="hx-absolute -hx-mt-20" id="place-types">&lt;/span>
&lt;a href="#place-types" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Key&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>clinic&lt;/td>
&lt;td>Clinic&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>health_center&lt;/td>
&lt;td>Health Center&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>district_hospital&lt;/td>
&lt;td>District Hospital&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>national_office&lt;/td>
&lt;td>National Office&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>POST /api/v1/places&lt;span class="hx-absolute -hx-mt-20" id="post-apiv1places">&lt;/span>
&lt;a href="#post-apiv1places" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Create a new place and optionally a contact.&lt;/p>
&lt;h4>Permissions&lt;span class="hx-absolute -hx-mt-20" id="permissions-6">&lt;/span>
&lt;a href="#permissions-6" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>By default any user can create new places. Use these permissions to restrict access:&lt;/p>
&lt;p>&lt;code>can_create_places&lt;/code>, &lt;code>can_create_people&lt;/code>&lt;/p>
&lt;h4>Examples&lt;span class="hx-absolute -hx-mt-20" id="examples-13">&lt;/span>
&lt;a href="#examples-13" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>Create new place referencing existing parent.&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>POST /api/v1/places
Content-Type: application/json
{
&amp;#34;name&amp;#34;: &amp;#34;Busia Clinic&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;clinic&amp;#34;,
&amp;#34;parent&amp;#34;: &amp;#34;1d83f2b4a27eceb40df9e9f9ad06d137&amp;#34;
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Create child and parent places.&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>POST /api/v1/places
Content-Type: application/json
{
&amp;#34;name&amp;#34;: &amp;#34;CHP Area One&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;health_center&amp;#34;,
&amp;#34;parent&amp;#34;: {
&amp;#34;name&amp;#34;: &amp;#34;CHP Branch One&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;district_hospital&amp;#34;
}
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Also creates contact (person).&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>POST /api/v1/places
Content-Type: application/json
{
&amp;#34;name&amp;#34;: &amp;#34;CHP Area One&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;health_center&amp;#34;,
&amp;#34;parent&amp;#34;: {
&amp;#34;name&amp;#34;: &amp;#34;CHP Branch One&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;district_hospital&amp;#34;
},
&amp;#34;contact&amp;#34;: {
&amp;#34;name&amp;#34;: &amp;#34;Paul&amp;#34;,
&amp;#34;phone&amp;#34;: &amp;#34;&amp;#43;254883720611&amp;#34;
}
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Or assigns them.&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>POST /api/v1/places
Content-Type: application/json
{
&amp;#34;name&amp;#34;: &amp;#34;CHP Area One&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;health_center&amp;#34;,
&amp;#34;parent&amp;#34;: {
&amp;#34;name&amp;#34;: &amp;#34;CHP Branch One&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;district_hospital&amp;#34;
},
&amp;#34;contact&amp;#34;: &amp;#34;71df9d25ed6732ea3b4435862510ef8e&amp;#34;
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Example success response:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 200 OK
Content-Type: application/json
{
&amp;#34;id&amp;#34;: &amp;#34;71df9d25ed6732ea3b4435862510d115&amp;#34;,
&amp;#34;rev&amp;#34;: &amp;#34;1-a4060843d78f46a60a6f41051e40e3b5&amp;#34;
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Error response if facility structure is not correct:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 400 Bad Request
Content-Type: text/plain
Health Centers should have &amp;#34;district_hospital&amp;#34; parent type.&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>POST /api/v1/places/{{id}}&lt;span class="hx-absolute -hx-mt-20" id="post-apiv1placesid">&lt;/span>
&lt;a href="#post-apiv1placesid" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Update a place and optionally its contact.&lt;/p>
&lt;h4>Permissions&lt;span class="hx-absolute -hx-mt-20" id="permissions-7">&lt;/span>
&lt;a href="#permissions-7" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>By default any user can update a place. Use these permissions to restrict access:&lt;/p>
&lt;p>&lt;code>can_update_places&lt;/code>&lt;/p>
&lt;h4>Examples&lt;span class="hx-absolute -hx-mt-20" id="examples-14">&lt;/span>
&lt;a href="#examples-14" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>Update a place&amp;rsquo;s contact.&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>POST /api/v1/places/1d83f2b4a27eceb40df9e9f9ad06d137
Content-Type: application/json
{
&amp;#34;contact&amp;#34;: &amp;#34;71df9d25ed6732ea3b4435862505f7a9&amp;#34;
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 200 OK
Content-Type: application/json
{
&amp;#34;id&amp;#34;: &amp;#34;1d83f2b4a27eceb40df9e9f9ad06d137&amp;#34;,
&amp;#34;rev&amp;#34;: &amp;#34;12-a4060843d78f46a60a6f41051e40e3b5&amp;#34;
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h2>Report&lt;span class="hx-absolute -hx-mt-20" id="report">&lt;/span>
&lt;a href="#report" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;h3>GET/api/v1/report/{{uuid}}&lt;span class="hx-absolute -hx-mt-20" id="getapiv1reportuuid">&lt;/span>
&lt;a href="#getapiv1reportuuid" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;em>Added in 4.18.0&lt;/em>&lt;/p>
&lt;p>Returns a report&amp;rsquo;s data in JSON format.&lt;/p>
&lt;h4>Permissions&lt;span class="hx-absolute -hx-mt-20" id="permissions-8">&lt;/span>
&lt;a href="#permissions-8" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>&lt;code>can_view_reports&lt;/code>&lt;/p>
&lt;h4>Query parameters&lt;span class="hx-absolute -hx-mt-20" id="query-parameters-10">&lt;/span>
&lt;a href="#query-parameters-10" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>with_lineage&lt;/td>
&lt;td>false&lt;/td>
&lt;td>Added in &lt;code>4.22.0&lt;/code>. If &amp;ldquo;true&amp;rdquo;, the report&amp;rsquo;s contact, patient, and/or place lineage will be included in the returned data. Default is &amp;ldquo;false&amp;rdquo;.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4>Examples&lt;span class="hx-absolute -hx-mt-20" id="examples-15">&lt;/span>
&lt;a href="#examples-15" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>Get a report by uuid:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>GET /api/v1/report/232a3938-9b1c-4d88-bbd8-8ebd6a688b2d&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 200 OK
Content-Type: application/json; charset=utf-8
{
&amp;#34;_id&amp;#34;: &amp;#34;232a3938-9b1c-4d88-bbd8-8ebd6a688b2d&amp;#34;,
&amp;#34;_rev&amp;#34;: &amp;#34;1-68ec4e77bbba238ef09dab5e8c8131e7&amp;#34;,
&amp;#34;form&amp;#34;: &amp;#34;pregnancy_danger_sign&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;data_record&amp;#34;,
&amp;#34;content_type&amp;#34;: &amp;#34;xml&amp;#34;,
&amp;#34;reported_date&amp;#34;: 1742380956176,
&amp;#34;fields&amp;#34;: {
&amp;#34;patient_uuid&amp;#34;: &amp;#34;1f605fc1-ec99-44e3-af38-055d47b72991&amp;#34;,
&amp;#34;patient_age_in_years&amp;#34;: 34,
&amp;#34;patient_name&amp;#34;: &amp;#34;Della Runolfsdottir&amp;#34;,
&amp;#34;t_danger_signs_referral_follow_up_date&amp;#34;: &amp;#34;2025-03-18T13:14:08.030Z&amp;#34;,
&amp;#34;t_danger_signs_referral_follow_up&amp;#34;: &amp;#34;yes&amp;#34;,
&amp;#34;danger_signs&amp;#34;: {
&amp;#34;danger_signs_note&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;danger_signs_question_note&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;vaginal_bleeding&amp;#34;: &amp;#34;yes&amp;#34;,
&amp;#34;fits&amp;#34;: &amp;#34;no&amp;#34;,
&amp;#34;severe_abdominal_pain&amp;#34;: &amp;#34;yes&amp;#34;,
&amp;#34;severe_headache&amp;#34;: &amp;#34;no&amp;#34;,
&amp;#34;very_pale&amp;#34;: &amp;#34;yes&amp;#34;,
&amp;#34;fever&amp;#34;: &amp;#34;yes&amp;#34;,
&amp;#34;reduced_or_no_fetal_movements&amp;#34;: &amp;#34;yes&amp;#34;,
&amp;#34;breaking_water&amp;#34;: &amp;#34;yes&amp;#34;,
&amp;#34;easily_tired&amp;#34;: &amp;#34;no&amp;#34;,
&amp;#34;face_hand_swelling&amp;#34;: &amp;#34;yes&amp;#34;,
&amp;#34;breathlessness&amp;#34;: &amp;#34;no&amp;#34;,
&amp;#34;r_danger_sign_present&amp;#34;: &amp;#34;yes&amp;#34;,
&amp;#34;refer_patient_note_1&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;refer_patient_note_2&amp;#34;: &amp;#34;&amp;#34;
}
},
&amp;#34;contact&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;1f605fc1-ec99-44e3-af38-055d47b72991&amp;#34;,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;637756e8-6f4d-4f96-8971-23e930fb0562&amp;#34;,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;9246ada7-85c6-427a-8a48-7790f56b8c44&amp;#34;,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;e795199a-924d-4901-8bff-46cb7db2fc34&amp;#34;
}
}
}
}
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Get a report by uuid with lineage:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>GET /api/v1/report/232a3938-9b1c-4d88-bbd8-8ebd6a688b2d?with_lineage=true&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 200 OK
Content-Type: application/json; charset=utf-8
{
&amp;#34;_id&amp;#34;: &amp;#34;232a3938-9b1c-4d88-bbd8-8ebd6a688b2d&amp;#34;,
&amp;#34;_rev&amp;#34;: &amp;#34;1-68ec4e77bbba238ef09dab5e8c8131e7&amp;#34;,
&amp;#34;form&amp;#34;: &amp;#34;pregnancy_danger_sign&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;data_record&amp;#34;,
&amp;#34;content_type&amp;#34;: &amp;#34;xml&amp;#34;,
&amp;#34;reported_date&amp;#34;: 1742380956176,
&amp;#34;fields&amp;#34;: {
&amp;#34;patient_id&amp;#34;: &amp;#34;74615&amp;#34;,
&amp;#34;place_id&amp;#34;: &amp;#34;54380&amp;#34;,
&amp;#34;patient_age_in_years&amp;#34;: 34,
&amp;#34;t_danger_signs_referral_follow_up_date&amp;#34;: &amp;#34;2025-03-18T13:14:08.030Z&amp;#34;,
&amp;#34;t_danger_signs_referral_follow_up&amp;#34;: &amp;#34;yes&amp;#34;,
&amp;#34;danger_signs&amp;#34;: {
&amp;#34;danger_signs_note&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;danger_signs_question_note&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;vaginal_bleeding&amp;#34;: &amp;#34;yes&amp;#34;,
&amp;#34;fits&amp;#34;: &amp;#34;no&amp;#34;,
&amp;#34;severe_abdominal_pain&amp;#34;: &amp;#34;yes&amp;#34;,
&amp;#34;severe_headache&amp;#34;: &amp;#34;no&amp;#34;,
&amp;#34;very_pale&amp;#34;: &amp;#34;yes&amp;#34;,
&amp;#34;fever&amp;#34;: &amp;#34;yes&amp;#34;,
&amp;#34;reduced_or_no_fetal_movements&amp;#34;: &amp;#34;yes&amp;#34;,
&amp;#34;breaking_water&amp;#34;: &amp;#34;yes&amp;#34;,
&amp;#34;easily_tired&amp;#34;: &amp;#34;no&amp;#34;,
&amp;#34;face_hand_swelling&amp;#34;: &amp;#34;yes&amp;#34;,
&amp;#34;breathlessness&amp;#34;: &amp;#34;no&amp;#34;,
&amp;#34;r_danger_sign_present&amp;#34;: &amp;#34;yes&amp;#34;,
&amp;#34;refer_patient_note_1&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;refer_patient_note_2&amp;#34;: &amp;#34;&amp;#34;
}
},
&amp;#34;contact&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;f512e1d8-841b-4bc1-8154-b6794755f45b&amp;#34;,
&amp;#34;_rev&amp;#34;: &amp;#34;3-9dbc362b262f88d63f270fe06a94dfe8&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;person&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;Example CHW&amp;#34;,
&amp;#34;date_of_birth&amp;#34;: &amp;#34;2002-02-20&amp;#34;,
&amp;#34;phone&amp;#34;: &amp;#34;&amp;#43;254712345679&amp;#34;,
&amp;#34;sex&amp;#34;: &amp;#34;female&amp;#34;,
&amp;#34;role&amp;#34;: &amp;#34;chw&amp;#34;,
&amp;#34;reported_date&amp;#34;: 1708453778059,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;d9153705-4574-43c3-b945-71aa2164d1d6&amp;#34;,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;b935ef10-0339-4263-99fc-34d4f8d72891&amp;#34;
}
}
},
&amp;#34;patient&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;0c9cc77d-7858-44dd-bf44-a25b14334801&amp;#34;,
&amp;#34;_rev&amp;#34;: &amp;#34;1-5fd1e08353c3d102e9b6710eed98dd65&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;person&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;A&amp;#34;,
&amp;#34;date_of_birth&amp;#34;: &amp;#34;1961-09-15&amp;#34;,
&amp;#34;sex&amp;#34;: &amp;#34;male&amp;#34;,
&amp;#34;reported_date&amp;#34;: 1722840232495,
&amp;#34;patient_id&amp;#34;: &amp;#34;74615&amp;#34;,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;d828971b-d796-45b5-ab1a-943622d906a1&amp;#34;,
&amp;#34;_rev&amp;#34;: &amp;#34;1-1c8e9ae54655e1892686e854e7d404ea&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;health_center&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;Health Center&amp;#34;,
&amp;#34;external_id&amp;#34;: &amp;#34;GlghB&amp;#34;,
&amp;#34;notes&amp;#34;: &amp;#34;Turbo amor utilis surgo vomica cedo.\nAlveus tabella tondeo itaque.&amp;#34;,
&amp;#34;reported_date&amp;#34;: 1742160968002,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;3bb8af4d-ee91-4889-9e11-5ba09a833b2e&amp;#34;,
&amp;#34;_rev&amp;#34;: &amp;#34;1-6b109ceccdfcd13f9f78968262d8c82a&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;district_hospital&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;Hospital&amp;#34;,
&amp;#34;external_id&amp;#34;: &amp;#34;Xge4N&amp;#34;,
&amp;#34;notes&amp;#34;: &amp;#34;Attonbitus sperno cernuus.\nVarius temeritas suadeo cimentarius tum.&amp;#34;,
&amp;#34;reported_date&amp;#34;: 1741973509708
}
}
},
&amp;#34;place&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;b935ef10-0339-4263-99fc-34d4f8d72891&amp;#34;,
&amp;#34;_rev&amp;#34;: &amp;#34;2-bdea703bfec184085c31a6bab022764f&amp;#34;,
&amp;#34;parent&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;district_hospital&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;Example Health Facility&amp;#34;,
&amp;#34;contact&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;e5237f20-2d28-4272-8006-c4903e032ab4&amp;#34;,
&amp;#34;_rev&amp;#34;: &amp;#34;3-5a0a8e95cef8bafc186a9494c75afb3c&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;person&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;Example Supervisor&amp;#34;,
&amp;#34;date_of_birth&amp;#34;: &amp;#34;2002-02-20&amp;#34;,
&amp;#34;phone&amp;#34;: &amp;#34;&amp;#43;254712345678&amp;#34;,
&amp;#34;sex&amp;#34;: &amp;#34;female&amp;#34;,
&amp;#34;role&amp;#34;: &amp;#34;chw_supervisor&amp;#34;,
&amp;#34;reported_date&amp;#34;: 1708453756441,
&amp;#34;parent&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;b935ef10-0339-4263-99fc-34d4f8d72891&amp;#34;
}
},
&amp;#34;reported_date&amp;#34;: 1708453756440,
&amp;#34;place_id&amp;#34;: &amp;#34;54380&amp;#34;
},
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>GET /api/v1/report/uuid&lt;span class="hx-absolute -hx-mt-20" id="get-apiv1reportuuid">&lt;/span>
&lt;a href="#get-apiv1reportuuid" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;em>Added in 4.18.0&lt;/em>&lt;/p>
&lt;p>Returns a JSON array of strings of UUID&amp;rsquo;s of reports based on the specified page parameters.&lt;/p>
&lt;h4>Permissions&lt;span class="hx-absolute -hx-mt-20" id="permissions-9">&lt;/span>
&lt;a href="#permissions-9" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>&lt;code>can_view_reports&lt;/code>&lt;/p>
&lt;h4>Query Parameters&lt;span class="hx-absolute -hx-mt-20" id="query-parameters-11">&lt;/span>
&lt;a href="#query-parameters-11" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>freetext&lt;/td>
&lt;td>true&lt;/td>
&lt;td>A string search term for filtering the reports to fetch. The string value should be at least 3 characters in length and not contain whitespace.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>cursor&lt;/td>
&lt;td>false&lt;/td>
&lt;td>The token identifying which page to retrieve. A &lt;code>null&lt;/code> value indicates the first page should be returned. Subsequent pages can be retrieved by providing the cursor returned with the previous page. Defaults to &lt;code>null&lt;/code>.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>limit&lt;/td>
&lt;td>false&lt;/td>
&lt;td>The total number of reports to fetch. Defaults to &lt;code>10000&lt;/code>.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4>Examples&lt;span class="hx-absolute -hx-mt-20" id="examples-16">&lt;/span>
&lt;a href="#examples-16" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ol>
&lt;li>Get an array of report UUIDs with freetext &lt;code>abc&lt;/code>.&lt;/li>
&lt;/ol>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>GET /api/v1/report/uuid?freetext=abc&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 200 OK
Content-Type: application/json; charset=utf-8
{
&amp;#34;data&amp;#34;: [
&amp;#34;0003d4cd-1f52-48ad-9238-bbbddd1c022f&amp;#34;,
&amp;#34;00078d1a-687f-49d0-8930-21d79f2e05a9&amp;#34;,
&amp;#34;000f3c80-e22b-4738-a1a9-3212756d00d9&amp;#34;,
&amp;#34;001b6346-c8be-48b3-8bc1-1ef8ea4ed907&amp;#34;,
&amp;#34;003d4976-fe39-4ad8-b530-3878fbf0746f&amp;#34;,
&amp;#34;00405b80-070e-4adf-9b15-52399380307b&amp;#34;,
&amp;#34;0058269a-061c-4e51-a854-583d5a34ea3e&amp;#34;,
&amp;#34;005a840b-fa9f-440e-be68-235e50870639&amp;#34;,
&amp;#34;00afc504-cd27-4b05-b9d7-b50765802314&amp;#34;,
&amp;#34;00d35973-3365-4653-a0bb-ba8c2d00099d&amp;#34;
],
&amp;#34;cursor&amp;#34;: null
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;ol start="2">
&lt;li>Get an array of 10 report UUIDs with freetext &lt;code>abc&lt;/code> after skipping some amount of reports.&lt;/li>
&lt;/ol>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>GET /api/v1/report/uuid?type=person&amp;amp;freetext=abc&amp;amp;limit=10&amp;amp;cursor=W1t7InZhbHVlIjoyLjczNTQ2MTIsIkB0eXBlIjoiZmxvY5nIn1dXQ==&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 200 OK
Content-Type: application/json; charset=utf-8
{
&amp;#34;data&amp;#34;: [
&amp;#34;00f8d77a-c672-48ee-b6e4-d508ee207e83&amp;#34;,
&amp;#34;010a727b-7251-4d48-8a0f-4d711429f661&amp;#34;,
&amp;#34;01192e60-b7f6-4423-a37f-53e458f3d8b3&amp;#34;,
&amp;#34;012c6ab4-e0ad-4e36-9984-905b02b82607&amp;#34;,
&amp;#34;014a4b49-7a4f-460e-9718-c64e5754010d&amp;#34;,
&amp;#34;0162a9c9-9b91-4e83-b296-3095d5c5dd21&amp;#34;,
&amp;#34;018bbfd2-ac0b-41a7-a0b6-0ab50a5950c4&amp;#34;,
&amp;#34;01be86c2-1638-4a60-af2e-3857e806e84a&amp;#34;,
&amp;#34;01c3db83-b27c-46de-b709-21032a170642&amp;#34;,
&amp;#34;01fbd96b-bd77-40aa-bc08-a1d3a877b9e2&amp;#34;
],
&amp;#34;cursor&amp;#34;: &amp;#34;W1t7InZhbHVlIjoyLjczNTQ2MTIsIkB0eXBlIjoiZmxvYXQifSx73LTEzOGYyZjljOWRhMiIsIkB0eXBlIjoic3RyaW5nIn1dXQ==&amp;#34;
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h2>Users&lt;span class="hx-absolute -hx-mt-20" id="users">&lt;/span>
&lt;a href="#users" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>All user related requests are limited to users with admin privileges by default.&lt;/p>
&lt;h3>Supported Properties&lt;span class="hx-absolute -hx-mt-20" id="supported-properties-2">&lt;/span>
&lt;a href="#supported-properties-2" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Use JSON in the request body to specify user details. Any properties submitted
that are not on the list below will be ignored. Any properties not included
will be undefined.&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Type&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Version&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>username&lt;/td>
&lt;td>yes&lt;/td>
&lt;td>String&lt;/td>
&lt;td>identifier used for authentication&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>roles&lt;/td>
&lt;td>yes&lt;/td>
&lt;td>Array&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>place&lt;/td>
&lt;td>yes, if the roles contain an offline role&lt;/td>
&lt;td>string or object&lt;/td>
&lt;td>Place identifier string (UUID) or object this user resides in.&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>contact&lt;/td>
&lt;td>yes, if the roles contain an offline role&lt;/td>
&lt;td>string or object&lt;/td>
&lt;td>A person identifier string (UUID) or object based on the form configured in the app.&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>password&lt;/td>
&lt;td>yes, if &lt;code>token_login&lt;/code> or &lt;code>oidc_username&lt;/code> is not set for the user&lt;/td>
&lt;td>String&lt;/td>
&lt;td>Password string used for authentication. Only allowed to be set, not retrieved.&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>phone&lt;/td>
&lt;td>yes, if &lt;code>token_login&lt;/code> is enabled for the user&lt;/td>
&lt;td>String&lt;/td>
&lt;td>Valid phone number&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>token_login&lt;/td>
&lt;td>no&lt;/td>
&lt;td>Boolean&lt;/td>
&lt;td>A boolean representing whether or not the Login by SMS should be enabled for this user.&lt;/td>
&lt;td>3.10.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>fullname&lt;/td>
&lt;td>no&lt;/td>
&lt;td>String&lt;/td>
&lt;td>Full name&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>email&lt;/td>
&lt;td>no&lt;/td>
&lt;td>String&lt;/td>
&lt;td>Email address&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>known&lt;/td>
&lt;td>no&lt;/td>
&lt;td>Boolean&lt;/td>
&lt;td>Boolean to define if the user has logged in before.&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>password_change_required&lt;/td>
&lt;td>no&lt;/td>
&lt;td>Boolean&lt;/td>
&lt;td>Set &lt;code>false&lt;/code> to avoid the user being prompted to &lt;a href="https://docs.communityhealthtoolkit.org/building/login/#password-reset-on-first-login" >reset their password&lt;/a> the next time they log in.&lt;/td>
&lt;td>4.17.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>oidc_username&lt;/td>
&lt;td>no&lt;/td>
&lt;td>String&lt;/td>
&lt;td>A unique username for &lt;a href="#login-by-oidc" >authenticating via OIDC&lt;/a>. This value must match the &lt;code>email&lt;/code> claim returned for the user by the OIDC provider.&lt;/td>
&lt;td>4.20.0&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4>Login by SMS&lt;span class="hx-absolute -hx-mt-20" id="login-by-sms">&lt;/span>
&lt;a href="#login-by-sms" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>When creating or updating a user, sending a truthy value for the field &lt;code>token_login&lt;/code> will enable Login by SMS for this user.
This action resets the user&amp;rsquo;s password to an unknown string and generates a complex 64 character token, that is used to generate a token-login URL.
The URL is sent to the user&amp;rsquo;s phone number by SMS, along with another (configurable) SMS that can contain additional information.
Accessing this link, before its expiration time, will log the user in directly - without the need of any other credentials.
The link can only be accessed once, the token becomes invalid after being used for one login.
The token expires in 24 hours, after which logging in is only possible by either generating a new token, or disabling &lt;code>token_login&lt;/code> and manually setting a password.&lt;/p>
&lt;p>The SMS messages are stored in a doc of a new type &lt;code>login_token&lt;/code>. These docs cannot be viewed as reports from the webapp, and can only be edited by admins, but their messages are visible in the Admin Message Queue page.&lt;/p>
&lt;p>To disable login by SMS for a user, update the user sending &lt;code>token_login&lt;/code> with a &lt;code>false&lt;/code> value.
To regenerate the token, update the user sending &lt;code>token_login&lt;/code> with a &lt;code>true&lt;/code> value.&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;code>token_login&lt;/code>&lt;/th>
&lt;th>user state&lt;/th>
&lt;th>action&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>undefined&lt;/td>
&lt;td>new&lt;/td>
&lt;td>None&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>undefined&lt;/td>
&lt;td>existent, no token&lt;/td>
&lt;td>None&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>undefined&lt;/td>
&lt;td>existent, with token&lt;/td>
&lt;td>None. Login by SMS remains enabled. Token is unchanged.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>true&lt;/td>
&lt;td>new&lt;/td>
&lt;td>Login by SMS enabled. Token is generated and SMS is sent.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>true&lt;/td>
&lt;td>existent, no token&lt;/td>
&lt;td>Password is reset. Login by SMS enabled. Token is generated and SMS is sent. Existent sessions are invalidated.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>true&lt;/td>
&lt;td>existent, with token&lt;/td>
&lt;td>Password is reset. Login by SMS enabled. New token is generated and SMS is sent. Old token is invalid. Existent sessions are invalidated.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>false&lt;/td>
&lt;td>new&lt;/td>
&lt;td>None.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>false&lt;/td>
&lt;td>existent, no token&lt;/td>
&lt;td>None.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>false&lt;/td>
&lt;td>existent, with token&lt;/td>
&lt;td>Request requires a password. Login by SMS is disabled. Old token is invalidated. Existent sessions are invalidated.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>This feature uses &lt;a href="https://docs.communityhealthtoolkit.org/building/reference/app-settings/#app_settingsjson" >&lt;code>app_settings.app_url&lt;/code>&lt;/a> and &lt;a href="https://docs.communityhealthtoolkit.org/building/reference/app-settings/token_login/" >&lt;code>app_settings.token_login&lt;/code>&lt;/a> to be defined and enabled.
If &lt;code>app_settings.app_url&lt;/code> is not defined, the generated token-login URL will use the &lt;code>Host&lt;/code> request header, which may not always be correct.&lt;/p>
&lt;p>&lt;em>See Also&lt;/em>: &lt;a href="https://docs.communityhealthtoolkit.org/building/login/#remote-login">Logging into CHT Apps&lt;/a>&lt;/p>
&lt;h4>Login by OIDC&lt;span class="hx-absolute -hx-mt-20" id="login-by-oidc">&lt;/span>
&lt;a href="#login-by-oidc" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;div class="hx-overflow-x-auto hx-mt-6 hx-flex hx-rounded-lg hx-border hx-py-2 ltr:hx-pr-4 rtl:hx-pl-4 contrast-more:hx-border-current contrast-more:dark:hx-border-current hx-border-orange-100 hx-bg-orange-50 hx-text-orange-800 dark:hx-border-orange-400/30 dark:hx-bg-orange-400/20 dark:hx-text-orange-300">
&lt;div class="ltr:hx-pl-3 ltr:hx-pr-2 rtl:hx-pr-3 rtl:hx-pl-2">&lt;/div>
&lt;div class="hx-w-full hx-min-w-0 hx-leading-7">
&lt;div class="hx-mt-6 hx-leading-7 first:hx-mt-0">Introduced in 4.20.0. This feature is only compatible with cht-android version &lt;code>v1.5.2&lt;/code> or greater.&lt;/div>
&lt;/div>
&lt;/div>
&lt;p>When &lt;a href="https://docs.communityhealthtoolkit.org/hosting/sso/" >SSO Login&lt;/a> is enabled (by configuring the &lt;a href="https://docs.communityhealthtoolkit.org/building/reference/app-settings/oidc_provider/" >&lt;code>oidc_provider&lt;/code> settings&lt;/a>), a CHT user must be provisioned for each SSO user prior to them logging in. The CHT user&amp;rsquo;s &lt;code>oidc_username&lt;/code> property must be set to the value of the user&amp;rsquo;s &lt;code>email&lt;/code> claim from the OIDC Provider.&lt;/p>
&lt;p>Two CHT users cannot share the same &lt;code>oidc_username&lt;/code> value. Setting the &lt;code>oidc_username&lt;/code> property for a user will cause the user&amp;rsquo;s password (in the CHT) to be set to a random value, preventing them from logging in with other authentication methods. Instead, the user must log in using the &amp;ldquo;Login with SSO&amp;rdquo; button.&lt;/p>
&lt;p>When creating/editing users via the &lt;a href="https://docs.communityhealthtoolkit.org/building/admin/admin-overview/" >App Management interface&lt;/a>, the &amp;ldquo;SSO Email Address&amp;rdquo; field is used to set the &lt;code>oidc_username&lt;/code> property.&lt;/p>
&lt;p>(Note: it is possible to have a mixed environment where some users log in with SSO and others log in with other authentication methods. In this case, the &lt;code>oidc_username&lt;/code> property is only set for those users who log in with SSO.)&lt;/p>
&lt;h5>Locale for SSO users&lt;span class="hx-absolute -hx-mt-20" id="locale-for-sso-users">&lt;/span>
&lt;a href="#locale-for-sso-users" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h5>&lt;p>When a user logs in via SSO, the CHT app will attempt to localize the interface based on the &lt;code>locale&lt;/code> claim returned by the OIDC Provider (otherwise it will fall back to the default locale configured as the first &lt;code>languages&lt;/code> entry in the &lt;a href="https://docs.communityhealthtoolkit.org/building/reference/app-settings/#app_settingsjson" >&lt;code>app_settings.json&lt;/code>&lt;/a>).&lt;/p>
&lt;p>&lt;em>See Also&lt;/em>: &lt;a href="https://docs.communityhealthtoolkit.org/hosting/sso/#remote-login">Single Sign-On&lt;/a>&lt;/p>
&lt;h3>GET /api/v1/users&lt;span class="hx-absolute -hx-mt-20" id="get-apiv1users">&lt;/span>
&lt;a href="#get-apiv1users" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;em>DEPRECATED: use &lt;a href="#get-apiv2users" >/api/v2/users&lt;/a>&lt;/em>&lt;/p>
&lt;p>Returns a list of users and their profile data in JSON format.&lt;/p>
&lt;h4>Permissions&lt;span class="hx-absolute -hx-mt-20" id="permissions-10">&lt;/span>
&lt;a href="#permissions-10" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>&lt;code>can_view_users&lt;/code>&lt;/p>
&lt;h4>Examples&lt;span class="hx-absolute -hx-mt-20" id="examples-17">&lt;/span>
&lt;a href="#examples-17" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>Get list of users:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>GET /api/v1/users&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 200 OK
Content-Type: application/json; charset=utf-8
[
{
&amp;#34;id&amp;#34;: &amp;#34;org.couchdb.user:admin&amp;#34;,
&amp;#34;rev&amp;#34;: &amp;#34;10-6486428924d11781c107ea74de6b63b6&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;admin&amp;#34;,
&amp;#34;username&amp;#34;: &amp;#34;admin&amp;#34;
},
{
&amp;#34;id&amp;#34;: &amp;#34;org.couchdb.user:demo&amp;#34;,
&amp;#34;rev&amp;#34;: &amp;#34;14-8758c8493edcc6dac50366173fc3e24a&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;district-manager&amp;#34;,
&amp;#34;fullname&amp;#34;: &amp;#34;Example User&amp;#34;,
&amp;#34;username&amp;#34;: &amp;#34;demo&amp;#34;,
&amp;#34;place&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;eeb17d6d-5dde-c2c0-62c4a1a0ca17d38b&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;district_hospital&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;Sample District&amp;#34;,
&amp;#34;contact&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;eeb17d6d-5dde-c2c0-62c4a1a0ca17fd17&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;person&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;Paul&amp;#34;,
&amp;#34;phone&amp;#34;: &amp;#34;&amp;#43;2868917046&amp;#34;
}
},
&amp;#34;contact&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;eeb17d6d-5dde-c2c0-62c4a1a0ca17fd17&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;person&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;Paul&amp;#34;,
&amp;#34;phone&amp;#34;: &amp;#34;&amp;#43;2868917046&amp;#34;
}
}
]&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>GET /api/v2/users&lt;span class="hx-absolute -hx-mt-20" id="get-apiv2users">&lt;/span>
&lt;a href="#get-apiv2users" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;em>Added in 4.1.0&lt;/em>&lt;/p>
&lt;p>Returns a list of users and their profile data in JSON format.&lt;/p>
&lt;h4>Permissions&lt;span class="hx-absolute -hx-mt-20" id="permissions-11">&lt;/span>
&lt;a href="#permissions-11" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>&lt;code>can_view_users&lt;/code>&lt;/p>
&lt;h4>Query Parameters&lt;span class="hx-absolute -hx-mt-20" id="query-parameters-12">&lt;/span>
&lt;a href="#query-parameters-12" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Variable&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>facility_id&lt;/td>
&lt;td>Added in 4.7.0. String identifier representing the uuid of the userâ€™s facility.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>contact_id&lt;/td>
&lt;td>Added in 4.7.0. String identifier representing the uuid of the userâ€™s associated contact.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4>Examples&lt;span class="hx-absolute -hx-mt-20" id="examples-18">&lt;/span>
&lt;a href="#examples-18" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>Get list of users:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>GET /api/v2/users&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 200 OK
Content-Type: application/json; charset=utf-8
[
{
&amp;#34;id&amp;#34;: &amp;#34;org.couchdb.user:admin&amp;#34;,
&amp;#34;rev&amp;#34;: &amp;#34;10-6486428924d11781c107ea74de6b63b6&amp;#34;,
&amp;#34;roles&amp;#34;: [ &amp;#34;admin&amp;#34; ],
&amp;#34;username&amp;#34;: &amp;#34;admin&amp;#34;
},
{
&amp;#34;id&amp;#34;: &amp;#34;org.couchdb.user:demo&amp;#34;,
&amp;#34;rev&amp;#34;: &amp;#34;14-8758c8493edcc6dac50366173fc3e24a&amp;#34;,
&amp;#34;roles&amp;#34;: [ &amp;#34;district_admin&amp;#34;, &amp;#34;data_user&amp;#34; ],
&amp;#34;fullname&amp;#34;: &amp;#34;Example User&amp;#34;,
&amp;#34;username&amp;#34;: &amp;#34;demo&amp;#34;,
&amp;#34;oidc_username&amp;#34;: &amp;#34;demo@email.com&amp;#34;,
&amp;#34;place&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;eeb17d6d-5dde-c2c0-62c4a1a0ca17d38b&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;district_hospital&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;Sample District&amp;#34;,
&amp;#34;contact&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;eeb17d6d-5dde-c2c0-62c4a1a0ca17fd17&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;person&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;Paul&amp;#34;,
&amp;#34;phone&amp;#34;: &amp;#34;&amp;#43;2868917046&amp;#34;
}
},
&amp;#34;contact&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;eeb17d6d-5dde-c2c0-62c4a1a0ca17fd17&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;person&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;Paul&amp;#34;,
&amp;#34;phone&amp;#34;: &amp;#34;&amp;#43;2868917046&amp;#34;
}
}
]&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Get users with a specific &lt;code>facility_id&lt;/code>:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>GET /api/v2/users?facility_id=eeb17d6d-5dde-c2c0-62c4a1a0ca17d38b&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 200 OK
Content-Type: application/json; charset=utf-8
[
{
&amp;#34;id&amp;#34;: &amp;#34;org.couchdb.user:demo&amp;#34;,
&amp;#34;rev&amp;#34;: &amp;#34;14-8758c8493edcc6dac50366173fc3e24a&amp;#34;,
&amp;#34;roles&amp;#34;: [ &amp;#34;district_admin&amp;#34;, &amp;#34;data_user&amp;#34; ],
&amp;#34;fullname&amp;#34;: &amp;#34;Example User&amp;#34;,
&amp;#34;username&amp;#34;: &amp;#34;demo&amp;#34;,
&amp;#34;oidc_username&amp;#34;: &amp;#34;demo@email.com&amp;#34;,
&amp;#34;place&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;eeb17d6d-5dde-c2c0-62c4a1a0ca17d38b&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;district_hospital&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;Sample District&amp;#34;,
&amp;#34;contact&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;eeb17d6d-5dde-c2c0-62c4a1a0ca17fd17&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;person&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;Paul&amp;#34;,
&amp;#34;phone&amp;#34;: &amp;#34;&amp;#43;2868917046&amp;#34;
}
},
&amp;#34;contact&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;eeb17d6d-5dde-c2c0-62c4a1a0ca17fd17&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;person&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;Paul&amp;#34;,
&amp;#34;phone&amp;#34;: &amp;#34;&amp;#43;2868917046&amp;#34;
}
}
]&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Get users with a specific &lt;code>contact_id&lt;/code>:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>GET /api/v2/users?contact_id=eeb17d6d-5dde-c2c0-62c4a1a0ca17fd17&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 200 OK
Content-Type: application/json; charset=utf-8
[
{
&amp;#34;id&amp;#34;: &amp;#34;org.couchdb.user:demo&amp;#34;,
&amp;#34;rev&amp;#34;: &amp;#34;14-8758c8493edcc6dac50366173fc3e24a&amp;#34;,
&amp;#34;roles&amp;#34;: [ &amp;#34;district_admin&amp;#34;, &amp;#34;data_user&amp;#34; ],
&amp;#34;fullname&amp;#34;: &amp;#34;Example User&amp;#34;,
&amp;#34;username&amp;#34;: &amp;#34;demo&amp;#34;,
&amp;#34;oidc_username&amp;#34;: &amp;#34;demo@email.com&amp;#34;,
&amp;#34;place&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;eeb17d6d-5dde-c2c0-62c4a1a0ca17d38b&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;district_hospital&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;Sample District&amp;#34;,
&amp;#34;contact&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;eeb17d6d-5dde-c2c0-62c4a1a0ca17fd17&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;person&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;Paul&amp;#34;,
&amp;#34;phone&amp;#34;: &amp;#34;&amp;#43;2868917046&amp;#34;
}
},
&amp;#34;contact&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;eeb17d6d-5dde-c2c0-62c4a1a0ca17fd17&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;person&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;Paul&amp;#34;,
&amp;#34;phone&amp;#34;: &amp;#34;&amp;#43;2868917046&amp;#34;
}
}
]&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>GET /api/v2/users/{{username}}&lt;span class="hx-absolute -hx-mt-20" id="get-apiv2usersusername">&lt;/span>
&lt;a href="#get-apiv2usersusername" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;em>Added in 4.7.0&lt;/em>&lt;/p>
&lt;p>Returns a user&amp;rsquo;s profile data in JSON format.&lt;/p>
&lt;h4>Permissions&lt;span class="hx-absolute -hx-mt-20" id="permissions-12">&lt;/span>
&lt;a href="#permissions-12" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>&lt;code>can_view_users&lt;/code>&lt;/p>
&lt;h4>Examples&lt;span class="hx-absolute -hx-mt-20" id="examples-19">&lt;/span>
&lt;a href="#examples-19" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>Get a user by username:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>GET /api/v2/users/demo&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 200 OK
Content-Type: application/json; charset=utf-8
{
&amp;#34;id&amp;#34;: &amp;#34;org.couchdb.user:demo&amp;#34;,
&amp;#34;rev&amp;#34;: &amp;#34;14-8758c8493edcc6dac50366173fc3e24a&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;district-manager&amp;#34;,
&amp;#34;fullname&amp;#34;: &amp;#34;Example User&amp;#34;,
&amp;#34;username&amp;#34;: &amp;#34;demo&amp;#34;,
&amp;#34;oidc_username&amp;#34;: &amp;#34;demo@email.com&amp;#34;,
&amp;#34;place&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;eeb17d6d-5dde-c2c0-62c4a1a0ca17d38b&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;district_hospital&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;Sample District&amp;#34;,
&amp;#34;contact&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;eeb17d6d-5dde-c2c0-62c4a1a0ca17fd17&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;person&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;Paul&amp;#34;,
&amp;#34;phone&amp;#34;: &amp;#34;&amp;#43;2868917046&amp;#34;
}
},
&amp;#34;contact&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;eeb17d6d-5dde-c2c0-62c4a1a0ca17fd17&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;person&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;Paul&amp;#34;,
&amp;#34;phone&amp;#34;: &amp;#34;&amp;#43;2868917046&amp;#34;
}
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>POST /api/v1/users&lt;span class="hx-absolute -hx-mt-20" id="post-apiv1users">&lt;/span>
&lt;a href="#post-apiv1users" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Create new users with a place and a contact.&lt;/p>
&lt;p>Creating multiple users at once by passing an array of users was introduced in version 3.15.
All users need to meet the following requirements before any of them are created:&lt;/p>
&lt;ul>
&lt;li>All required fields are filled in&lt;/li>
&lt;li>The password is at least 8 characters long and difficult to guess&lt;/li>
&lt;li>The phone number is valid when &lt;a href="https://docs.communityhealthtoolkit.org/building/reference/app-settings/token_login/" >&lt;code>token_login&lt;/code>&lt;/a> is enabled&lt;/li>
&lt;/ul>
&lt;p>Users are created in parallel and the creation is not aborted even if one of the users fails to be created.&lt;/p>
&lt;p>Passing a single user in the request&amp;rsquo;s body will return a single object whereas
passing an array of users will return an array of objects as shown in the examples below.&lt;/p>
&lt;h4>Permissions&lt;span class="hx-absolute -hx-mt-20" id="permissions-13">&lt;/span>
&lt;a href="#permissions-13" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>&lt;code>can_create_users&lt;/code>&lt;/p>
&lt;h4>Examples&lt;span class="hx-absolute -hx-mt-20" id="examples-20">&lt;/span>
&lt;a href="#examples-20" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;h5>Create one user&lt;span class="hx-absolute -hx-mt-20" id="create-one-user">&lt;/span>
&lt;a href="#create-one-user" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h5>&lt;p>Create a new user that can authenticate with a username of &amp;ldquo;mary&amp;rdquo; and password
of &amp;ldquo;secret&amp;rdquo; that can submit reports and view or modify records associated to
their place. The place is created in the background and automatically linked
to the contact.&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>POST /api/v1/users
Content-Type: application/json
{
&amp;#34;password&amp;#34;: &amp;#34;secret&amp;#34;,
&amp;#34;username&amp;#34;: &amp;#34;mary&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;district-manager&amp;#34;,
&amp;#34;place&amp;#34;: {
&amp;#34;name&amp;#34;: &amp;#34;Mary&amp;#39;s Area&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;health_center&amp;#34;,
&amp;#34;parent&amp;#34;: &amp;#34;d14e1c3d557761320b13a77e7806e8f8&amp;#34;
},
&amp;#34;contact&amp;#34;: {
&amp;#34;name&amp;#34;: &amp;#34;Mary Anyango&amp;#34;,
&amp;#34;phone&amp;#34;: &amp;#34;&amp;#43;2868917046&amp;#34;
}
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 200
Content-Type: application/json
{
&amp;#34;contact&amp;#34;: {
&amp;#34;id&amp;#34;: &amp;#34;65416b8ceb53ff88ac1847654501aeb3&amp;#34;,
&amp;#34;rev&amp;#34;: &amp;#34;1-0b74d219ae13137c1a06f03a0a52e187&amp;#34;
},
&amp;#34;user-settings&amp;#34;: {
&amp;#34;id&amp;#34;: &amp;#34;org.couchdb.user:mary&amp;#34;,
&amp;#34;rev&amp;#34;: &amp;#34;1-6ac1d36b775143835f4af53f9895d7ae&amp;#34;
},
&amp;#34;user&amp;#34;: {
&amp;#34;id&amp;#34;: &amp;#34;org.couchdb.user:mary&amp;#34;,
&amp;#34;rev&amp;#34;: &amp;#34;1-c3b82a0b47cfe68edd9284c89bebbae4&amp;#34;
}
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h5>Create many users&lt;span class="hx-absolute -hx-mt-20" id="create-many-users">&lt;/span>
&lt;a href="#create-many-users" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h5>&lt;p>Create two new users that can authenticate with a username and a password
that can submit reports and view or modify records associated to their place.
The place is created in the background and automatically linked to the contact.&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>POST /api/v1/users
Content-Type: application/json
[
{
&amp;#34;password&amp;#34;: &amp;#34;secret&amp;#34;,
&amp;#34;username&amp;#34;: &amp;#34;mary&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;district-manager&amp;#34;,
&amp;#34;place&amp;#34;: {
&amp;#34;name&amp;#34;: &amp;#34;Mary&amp;#39;s Area&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;health_center&amp;#34;,
&amp;#34;parent&amp;#34;: &amp;#34;d14e1c3d557761320b13a77e7806e8f8&amp;#34;
},
&amp;#34;contact&amp;#34;: {
&amp;#34;name&amp;#34;: &amp;#34;Mary Anyango&amp;#34;,
&amp;#34;phone&amp;#34;: &amp;#34;&amp;#43;2868917046&amp;#34;
}
},
{
&amp;#34;password&amp;#34;: &amp;#34;secret&amp;#34;,
&amp;#34;username&amp;#34;: &amp;#34;bob&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;district-manager&amp;#34;,
&amp;#34;place&amp;#34;: {
&amp;#34;name&amp;#34;: &amp;#34;Bob&amp;#39;s Area&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;health_center&amp;#34;,
&amp;#34;parent&amp;#34;: &amp;#34;d14e1c3d557761320b13a77e7806e8f8&amp;#34;
},
&amp;#34;contact&amp;#34;: {
&amp;#34;name&amp;#34;: &amp;#34;Bob Johnson&amp;#34;,
&amp;#34;phone&amp;#34;: &amp;#34;&amp;#43;2868194607&amp;#34;
}
}
]&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 200
Content-Type: application/json
[
{
&amp;#34;contact&amp;#34;: {
&amp;#34;id&amp;#34;: &amp;#34;65416b8ceb53ff88ac1847654501aeb3&amp;#34;,
&amp;#34;rev&amp;#34;: &amp;#34;1-0b74d219ae13137c1a06f03a0a52e187&amp;#34;
},
&amp;#34;user-settings&amp;#34;: {
&amp;#34;id&amp;#34;: &amp;#34;org.couchdb.user:mary&amp;#34;,
&amp;#34;rev&amp;#34;: &amp;#34;1-6ac1d36b775143835f4af53f9895d7ae&amp;#34;
},
&amp;#34;user&amp;#34;: {
&amp;#34;id&amp;#34;: &amp;#34;org.couchdb.user:mary&amp;#34;,
&amp;#34;rev&amp;#34;: &amp;#34;1-c3b82a0b47cfe68edd9284c89bebbae4&amp;#34;
}
},
{
&amp;#34;contact&amp;#34;: {
&amp;#34;id&amp;#34;: &amp;#34;8d8a741c1cb441058e29a60ab7596bf2&amp;#34;,
&amp;#34;rev&amp;#34;: &amp;#34;1-acbc31712fd105eae3cd0806cd20a8f4&amp;#34;
},
&amp;#34;user-settings&amp;#34;: {
&amp;#34;id&amp;#34;: &amp;#34;org.couchdb.user:bob&amp;#34;,
&amp;#34;rev&amp;#34;: &amp;#34;1-d8629838127accd531043f845c416ef6&amp;#34;
},
&amp;#34;user&amp;#34;: {
&amp;#34;id&amp;#34;: &amp;#34;org.couchdb.user:bob&amp;#34;,
&amp;#34;rev&amp;#34;: &amp;#34;1-5eac2542c801ba6b518728f53d9276a0&amp;#34;
}
}
]&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h4>Errors&lt;span class="hx-absolute -hx-mt-20" id="errors-1">&lt;/span>
&lt;a href="#errors-1" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;h5>Response when the username already exists&lt;span class="hx-absolute -hx-mt-20" id="response-when-the-username-already-exists">&lt;/span>
&lt;a href="#response-when-the-username-already-exists" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h5>&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 400 Bad Request
Content-Type: application/json
{
&amp;#34;code&amp;#34;: 400,
&amp;#34;error&amp;#34;: {
&amp;#34;message&amp;#34;: &amp;#34;Username \&amp;#34;mary\&amp;#34; already taken.&amp;#34;,
&amp;#34;translationKey&amp;#34;: &amp;#34;username.taken&amp;#34;,
&amp;#34;translationParams&amp;#34;: {
&amp;#34;username&amp;#34;: &amp;#34;mary&amp;#34;
}
}
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h5>Response when users are missing required fields&lt;span class="hx-absolute -hx-mt-20" id="response-when-users-are-missing-required-fields">&lt;/span>
&lt;a href="#response-when-users-are-missing-required-fields" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h5>&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 400 Bad Request
Content-Type: application/json
{
&amp;#34;code&amp;#34;: 400,
&amp;#34;error&amp;#34;: &amp;#34;Missing required fields:\n\Missing fields username, password, type or roles for user at index 0\nMissing fields password, type or roles for user at index 1&amp;#34;,
&amp;#34;details&amp;#34;: {
&amp;#34;failingIndexes&amp;#34;: [
{
&amp;#34;fields&amp;#34;: [
&amp;#34;username&amp;#34;,
&amp;#34;password&amp;#34;,
&amp;#34;type or roles&amp;#34;
],
&amp;#34;index&amp;#34;: 0
},
{
&amp;#34;fields&amp;#34;: [
&amp;#34;password&amp;#34;,
&amp;#34;type or roles&amp;#34;
],
&amp;#34;index&amp;#34;: 1
}
]
}
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h5>Response when some users failed to be created&lt;span class="hx-absolute -hx-mt-20" id="response-when-some-users-failed-to-be-created">&lt;/span>
&lt;a href="#response-when-some-users-failed-to-be-created" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h5>&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 200
Content-Type: application/json
[
{
&amp;#34;contact&amp;#34;: {
&amp;#34;id&amp;#34;: &amp;#34;65416b8ceb53ff88ac1847654501aeb3&amp;#34;,
&amp;#34;rev&amp;#34;: &amp;#34;1-0b74d219ae13137c1a06f03a0a52e187&amp;#34;
},
&amp;#34;user-settings&amp;#34;: {
&amp;#34;id&amp;#34;: &amp;#34;org.couchdb.user:mary&amp;#34;,
&amp;#34;rev&amp;#34;: &amp;#34;1-6ac1d36b775143835f4af53f9895d7ae&amp;#34;
},
&amp;#34;user&amp;#34;: {
&amp;#34;id&amp;#34;: &amp;#34;org.couchdb.user:mary&amp;#34;,
&amp;#34;rev&amp;#34;: &amp;#34;1-c3b82a0b47cfe68edd9284c89bebbae4&amp;#34;
}
},
{
&amp;#34;error&amp;#34;: &amp;#34;Failed to find place.&amp;#34;
}
]&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>POST /api/v2/users&lt;span class="hx-absolute -hx-mt-20" id="post-apiv2users">&lt;/span>
&lt;a href="#post-apiv2users" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;em>Added in 3.16.0&lt;/em>&lt;/p>
&lt;p>Create new users with a place and a contact from a CSV file.&lt;/p>
&lt;p>Creating users from a CSV file behaves the same as passing a JSON array of users into the &lt;a href="https://docs.communityhealthtoolkit.org/building/reference/api/#post-apiv1users" >&lt;code>POST /api/v1/users&lt;/code>&lt;/a>
where a row represents a user object and a column represents a user object property.
Columns with a &lt;code>:excluded&lt;/code> suffix will be ignored, this allows providing a more user-friendly experience with
autocompletion on fields or dealing with names instead of long, unreadable ids.&lt;/p>
&lt;p>In order to facilitate this process, we have made available a spreadsheet compatible with the &lt;code>default&lt;/code> configuration of the CHT.
&lt;a href="https://docs.google.com/spreadsheets/d/1yUenFP-5deQ0I9c-OYDTpbKYrkl3juv9djXoLLPoQ7Y/copy" target="_blank" rel="noopener">Click here&lt;/a> to make a copy of the spreadsheet in Google Sheets.
&lt;a href="https://docs.communityhealthtoolkit.org/building/training/users-bulk-load/" >A guide&lt;/a> on how to import users with this spreadsheet from within the Admin Console is available
in case you don&amp;rsquo;t want to interact with this API yourself.&lt;/p>
&lt;h4>Logging&lt;span class="hx-absolute -hx-mt-20" id="logging">&lt;/span>
&lt;a href="#logging" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>A log entry is created with each bulk import that contains the import status for each user and the import progress status
that gets updated throughout the import and finalized upon completion.
These entries are saved in the &lt;a href="https://docs.communityhealthtoolkit.org/technical-overview/data/#medic-logs" >&lt;code>medic-logs&lt;/code>&lt;/a> database and you can access them
by querying documents with a key that starts with &lt;code>bulk-user-upload-&lt;/code>.&lt;/p>
&lt;h4>Headers&lt;span class="hx-absolute -hx-mt-20" id="headers-3">&lt;/span>
&lt;a href="#headers-3" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Key&lt;/th>
&lt;th>Value&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Content-Type&lt;/td>
&lt;td>text/csv&lt;/td>
&lt;td>Processes form data in request body as JSON.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4>Permissions&lt;span class="hx-absolute -hx-mt-20" id="permissions-14">&lt;/span>
&lt;a href="#permissions-14" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>&lt;code>can_create_users&lt;/code>&lt;/p>
&lt;h4>Example&lt;span class="hx-absolute -hx-mt-20" id="example">&lt;/span>
&lt;a href="#example" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>Create two new users that can authenticate with a username and a password
that can submit reports and view or modify records associated to their place.
Along with a new user, a new contact and new place are created as well.
The new place will be a child of &lt;code>place.parent&lt;/code> (see the UUID &lt;code>fe4da0f9-7d65-4834-bb42-88a5239bbd3b&lt;/code> below)
and must already exist or else the new place will be an orphan record in the hierarchy and not show up in the GUI.&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>POST /api/v2/users
Content-Type: text/csv
contact.first_name,contact.last_name,contact.sex,contact.phone,email,contact.meta.created_by,token_login,contact.role,contact.type,contact.contact_type,contact.name,username,password,phone,place.parent,place.type,place.name,place.contact_type,type,fullname
Mary,Anyango,female,&amp;#43;2868917046,,,FALSE,chw,contact,person,Mary Anyango,mary,WrAGyGD9805,2868917046,fe4da0f9-7d65-4834-bb42-88a5239bbd3b,health_center,Mary Anyango&amp;#39;s Health center,clinic,chw,Mary Anyango
Bob,Johnson,male,&amp;#43;2868194607,,,FALSE,chw,contact,person,Bob Johnson,bob,JzAEQzY2614,2868194607,fe4da0f9-7d65-4834-bb42-88a5239bbd3b,health_center,Bob Johnson&amp;#39;s Health center,clinic,chw,Bob Johnson&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 200
Content-Type: application/json
[
{
&amp;#34;contact&amp;#34;: {
&amp;#34;id&amp;#34;: &amp;#34;65416b8ceb53ff88ac1847654501aeb3&amp;#34;,
&amp;#34;rev&amp;#34;: &amp;#34;1-0b74d219ae13137c1a06f03a0a52e187&amp;#34;
},
&amp;#34;user-settings&amp;#34;: {
&amp;#34;id&amp;#34;: &amp;#34;org.couchdb.user:mary&amp;#34;,
&amp;#34;rev&amp;#34;: &amp;#34;1-6ac1d36b775143835f4af53f9895d7ae&amp;#34;
},
&amp;#34;user&amp;#34;: {
&amp;#34;id&amp;#34;: &amp;#34;org.couchdb.user:mary&amp;#34;,
&amp;#34;rev&amp;#34;: &amp;#34;1-c3b82a0b47cfe68edd9284c89bebbae4&amp;#34;
}
},
{
&amp;#34;contact&amp;#34;: {
&amp;#34;id&amp;#34;: &amp;#34;8d8a741c1cb441058e29a60ab7596bf2&amp;#34;,
&amp;#34;rev&amp;#34;: &amp;#34;1-acbc31712fd105eae3cd0806cd20a8f4&amp;#34;
},
&amp;#34;user-settings&amp;#34;: {
&amp;#34;id&amp;#34;: &amp;#34;org.couchdb.user:bob&amp;#34;,
&amp;#34;rev&amp;#34;: &amp;#34;1-d8629838127accd531043f845c416ef6&amp;#34;
},
&amp;#34;user&amp;#34;: {
&amp;#34;id&amp;#34;: &amp;#34;org.couchdb.user:bob&amp;#34;,
&amp;#34;rev&amp;#34;: &amp;#34;1-5eac2542c801ba6b518728f53d9276a0&amp;#34;
}
}
]&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h4>Errors&lt;span class="hx-absolute -hx-mt-20" id="errors-2">&lt;/span>
&lt;a href="#errors-2" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;h5>Response when the username already exists&lt;span class="hx-absolute -hx-mt-20" id="response-when-the-username-already-exists-1">&lt;/span>
&lt;a href="#response-when-the-username-already-exists-1" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h5>&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 400 Bad Request
Content-Type: application/json
[
{
&amp;#34;error&amp;#34;: &amp;#34;Missing required fields: username&amp;#34;
}
]&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h5>Response when users are missing required fields&lt;span class="hx-absolute -hx-mt-20" id="response-when-users-are-missing-required-fields-1">&lt;/span>
&lt;a href="#response-when-users-are-missing-required-fields-1" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h5>&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 400 Bad Request
Content-Type: application/json
[
{
&amp;#34;error&amp;#34;: &amp;#34;Missing required fields: username&amp;#34;
},
{
&amp;#34;error&amp;#34;: &amp;#34;Missing required fields: password&amp;#34;
}
]&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h5>Response when some users failed to be created&lt;span class="hx-absolute -hx-mt-20" id="response-when-some-users-failed-to-be-created-1">&lt;/span>
&lt;a href="#response-when-some-users-failed-to-be-created-1" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h5>&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 200
Content-Type: application/json
[
{
&amp;#34;contact&amp;#34;: {
&amp;#34;id&amp;#34;: &amp;#34;65416b8ceb53ff88ac1847654501aeb3&amp;#34;,
&amp;#34;rev&amp;#34;: &amp;#34;1-0b74d219ae13137c1a06f03a0a52e187&amp;#34;
},
&amp;#34;user-settings&amp;#34;: {
&amp;#34;id&amp;#34;: &amp;#34;org.couchdb.user:mary&amp;#34;,
&amp;#34;rev&amp;#34;: &amp;#34;1-6ac1d36b775143835f4af53f9895d7ae&amp;#34;
},
&amp;#34;user&amp;#34;: {
&amp;#34;id&amp;#34;: &amp;#34;org.couchdb.user:mary&amp;#34;,
&amp;#34;rev&amp;#34;: &amp;#34;1-c3b82a0b47cfe68edd9284c89bebbae4&amp;#34;
}
},
{
&amp;#34;error&amp;#34;: &amp;#34;Failed to find place.&amp;#34;
}
]&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>POST /api/v1/users/{{username}}&lt;span class="hx-absolute -hx-mt-20" id="post-apiv1usersusername">&lt;/span>
&lt;a href="#post-apiv1usersusername" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Allows you to change property values on a user account. &lt;a href="#supported-properties" >Properties listed above&lt;/a> are supported except for &lt;code>contact.parent&lt;/code>. Creating or modifying people through the user is not supported, see the &lt;a href="#people" >People section&lt;/a>.&lt;/p>
&lt;h4>Permissions&lt;span class="hx-absolute -hx-mt-20" id="permissions-15">&lt;/span>
&lt;a href="#permissions-15" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>&lt;code>can_update_users&lt;/code>, &lt;code>can_update_places&lt;/code>, &lt;code>can_update_people&lt;/code>&lt;/p>
&lt;h4>Updating yourself&lt;span class="hx-absolute -hx-mt-20" id="updating-yourself">&lt;/span>
&lt;a href="#updating-yourself" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>You do not need any of the above permissions if the user you are modifying is yourself. However, you are not allowed to modify your &lt;code>type&lt;/code>, &lt;code>roles&lt;/code>, &lt;code>contact&lt;/code> or &lt;code>place&lt;/code>.&lt;/p>
&lt;p>Further more, if you&amp;rsquo;re updating your &lt;code>password&lt;/code> you must be authenticating via Basic Auth (either the header or in the URL). This is to ensure the password is known at time of request, and no one is hijacking a cookie.&lt;/p>
&lt;h4>URL Parameters&lt;span class="hx-absolute -hx-mt-20" id="url-parameters">&lt;/span>
&lt;a href="#url-parameters" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Variable&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>username&lt;/td>
&lt;td>String identifier used for authentication.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4>Examples&lt;span class="hx-absolute -hx-mt-20" id="examples-21">&lt;/span>
&lt;a href="#examples-21" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>POST /api/v1/users/mary
Content-Type: application/json
{
&amp;#34;password&amp;#34;: &amp;#34;secret&amp;#34;,
&amp;#34;place&amp;#34;: &amp;#34;eeb17d6d-5dde-c2c0-62c4a1a0ca17e342&amp;#34;
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 200 OK
Content-Type: application/json
{
&amp;#34;user&amp;#34;: {
&amp;#34;id&amp;#34;: &amp;#34;org.couchdb.user:mary&amp;#34;,
&amp;#34;rev&amp;#34;: &amp;#34;23-858e01fafdfa0d367d798fe5b44751ff&amp;#34;
},
&amp;#34;user-settings&amp;#34;: {
&amp;#34;id&amp;#34;: &amp;#34;org.couchdb.user:mary&amp;#34;,
&amp;#34;rev&amp;#34;: &amp;#34;17-c6d03b86d2d5d70f7270c85e67fea96d&amp;#34;
}
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>DELETE /api/v1/users/{{username}}&lt;span class="hx-absolute -hx-mt-20" id="delete-apiv1usersusername">&lt;/span>
&lt;a href="#delete-apiv1usersusername" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Delete a user. Does not affect a person or place associated to a user.&lt;/p>
&lt;h4>Permissions&lt;span class="hx-absolute -hx-mt-20" id="permissions-16">&lt;/span>
&lt;a href="#permissions-16" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>&lt;code>can_delete_users&lt;/code>&lt;/p>
&lt;h4>URL Parameters&lt;span class="hx-absolute -hx-mt-20" id="url-parameters-1">&lt;/span>
&lt;a href="#url-parameters-1" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Variable&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>username&lt;/td>
&lt;td>String identifier used for authentication.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4>Examples&lt;span class="hx-absolute -hx-mt-20" id="examples-22">&lt;/span>
&lt;a href="#examples-22" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>DELETE /api/v1/users/mary&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 200 OK&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>GET /api/v1/users-info&lt;span class="hx-absolute -hx-mt-20" id="get-apiv1users-info">&lt;/span>
&lt;a href="#get-apiv1users-info" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Returns the total number of documents an offline user would replicate (&lt;code>total_docs&lt;/code>), the number of docs excluding tasks the user would replicate (&lt;code>warn_docs&lt;/code>), along with a &lt;code>warn&lt;/code> flag if this number exceeds the recommended limit (now set at 10 000).&lt;/p>
&lt;p>When the authenticated requester has an offline role, it returns the requester doc count.&lt;/p>
&lt;h4>Example&lt;span class="hx-absolute -hx-mt-20" id="example-1">&lt;/span>
&lt;a href="#example-1" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>GET /api/v1/users-info -H &amp;#39;Cookie: AuthSession=OFFLINE_USER_SESSION;&amp;#39;&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 200 OK
Content-Type: application/json
{
&amp;#34;total_docs&amp;#34;: 5678,
&amp;#34;warn_docs&amp;#34;: 4852,
&amp;#34;warn&amp;#34;: false,
&amp;#34;limit: 10000
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>When the requester has an online role, the following query parameters are accepted:&lt;/p>
&lt;h5>Query Parameters&lt;span class="hx-absolute -hx-mt-20" id="query-parameters-13">&lt;/span>
&lt;a href="#query-parameters-13" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h5>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Variable&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>facility_id&lt;/td>
&lt;td>String identifier representing the uuid of the user&amp;rsquo;s facility&lt;/td>
&lt;td>true&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>role&lt;/td>
&lt;td>String identifier representing the user role - must be configured as an offline role. Accepts valid UTF-8 JSON array for multiple of roles.&lt;/td>
&lt;td>true&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>contact_id&lt;/td>
&lt;td>String identifier representing the uuid of the user&amp;rsquo;s associated contact&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>When requested as an online user, the number of tasks are never counted and never returned, so &lt;code>warn_docs&lt;/code> is always equal to &lt;code>total_docs&lt;/code>.&lt;/p>
&lt;h6>Example&lt;span class="hx-absolute -hx-mt-20" id="example-2">&lt;/span>
&lt;a href="#example-2" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h6>&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>GET /api/v1/users-info?facility_id={{facility_uuid}}&amp;amp;role={{role}}&amp;amp;contact_id={{contact_uuid}} -H &amp;#39;Cookie: AuthSession=OFFLINE_USER_SESSION;&amp;#39;&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 200 OK
Content-Type: application/json
{
&amp;#34;total_docs&amp;#34;: 10265,
&amp;#34;warn_docs&amp;#34;: 10265,
&amp;#34;warn&amp;#34;: true,
&amp;#34;limit: 10000
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>In case any of the required query parameters are omitted or the requested role is not configured as an offline role, the request will result in an error:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>GET /api/v1/users-info?role={{online_role}} -H &amp;#39;Cookie: AuthSession=OFFLINE_USER_SESSION;&amp;#39;&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 400 Bad Request
Content-Type: application/json
{
&amp;#34;code&amp;#34;: 400,
&amp;#34;error&amp;#34;: &amp;#34;Missing required query params: role and/or facility_id&amp;#34;
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h2>Bulk Operations&lt;span class="hx-absolute -hx-mt-20" id="bulk-operations">&lt;/span>
&lt;a href="#bulk-operations" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;h3>POST /api/v1/bulk-delete&lt;span class="hx-absolute -hx-mt-20" id="post-apiv1bulk-delete">&lt;/span>
&lt;a href="#post-apiv1bulk-delete" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Bulk delete endpoint for deleting large numbers of documents. Docs will be batched into groups of 100 and will be sent sequentially to couch (new batch sent after the previous one has returned). The response will be chunked JSON (one batch at a time), so if you wish to get an indication of progress you will need to parse incomplete JSON (with a library such as &lt;a href="https://github.com/indgov/partial-json-parser" target="_blank" rel="noopener">&lt;code>partial-json-parser&lt;/code>&lt;/a>.&lt;/p>
&lt;h4>Permissions&lt;span class="hx-absolute -hx-mt-20" id="permissions-17">&lt;/span>
&lt;a href="#permissions-17" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>Only available to online users.&lt;/p>
&lt;h4>Parameters&lt;span class="hx-absolute -hx-mt-20" id="parameters-1">&lt;/span>
&lt;a href="#parameters-1" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>docs&lt;/td>
&lt;td>Array of JSON objects with &lt;code>_id&lt;/code> properties&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>An array of objects each with an &lt;code>_id&lt;/code> property is required (rather than an array of strings representing ids) to ensure forwards compatibility if we choose to require that any additional document information (such as &lt;code>_rev&lt;/code>) also be passed in to this endpoint.&lt;/p>
&lt;h4>Errors&lt;span class="hx-absolute -hx-mt-20" id="errors-3">&lt;/span>
&lt;a href="#errors-3" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>If an error is encountered part-way through the response (eg on the third batch), it&amp;rsquo;s impossible to send new headers to indicate a 5xx error, so the connection will simply be terminated (as recommended here &lt;a href="https://github.com/expressjs/express/issues/2700%29" target="_blank" rel="noopener">https://github.com/expressjs/express/issues/2700)&lt;/a>.&lt;/p>
&lt;h4>Examples&lt;span class="hx-absolute -hx-mt-20" id="examples-23">&lt;/span>
&lt;a href="#examples-23" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>POST /api/v1/bulk-delete
Content-Type: application/json
{
&amp;#34;docs&amp;#34;: [
{ &amp;#34;_id&amp;#34;: &amp;#34;id1&amp;#34; },
{ &amp;#34;_id&amp;#34;: &amp;#34;id2&amp;#34; },
...
{ &amp;#34;_id&amp;#34;: &amp;#34;id150&amp;#34; }
]
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 200 OK
Content-Type: application/json
[
[
{ &amp;#34;ok&amp;#34;: true, &amp;#34;id&amp;#34;: &amp;#34;id1&amp;#34;, &amp;#34;rev&amp;#34;: &amp;#34;1-rev1&amp;#34; },
{ &amp;#34;ok&amp;#34;: true, &amp;#34;id&amp;#34;: &amp;#34;id2&amp;#34;, &amp;#34;rev&amp;#34;: &amp;#34;1-rev2&amp;#34; },
...
{ &amp;#34;ok&amp;#34;: true, &amp;#34;id&amp;#34;: &amp;#34;id100&amp;#34;, &amp;#34;rev&amp;#34;: &amp;#34;1-rev100&amp;#34; }
],
[
{ &amp;#34;ok&amp;#34;: true, &amp;#34;id&amp;#34;: &amp;#34;id101&amp;#34;, &amp;#34;rev&amp;#34;: &amp;#34;1-rev101&amp;#34; },
{ &amp;#34;ok&amp;#34;: true, &amp;#34;id&amp;#34;: &amp;#34;id102&amp;#34;, &amp;#34;rev&amp;#34;: &amp;#34;1-rev102&amp;#34; },
...
{ &amp;#34;ok&amp;#34;: true, &amp;#34;id&amp;#34;: &amp;#34;id150&amp;#34;, &amp;#34;rev&amp;#34;: &amp;#34;1-rev150&amp;#34; }
]
]&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h2>Monitoring&lt;span class="hx-absolute -hx-mt-20" id="monitoring">&lt;/span>
&lt;a href="#monitoring" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>See the &lt;a href="https://docs.communityhealthtoolkit.org/hosting/monitoring/" >Monitoring and alerting on the CHT&lt;/a> page for how to use this API in production.&lt;/p>
&lt;h3>GET /api/v1/monitoring&lt;span class="hx-absolute -hx-mt-20" id="get-apiv1monitoring">&lt;/span>
&lt;a href="#get-apiv1monitoring" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;em>DEPRECATED: use &lt;a href="#get-apiv2monitoring" >/api/v2/monitoring&lt;/a>&lt;/em>&lt;/p>
&lt;p>Used to retrieve a range of metrics about the instance. While the output is human-readable this is intended for automated monitoring allowing for tracking trends over time and alerting about potential issues.&lt;/p>
&lt;h4>Permissions&lt;span class="hx-absolute -hx-mt-20" id="permissions-18">&lt;/span>
&lt;a href="#permissions-18" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>No permissions required.&lt;/p>
&lt;h4>Examples&lt;span class="hx-absolute -hx-mt-20" id="examples-24">&lt;/span>
&lt;a href="#examples-24" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;h5>JSON format&lt;span class="hx-absolute -hx-mt-20" id="json-format">&lt;/span>
&lt;a href="#json-format" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h5>&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>curl http://localhost:5988/api/v1/monitoring
{&amp;#34;version&amp;#34;:{&amp;#34;app&amp;#34;:&amp;#34;3.9.0&amp;#34;,&amp;#34;node&amp;#34;:&amp;#34;v10.16.0&amp;#34;,&amp;#34;couchdb&amp;#34;:&amp;#34;2.3.1&amp;#34;},&amp;#34;couchdb&amp;#34;:{&amp;#34;medic&amp;#34;:{&amp;#34;name&amp;#34;:&amp;#34;medic&amp;#34;,&amp;#34;update_sequence&amp;#34;:5733,&amp;#34;doc_count&amp;#34;:278,&amp;#34;doc_del_count&amp;#34;:32,&amp;#34;fragmentation&amp;#34;:1.0283517758420173}...&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h4>Response content&lt;span class="hx-absolute -hx-mt-20" id="response-content">&lt;/span>
&lt;a href="#response-content" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>JSON path&lt;/th>
&lt;th>Type&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>version.app&lt;/code>&lt;/td>
&lt;td>String&lt;/td>
&lt;td>The version of the webapp.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>version.node&lt;/code>&lt;/td>
&lt;td>String&lt;/td>
&lt;td>The version of NodeJS.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>version.couchdb&lt;/code>&lt;/td>
&lt;td>String&lt;/td>
&lt;td>The version of CouchDB.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>couchdb.&amp;lt;dbname&amp;gt;.name&lt;/code>&lt;/td>
&lt;td>String&lt;/td>
&lt;td>The name of the db, usually one of &amp;ldquo;medic&amp;rdquo;, &amp;ldquo;medic-sentinel&amp;rdquo;, &amp;ldquo;medic-users-meta&amp;rdquo;, &amp;ldquo;_users&amp;rdquo;.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>couchdb.&amp;lt;dbname&amp;gt;.update_sequence&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>The number of changes in the db.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>couchdb.&amp;lt;dbname&amp;gt;.doc_count&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>The number of docs in the db.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>couchdb.&amp;lt;dbname&amp;gt;.doc_del_count&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>The number of deleted docs in the db.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>couchdb.&amp;lt;dbname&amp;gt;.fragmentation&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>The fragmentation of the entire db (including view indexes) as stored on disk. A lower value is better. &lt;code>1&lt;/code> is no fragmentation.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>couchdb.&amp;lt;dbname&amp;gt;.sizes.active&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>The size in bytes of live data inside the database. This includes documents, metadata, and attachments, but does not include view indexes. Requires CHT Core &lt;code>4.11.0&lt;/code> or later.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>couchdb.&amp;lt;dbname&amp;gt;.sizes.file&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>The size in bytes of the database file on disk. This includes documents, metadata, and attachments, but does not include view indexes. Requires CHT Core &lt;code>4.11.0&lt;/code> or later.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>couchdb.&amp;lt;dbname&amp;gt;.view_indexes[*].name&lt;/code>&lt;/td>
&lt;td>String&lt;/td>
&lt;td>The name of the view index (the design). See the table below for which view indexes are tracked for each db. Requires CHT Core &lt;code>4.11.0&lt;/code> or later.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>couchdb.&amp;lt;dbname&amp;gt;.view_indexes[*].sizes.active&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>The size in bytes of live data inside the view. Requires CHT Core &lt;code>4.11.0&lt;/code> or later.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>couchdb.&amp;lt;dbname&amp;gt;.view_indexes[*].sizes.file&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>The size in bytes of the view as stored on disk. Requires CHT Core &lt;code>4.11.0&lt;/code> or later.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>date.current&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>The current server date in millis since the epoch, useful for ensuring the server time is correct.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>date.uptime&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>How long API has been running in seconds.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>sentinel.backlog&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>Number of changes yet to be processed by Sentinel.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>messaging.outgoing.state.due&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>The number of messages due to be sent.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>messaging.outgoing.state.scheduled&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>The number of messages scheduled to be sent in the future.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>messaging.outgoing.state.muted&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>The number of messages that are muted and therefore will not be sent.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>messaging.outgoing.state.delivered&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>The number of messages that have been delivered or sent. As of 3.12.x.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>messaging.outgoing.state.failed&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>The number of messages have failed to be delivered. As of 3.12.x&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>outbound_push.backlog&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>Number of changes yet to be processed by Outbound Push.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>feedback.count&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>Number of feedback docs created usually indicative of client side errors.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>conflict.count&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>Number of doc conflicts which need to be resolved manually.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>replication_limit.count&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>Number of users that exceeded the replication limit of documents.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>connected_users.count&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>Number of users that have connected to the api in a given number of days. The period defaults to 7 days but this can be changed by adding &lt;code>connected_user_interval&lt;/code> as a query parameter e.g. &lt;code>http://localhost:5988/api/v1/monitoring?connected_user_interval=14&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4>Errors&lt;span class="hx-absolute -hx-mt-20" id="errors-4">&lt;/span>
&lt;a href="#errors-4" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ul>
&lt;li>A metric of &lt;code>&amp;quot;&amp;quot;&lt;/code> (for string values) or &lt;code>-1&lt;/code> (for numeric values) indicates an error occurred while querying the metric - check the API logs for details.&lt;/li>
&lt;li>If no response or an error response is received the instance is unreachable. Thus, this API can be used as an uptime monitoring endpoint.&lt;/li>
&lt;/ul>
&lt;h3>GET /api/v2/monitoring&lt;span class="hx-absolute -hx-mt-20" id="get-apiv2monitoring">&lt;/span>
&lt;a href="#get-apiv2monitoring" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Available as of 3.12.x.
Used to retrieve a range of metrics about the instance. While the output is human-readable this is intended for automated monitoring allowing for tracking trends over time and alerting about potential issues.&lt;/p>
&lt;h4>Permissions&lt;span class="hx-absolute -hx-mt-20" id="permissions-19">&lt;/span>
&lt;a href="#permissions-19" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>No permissions required.&lt;/p>
&lt;h4>Examples&lt;span class="hx-absolute -hx-mt-20" id="examples-25">&lt;/span>
&lt;a href="#examples-25" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;h5>JSON format&lt;span class="hx-absolute -hx-mt-20" id="json-format-1">&lt;/span>
&lt;a href="#json-format-1" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h5>&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>curl http://localhost:5988/api/v2/monitoring
{&amp;#34;version&amp;#34;:{&amp;#34;app&amp;#34;:&amp;#34;3.12.0&amp;#34;,&amp;#34;node&amp;#34;:&amp;#34;v10.16.0&amp;#34;,&amp;#34;couchdb&amp;#34;:&amp;#34;2.3.1&amp;#34;},&amp;#34;couchdb&amp;#34;:{&amp;#34;medic&amp;#34;:{&amp;#34;name&amp;#34;:&amp;#34;medic&amp;#34;,&amp;#34;update_sequence&amp;#34;:5733,&amp;#34;doc_count&amp;#34;:278,&amp;#34;doc_del_count&amp;#34;:32,&amp;#34;fragmentation&amp;#34;:1.0283517758420173}...&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h4>Response content&lt;span class="hx-absolute -hx-mt-20" id="response-content-1">&lt;/span>
&lt;a href="#response-content-1" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>JSON path&lt;/th>
&lt;th>Type&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>version.app&lt;/code>&lt;/td>
&lt;td>String&lt;/td>
&lt;td>The version of the webapp.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>version.node&lt;/code>&lt;/td>
&lt;td>String&lt;/td>
&lt;td>The version of NodeJS.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>version.couchdb&lt;/code>&lt;/td>
&lt;td>String&lt;/td>
&lt;td>The version of CouchDB.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>couchdb.&amp;lt;dbname&amp;gt;.name&lt;/code>&lt;/td>
&lt;td>String&lt;/td>
&lt;td>The name of the db, usually one of &amp;ldquo;medic&amp;rdquo;, &amp;ldquo;medic-sentinel&amp;rdquo;, &amp;ldquo;medic-users-meta&amp;rdquo;, &amp;ldquo;_users&amp;rdquo;.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>couchdb.&amp;lt;dbname&amp;gt;.update_sequence&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>The number of changes in the db.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>couchdb.&amp;lt;dbname&amp;gt;.doc_count&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>The number of docs in the db.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>couchdb.&amp;lt;dbname&amp;gt;.doc_del_count&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>The number of deleted docs in the db.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>couchdb.&amp;lt;dbname&amp;gt;.fragmentation&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>The fragmentation of the entire db (including view indexes) as stored on disk. A lower value is better. &lt;code>1&lt;/code> is no fragmentation.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>couchdb.&amp;lt;dbname&amp;gt;.sizes.active&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>The size in bytes of live data inside the database. This includes documents, metadata, and attachments, but does not include view indexes. Requires CHT Core &lt;code>4.11.0&lt;/code> or later.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>couchdb.&amp;lt;dbname&amp;gt;.sizes.file&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>The size in bytes of the database file on disk. This includes documents, metadata, and attachments, but does not include view indexes. Requires CHT Core &lt;code>4.11.0&lt;/code> or later.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>couchdb.&amp;lt;dbname&amp;gt;.view_indexes[*].name&lt;/code>&lt;/td>
&lt;td>String&lt;/td>
&lt;td>The name of the view index (the design). See the table below for which view indexes are tracked for each db. Requires CHT Core &lt;code>4.11.0&lt;/code> or later.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>couchdb.&amp;lt;dbname&amp;gt;.view_indexes[*].sizes.active&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>The size in bytes of live data inside the view. Requires CHT Core &lt;code>4.11.0&lt;/code> or later.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>couchdb.&amp;lt;dbname&amp;gt;.view_indexes[*].sizes.file&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>The size in bytes of the view as stored on disk. Requires CHT Core &lt;code>4.11.0&lt;/code> or later.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>date.current&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>The current server date in millis since the epoch, useful for ensuring the server time is correct.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>date.uptime&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>How long API has been running.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>sentinel.backlog&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>Number of changes yet to be processed by Sentinel.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>messaging.outgoing.total.due&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>The number of messages due to be sent.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>messaging.outgoing.total.scheduled&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>The number of messages scheduled to be sent in the future.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>messaging.outgoing.total.muted&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>The number of messages that are muted and therefore will not be sent.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>messaging.outgoing.total.delivered&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>The number of messages that have been delivered or sent.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>messaging.outgoing.total.failed&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>The number of messages have failed to be delivered.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>messaging.outgoing.seven_days.due&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>The number of messages due to be sent in the last seven days.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>messaging.outgoing.seven_days.scheduled&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>The number of messages that were scheduled to be sent in the last seven days.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>messaging.outgoing.seven_days.muted&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>The number of messages that were due in the last seven days and are muted.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>messaging.outgoing.seven_days.delivered&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>The number of messages that were due in the last seven days and have been delivered or sent.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>messaging.outgoing.seven_days.failed&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>The number of messages that were due in the last seven days and have failed to be delivered.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>messaging.outgoing.last_hundred.pending&lt;/code>&lt;/td>
&lt;td>Object&lt;/td>
&lt;td>Counts within last 100 messages that have received status updates, and are one of the &amp;ldquo;pending&amp;rdquo; group statuses&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>messaging.outgoing.last_hundred.pending.pending&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>Number of messages that are pending&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>messaging.outgoing.last_hundred.pending.forwarded-to-gateway&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>Number of messages that are forwarded-to-gateway&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>messaging.outgoing.last_hundred.pending.received-by-gateway&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>Number of messages that are received-by-gateway&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>messaging.outgoing.last_hundred.pending.forwarded-by-gateway&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>Number of messages that are forwarded-by-gateway&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>messaging.outgoing.last_hundred.final&lt;/code>&lt;/td>
&lt;td>Object&lt;/td>
&lt;td>Counts within last 100 messages that have received status updates, and are in one of the &amp;ldquo;final&amp;rdquo; group statuses&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>messaging.outgoing.last_hundred.final.sent&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>Number of messages that are sent&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>messaging.outgoing.last_hundred.final.delivered&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>Number of messages that are delivered&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>messaging.outgoing.last_hundred.final.failed&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>Number of messages that are failed&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>messaging.outgoing.last_hundred.muted&lt;/code>&lt;/td>
&lt;td>Object&lt;/td>
&lt;td>Counts within last 100 messages that have received status updates, and are in one of the &amp;ldquo;muted&amp;rdquo; group statuses&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>messaging.outgoing.last_hundred.final.denied&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>Number of messages that are denied&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>messaging.outgoing.last_hundred.final.cleared&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>Number of messages that are cleared&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>messaging.outgoing.last_hundred.final.muted&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>Number of messages that are muted&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>messaging.outgoing.last_hundred.final.duplicate&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>Number of messages that are duplicate&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>outbound_push.backlog&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>Number of changes yet to be processed by Outbound Push.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>feedback.count&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>Number of feedback docs created usually indicative of client side errors.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>conflict.count&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>Number of doc conflicts which need to be resolved manually.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>replication_limit.count&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>Number of users that exceeded the replication limit of documents.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>connected_users.count&lt;/code>&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>Number of users that have connected to the api in a given number of days. The period defaults to 7 days but this can be changed by adding &lt;code>connected_user_interval&lt;/code> as a query parameter e.g. &lt;code>http://localhost:5988/api/v2/monitoring?connected_user_interval=14&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4>Errors&lt;span class="hx-absolute -hx-mt-20" id="errors-5">&lt;/span>
&lt;a href="#errors-5" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ul>
&lt;li>A metric of &lt;code>&amp;quot;&amp;quot;&lt;/code> (for string values) or &lt;code>-1&lt;/code> (for numeric values) indicates an error occurred while querying the metric - check the API logs for details.&lt;/li>
&lt;li>If no response or an error response is received the instance is unreachable. Thus, this API can be used as an uptime monitoring endpoint.&lt;/li>
&lt;/ul>
&lt;h4>Supported view indexes&lt;span class="hx-absolute -hx-mt-20" id="supported-view-indexes">&lt;/span>
&lt;a href="#supported-view-indexes" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>&lt;em>Requires CHT Core &lt;code>4.11.0&lt;/code> or later.&lt;/em>&lt;/p>
&lt;ul>
&lt;li>&lt;code>medic&lt;/code> database:
&lt;ul>
&lt;li>&lt;code>medic&lt;/code>&lt;/li>
&lt;li>&lt;code>medic-admin&lt;/code>&lt;/li>
&lt;li>&lt;code>medic-client&lt;/code>&lt;/li>
&lt;li>&lt;code>medic-conflicts&lt;/code>&lt;/li>
&lt;li>&lt;code>medic-scripts&lt;/code>&lt;/li>
&lt;li>&lt;code>medic-sms&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>medic-sentinel&lt;/code> database:
&lt;ul>
&lt;li>&lt;code>sentinel&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>medic-users-meta&lt;/code> database:
&lt;ul>
&lt;li>&lt;code>users-meta&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>_users&lt;/code> database:
&lt;ul>
&lt;li>&lt;code>users&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3>GET /api/v1/express-metrics&lt;span class="hx-absolute -hx-mt-20" id="get-apiv1express-metrics">&lt;/span>
&lt;a href="#get-apiv1express-metrics" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;em>Added in 4.3.0&lt;/em>&lt;/p>
&lt;p>Used to retrieve a range of metrics for monitoring CHT API&amp;rsquo;s performance and internals. This API is used by &lt;a href="https://docs.communityhealthtoolkit.org/technical-overview/architecture/cht-watchdog/" >CHT Watchdog&lt;/a>.&lt;/p>
&lt;p>The response is formatted for the &lt;a href="https://prometheus.io/docs/concepts/data_model/" target="_blank" rel="noopener">Prometheus Data Model&lt;/a>. The metrics exposed are defined by the &lt;a href="https://www.npmjs.com/package/prometheus-api-metrics" target="_blank" rel="noopener">prometheus-api-metrics package&lt;/a> and include optional default metrics and garbage collection metrics.&lt;/p>
&lt;h4>Permissions&lt;span class="hx-absolute -hx-mt-20" id="permissions-20">&lt;/span>
&lt;a href="#permissions-20" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>No permissions required.&lt;/p>
&lt;h2>Upgrades&lt;span class="hx-absolute -hx-mt-20" id="upgrades">&lt;/span>
&lt;a href="#upgrades" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>All of these endpoints require the &lt;code>can_configure&lt;/code> permission.&lt;/p>
&lt;p>All of these endpoints are asynchronous. Progress can be followed by watching the &lt;code>horti-upgrade&lt;/code> document and looking at the &lt;code>log&lt;/code> property.&lt;/p>
&lt;h3>POST /api/v1/upgrade&lt;span class="hx-absolute -hx-mt-20" id="post-apiv1upgrade">&lt;/span>
&lt;a href="#post-apiv1upgrade" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Performs a complete upgrade to the provided version. This is equivalent of calling &lt;code>/api/v1/upgrade/stage&lt;/code> and then &lt;code>/api/v1/upgrade/complete&lt;/code> once staging has finished.&lt;/p>
&lt;h4>Example&lt;span class="hx-absolute -hx-mt-20" id="example-3">&lt;/span>
&lt;a href="#example-3" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>POST /api/v1/upgrade
{
&amp;#34;build&amp;#34;: {
&amp;#34;namespace&amp;#34;: &amp;#34;medic&amp;#34;,
&amp;#34;application&amp;#34;: &amp;#34;medic&amp;#34;,
&amp;#34;version&amp;#34;: &amp;#34;3.0.0-beta.1&amp;#34;
}
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>For potential forwards compatibility, you must pass the &lt;code>namespace&lt;/code> and &lt;code>application&lt;/code> as &lt;code>medic&lt;/code>.&lt;/p>
&lt;p>The &lt;code>version&lt;/code> should correspond to a release, pre-release or branch that has been pushed to our builds server, which is currently hard-coded to &lt;code>https://staging.dev.medicmobile.org/builds&lt;/code>. This happens automatically upon a successful Continuous Integration run.&lt;/p>
&lt;p>Calling this endpoint will eventually cause api and sentinel to restart.&lt;/p>
&lt;p>It is expected that the caller ensures forwards or backwards compatibility is maintained between deployed versions. This endpoint does not stop you from &amp;ldquo;upgrading&amp;rdquo; to an earlier version, or a branch that is incompatible with your current state.&lt;/p>
&lt;h3>POST /api/v1/upgrade/stage&lt;span class="hx-absolute -hx-mt-20" id="post-apiv1upgradestage">&lt;/span>
&lt;a href="#post-apiv1upgradestage" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Stages an upgrade to the provided version. Does as much of the upgrade as possible without actually swapping versions over and restarting.&lt;/p>
&lt;p>Parameters are the same as &lt;code>/api/v1/upgrade&lt;/code>.&lt;/p>
&lt;p>You know that an upgrade has been staged when the &lt;code>horti-upgrade&lt;/code> document in CouchDB has &lt;code>&amp;quot;action&amp;quot;: &amp;quot;stage&amp;quot;&lt;/code> and &lt;code>&amp;quot;staging_complete&amp;quot;: true&lt;/code>.&lt;/p>
&lt;h3>POST /api/v1/upgrade/complete&lt;span class="hx-absolute -hx-mt-20" id="post-apiv1upgradecomplete">&lt;/span>
&lt;a href="#post-apiv1upgradecomplete" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Completes a staged upgrade. Throws a &lt;code>404&lt;/code> if there is no upgrade in the staged position.&lt;/p>
&lt;h2>Hydrate&lt;span class="hx-absolute -hx-mt-20" id="hydrate">&lt;/span>
&lt;a href="#hydrate" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Accepts a JSON array of document uuids and returns fully hydrated documents, in the same order in which they were requested.
When documents are not found, an entry with the missing uuid and an error is added instead.
Supports both GET and POST.
Only allowed for users with &amp;ldquo;online&amp;rdquo; roles.&lt;/p>
&lt;h3>GET /api/v1/hydrate&lt;span class="hx-absolute -hx-mt-20" id="get-apiv1hydrate">&lt;/span>
&lt;a href="#get-apiv1hydrate" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;h4>Query parameters&lt;span class="hx-absolute -hx-mt-20" id="query-parameters-14">&lt;/span>
&lt;a href="#query-parameters-14" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>doc_ids&lt;/td>
&lt;td>true&lt;/td>
&lt;td>A JSON array of document uuids&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4>Example&lt;span class="hx-absolute -hx-mt-20" id="example-4">&lt;/span>
&lt;a href="#example-4" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>GET /api/v1/hydrate?doc_ids=[&amp;#34;id1&amp;#34;,&amp;#34;missingId&amp;#34;,&amp;#34;id3&amp;#34;]&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 200 OK
Content-Type: application/json
[
{ &amp;#34;id&amp;#34;: &amp;#34;id1&amp;#34;, &amp;#34;doc&amp;#34;: { &amp;lt;...the hydrated document...&amp;gt; } },
{ &amp;#34;id&amp;#34;: &amp;#34;missingId1&amp;#34;, &amp;#34;error&amp;#34;: &amp;#34;not_found&amp;#34; },
{ &amp;#34;id&amp;#34;: &amp;#34;id3&amp;#34;, &amp;#34;doc&amp;#34;: { &amp;lt;...the hydrated document...&amp;gt; } },
]&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>POST /api/v1/hydrate&lt;span class="hx-absolute -hx-mt-20" id="post-apiv1hydrate">&lt;/span>
&lt;a href="#post-apiv1hydrate" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;h4>Parameters&lt;span class="hx-absolute -hx-mt-20" id="parameters-2">&lt;/span>
&lt;a href="#parameters-2" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>doc_ids&lt;/td>
&lt;td>true&lt;/td>
&lt;td>A JSON array of document uuids&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4>Example&lt;span class="hx-absolute -hx-mt-20" id="example-5">&lt;/span>
&lt;a href="#example-5" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>POST /api/v1/hydrate
Content-Type: application/json
{
&amp;#34;doc_ids&amp;#34;: [&amp;#34;id1&amp;#34;,&amp;#34;missingId&amp;#34;,&amp;#34;id3&amp;#34;]
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 200 OK
Content-Type: application/json
[
{ &amp;#34;id&amp;#34;: &amp;#34;id1&amp;#34;, &amp;#34;doc&amp;#34;: { &amp;lt;...the hydrated document...&amp;gt; } },
{ &amp;#34;id&amp;#34;: &amp;#34;missingId&amp;#34;, &amp;#34;error&amp;#34;: &amp;#34;not_found&amp;#34; },
{ &amp;#34;id&amp;#34;: &amp;#34;id3&amp;#34;, &amp;#34;doc&amp;#34;: { &amp;lt;...the hydrated document...&amp;gt; } },
]&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h2>Contacts by phone&lt;span class="hx-absolute -hx-mt-20" id="contacts-by-phone">&lt;/span>
&lt;a href="#contacts-by-phone" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>&lt;em>Added in 3.10.0&lt;/em>&lt;/p>
&lt;p>Accepts a phone number parameter and returns fully hydrated contacts that match the requested phone number.
If multiple contacts are found, all are returned. When no matches are found, a 404 error is returned.
Supports both GET and POST.
Only allowed for users with &amp;ldquo;online&amp;rdquo; roles.&lt;/p>
&lt;h3>GET /api/v1/contacts-by-phone&lt;span class="hx-absolute -hx-mt-20" id="get-apiv1contacts-by-phone">&lt;/span>
&lt;a href="#get-apiv1contacts-by-phone" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;h4>Query parameters&lt;span class="hx-absolute -hx-mt-20" id="query-parameters-15">&lt;/span>
&lt;a href="#query-parameters-15" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>phone&lt;/td>
&lt;td>true&lt;/td>
&lt;td>A URL encoded string representing a phone number&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4>Example&lt;span class="hx-absolute -hx-mt-20" id="example-6">&lt;/span>
&lt;a href="#example-6" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>GET /api/v1/contacts-by-phone?phone=&amp;#34;%2B40-(744)-999-999&amp;#34;&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 200 OK
Content-Type: application/json
{
&amp;#34;ok&amp;#34;: true,
&amp;#34;docs&amp;#34;: {
{ &amp;lt;... first hydrated matching contact found ...&amp;gt; },
{ &amp;lt;... second hydrated matching contact found ...&amp;gt; },
...
}
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>POST /api/v1/contacts-by-phone&lt;span class="hx-absolute -hx-mt-20" id="post-apiv1contacts-by-phone">&lt;/span>
&lt;a href="#post-apiv1contacts-by-phone" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;h4>Parameters&lt;span class="hx-absolute -hx-mt-20" id="parameters-3">&lt;/span>
&lt;a href="#parameters-3" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>phone&lt;/td>
&lt;td>true&lt;/td>
&lt;td>A string representing a phone number&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4>Example&lt;span class="hx-absolute -hx-mt-20" id="example-7">&lt;/span>
&lt;a href="#example-7" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>POST /api/v1/contacts-by-phone
Content-Type: application/json
{
&amp;#34;phone&amp;#34;: &amp;#34;&amp;#43;40 (21) 222-3333&amp;#34;
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 200 OK
Content-Type: application/json
{
&amp;#34;ok&amp;#34;: true,
&amp;#34;docs&amp;#34;: {
{ &amp;lt;... first hydrated matching contact found ...&amp;gt; },
{ &amp;lt;... second hydrated matching contact found ...&amp;gt; },
...
}
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h2>Replication Limit&lt;span class="hx-absolute -hx-mt-20" id="replication-limit">&lt;/span>
&lt;a href="#replication-limit" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>&lt;em>Added in 3.11.0&lt;/em>&lt;/p>
&lt;p>Returns the quantity of documents that were replicated by each user.
Accepts filtering by user name, when not provided, it returns all users.
Supports GET.
Only allowed for users with &amp;ldquo;_admin&amp;rdquo; role.&lt;/p>
&lt;h3>GET /api/v1/users-doc-count&lt;span class="hx-absolute -hx-mt-20" id="get-apiv1users-doc-count">&lt;/span>
&lt;a href="#get-apiv1users-doc-count" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;h4>Query parameters&lt;span class="hx-absolute -hx-mt-20" id="query-parameters-16">&lt;/span>
&lt;a href="#query-parameters-16" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>user&lt;/td>
&lt;td>false&lt;/td>
&lt;td>User&amp;rsquo;s name&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4>Example&lt;span class="hx-absolute -hx-mt-20" id="example-8">&lt;/span>
&lt;a href="#example-8" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>GET /api/v1/users-doc-count?user=mary&amp;#34;&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>HTTP/1.1 200 OK
Content-Type: application/json
{
&amp;#34;limit&amp;#34;: 10000,
&amp;#34;users&amp;#34;: {
&amp;#34;_id&amp;#34;: &amp;#34;replication-count-mary&amp;#34;,
&amp;#34;_rev&amp;#34;: &amp;#34;5-cd3252e852ae075da216c3c3fe461291&amp;#34;,
&amp;#34;user&amp;#34;: &amp;#34;mary&amp;#34;,
&amp;#34;date&amp;#34;: 1595328973273,
&amp;#34;count&amp;#34;: 58
}
}&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h2>Credentials&lt;span class="hx-absolute -hx-mt-20" id="credentials">&lt;/span>
&lt;a href="#credentials" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Securely store credentials for authentication with third party systems such as SMS aggregators and HMIS. Certain CHT services rely on these credentials when enabled.&lt;/p>
&lt;h3>PUT /api/v1/credentials&lt;span class="hx-absolute -hx-mt-20" id="put-apiv1credentials">&lt;/span>
&lt;a href="#put-apiv1credentials" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;em>Added in 4.0.0&lt;/em>&lt;/p>
&lt;p>Provide the credential key as a URL parameter and the password in the request body, for example, to set a credential with key &amp;ldquo;mykey&amp;rdquo; and password &amp;ldquo;my pass&amp;rdquo; use the following command.&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">curl -X PUT -H &lt;span class="s2">&amp;#34;Content-Type: text/plain&amp;#34;&lt;/span> https://&amp;lt;user&amp;gt;:&amp;lt;pass&amp;gt;@&amp;lt;domain&amp;gt;/api/v1/credentials/mykey -d &lt;span class="s1">&amp;#39;my pass&amp;#39;&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>3.x API&lt;span class="hx-absolute -hx-mt-20" id="3x-api">&lt;/span>
&lt;a href="#3x-api" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>For 3.x deployments credentials are stored in &lt;a href="https://docs.couchdb.org/en/stable/api/server/configuration.html" target="_blank" rel="noopener">CouchDB configuration&lt;/a> in a custom &lt;code>medic-credentials&lt;/code> section.&lt;/p>
&lt;p>To add the credential to the admin config you need to PUT the value using curl, for example, to set a credential with key &amp;ldquo;mykey&amp;rdquo; and password &amp;ldquo;my pass&amp;rdquo; use the following command.&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">curl -X PUT https://&amp;lt;user&amp;gt;:&amp;lt;pass&amp;gt;@&amp;lt;domain&amp;gt;/_node/_local/_config/medic-credentials/mykey -d &lt;span class="s1">&amp;#39;&amp;#34;my pass&amp;#34;&amp;#39;&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>You can also add it via Fauxton:&lt;/p>
&lt;ul>
&lt;li>Navigate to the Config screen at &lt;code>https://&amp;lt;domain&amp;gt;/_utils/#/_config&lt;/code>&lt;/li>
&lt;li>Click &lt;code>Add Option&lt;/code>&lt;/li>
&lt;li>The &lt;code>Section&lt;/code> should be &lt;code>medic-credentials&lt;/code>, the &lt;code>Name&lt;/code> should be (in this example) &lt;code>mykey&lt;/code> and the value should be the password&lt;/li>
&lt;li>Click &lt;code>Create&lt;/code>&lt;/li>
&lt;li>You should then be able to see your credential in the list of configuration shown&lt;/li>
&lt;/ul></description></item><item><title>app_settings.json</title><link>https://docs.communityhealthtoolkit.org/building/reference/app-settings/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.communityhealthtoolkit.org/building/reference/app-settings/</guid><description>
&lt;p>The settings which control CHT apps are defined in the &lt;code>app_settings.json&lt;/code> file, and stored in the &lt;code>settings&lt;/code> doc in the database. Some settings can be modified in the &lt;a href="https://docs.communityhealthtoolkit.org/building/admin/" target="_blank" rel="noopener">&lt;strong>App Management&lt;/strong>&lt;/a> app, which updates the same settings file in the database.&lt;/p>
&lt;p>The settings get compiled into the &lt;code>app_settings.json&lt;/code> file with the &lt;code>compile-app-settings&lt;/code> action in the &lt;code>cht-conf&lt;/code> tool.
Manually configurable settings are added to the &lt;code>app_settings&lt;/code> folder at the root of the config folder.
The &lt;code>app_settings/base_settings.json&lt;/code> file can be manually edited to modify individual settings.
&lt;a href="https://docs.communityhealthtoolkit.org/building/reference/app-settings/forms/" target="_blank" rel="noopener">&lt;code>forms&lt;/code>&lt;/a>, &lt;a href="https://docs.communityhealthtoolkit.org/building/reference/app-settings/schedules/" target="_blank" rel="noopener">&lt;code>schedules&lt;/code>&lt;/a>,
and &lt;a href="https://docs.communityhealthtoolkit.org/building/reference/app-settings/assetlinks/" target="_blank" rel="noopener">&lt;code>assetlinks&lt;/code>&lt;/a> sections can be defined in separate files named
&lt;code>app_settings/forms.json&lt;/code>, &lt;code>app_settings/schedules.json&lt;/code>, and &lt;code>app_settings/assetlinks.json&lt;/code> respectively with the settings
in the files overriding what might be already present in the &lt;code>app_settings/base_settings.json&lt;/code> or &lt;code>app_settings.json&lt;/code> files.&lt;/p>
&lt;p>Most sections are described on their own in the &lt;a href="https://docs.communityhealthtoolkit.org/building/reference/" >Reference Documentation&lt;/a>.&lt;/p>
&lt;h2>Build&lt;span class="hx-absolute -hx-mt-20" id="build">&lt;/span>
&lt;a href="#build" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>To include your settings into your app, you must compile them to include modular components, then upload them to your instance.&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">cht --local compile-app-settings backup-app-settings upload-app-settings&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h2>Optional Settings&lt;span class="hx-absolute -hx-mt-20" id="optional-settings">&lt;/span>
&lt;a href="#optional-settings" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>The following settings do not need to be specified. They should only be defined when the default implementation needs to be changed.&lt;/p>
&lt;h3>&lt;code>app_settings.json&lt;/code>&lt;span class="hx-absolute -hx-mt-20" id="app_settingsjson">&lt;/span>
&lt;a href="#app_settingsjson" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Setting&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Version&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>phone_validation&lt;/td>
&lt;td>&lt;ul>&lt;li>&amp;ldquo;full&amp;rdquo;: full validation of a phone number for a region using length and prefix information.&lt;/li>&lt;li>&amp;ldquo;partial&amp;rdquo;: quickly guesses whether a number is a possible phone number by using only the length information, much faster than a full validation.&lt;/li>&lt;li>&amp;ldquo;none&amp;rdquo;: allows almost any values but still fails for any phone that contains a-z chars.&lt;/li>&lt;/ul>&lt;/td>
&lt;td>&amp;ldquo;full&amp;rdquo;&lt;/td>
&lt;td>3.1.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>uhc.contacts_default_sort&lt;/td>
&lt;td>&lt;ul>&lt;li>&amp;ldquo;alpha&amp;rdquo;: Sort contacts alphanumerically&lt;/li>&lt;li>&amp;ldquo;last_visited_date&amp;rdquo;: sort contacts by the date they were most recently visited.&lt;/li>&lt;/ul>&lt;/td>
&lt;td>&amp;ldquo;alpha&amp;rdquo;&lt;/td>
&lt;td>2.18.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>uhc.visit_count.month_start_date&lt;/td>
&lt;td>The date of each month when the visit count is reset to 0.&lt;/td>
&lt;td>1&lt;/td>
&lt;td>2.18.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>uhc.visit_count.visit_count_goal&lt;/td>
&lt;td>The monthly visit count goal.&lt;/td>
&lt;td>0&lt;/td>
&lt;td>2.18.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>outgoing_deny_list&lt;/td>
&lt;td>All outgoing messages will be denied (unsent) if the recipient phone number starts with an entry in this list. A comma delimited list. (eg. &lt;code>outgoing_deny_list=&amp;quot;253,ORANGE&amp;quot;&lt;/code> will deny all messages sent to &lt;code>253 543 4448&lt;/code> and &lt;code>ORANGE NET&lt;/code>)&lt;/td>
&lt;td>&amp;quot;&amp;quot;&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>outgoing_deny_shorter_than&lt;/td>
&lt;td>Deny all messages to recipient phone numbers which are shorter than this value. Intended to avoid &lt;a href="https://docs.communityhealthtoolkit.org/building/messaging/message-loops/" target="_blank" rel="noopener">message loops&lt;/a> with short codes used by gateways (eg. &lt;code>60396&lt;/code>). An integer.&lt;/td>
&lt;td>6&lt;/td>
&lt;td>3.3.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>outgoing_deny_with_alphas&lt;/td>
&lt;td>When &lt;code>true&lt;/code>, deny all messages to recipient phone numbers containing letters (eg. &lt;code>Safaricom&lt;/code>). Intended to avoid &lt;a href="https://docs.communityhealthtoolkit.org/building/messaging/message-loops/" target="_blank" rel="noopener">message loops&lt;/a> with non-numeric senders used by gateways. A boolean.&lt;/td>
&lt;td>true&lt;/td>
&lt;td>3.3.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>outgoing_deny_with_alphas&lt;/td>
&lt;td>When &lt;code>true&lt;/code>, deny all messages to recipient phone numbers containing letters (eg. &lt;code>Safaricom&lt;/code>). Intended to avoid &lt;a href="https://docs.communityhealthtoolkit.org/building/messaging/message-loops/" target="_blank" rel="noopener">message loops&lt;/a> with non-numeric senders used by gateways. A boolean.&lt;/td>
&lt;td>true&lt;/td>
&lt;td>3.3.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>task_day_limit&lt;/td>
&lt;td>The number of days before a task is due to show the due date.&lt;/td>
&lt;td>4&lt;/td>
&lt;td>3.9.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>app_url&lt;/td>
&lt;td>The URL of the app, eg: &amp;ldquo;&lt;a href="https://demo.app.medicmobile.org" target="_blank" rel="noopener">https://demo.app.medicmobile.org&lt;/a>&amp;rdquo;&lt;/td>
&lt;td>&lt;/td>
&lt;td>3.10.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>task_days_overdue&lt;/td>
&lt;td>Display number of overdue days in tasks list&lt;/td>
&lt;td>false&lt;/td>
&lt;td>3.13.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>languages&lt;/td>
&lt;td>Array of objects with &lt;code>locale&lt;/code> and &lt;code>enabled&lt;/code> properties representing respectively the 2 or 3 letter language code and whether that language should be enabled. &lt;br/>If unset it falls back to the previous behavior of relying on the &lt;code>enabled&lt;/code> property of each translation document &lt;code>messages-XX.properties&lt;/code>. This fallback behavior is now deprecated and will be removed in the next major version (5.0). This &lt;code>languages&lt;/code> configuration property will be required for CHT 5.0+.&lt;/td>
&lt;td>&lt;/td>
&lt;td>4.2.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>place_hierarchy_types&lt;/td>
&lt;td>Array of contact types&amp;rsquo; IDs, should match the ones defined in &lt;code>contact_types&lt;/code>. This is used to define the Place Filter&amp;rsquo;s options in Reports tab.&lt;/td>
&lt;td>&lt;/td>
&lt;td>2.15.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>assetlinks&lt;/td>
&lt;td>Array of &lt;a href="https://docs.communityhealthtoolkit.org/building/reference/app-settings/assetlinks/" >Digital Asset Links&lt;/a> definitions. This is used to associate your CHT instance&amp;rsquo;s domain to your Android app to verify app links.&lt;/td>
&lt;td>&lt;/td>
&lt;td>4.7.0&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2>SMS Workflows&lt;span class="hx-absolute -hx-mt-20" id="sms-workflows">&lt;/span>
&lt;a href="#sms-workflows" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Workflows involving SMS are configured by defining &lt;a href="https://docs.communityhealthtoolkit.org/building/reference/app-settings/schedules/" >schedules&lt;/a>, &lt;a href="https://docs.communityhealthtoolkit.org/building/reference/app-settings/registrations/" >registrations&lt;/a>, &lt;a href="https://docs.communityhealthtoolkit.org/building/reference/app-settings/patient_reports/" >patient reports&lt;/a>, and &lt;a href="https://docs.communityhealthtoolkit.org/building/reference/app-settings/accept_case_reports/" >case reports&lt;/a>. Schedules of automated messages can be sent from the server at specified times in the future, and reports can be associated to contacts. Forms can also be configured to clear the schedule, or silence it for a period of time.
As of &lt;code>3.11.0&lt;/code>, places are valid subjects for any SMS workflows.&lt;/p>
&lt;h2>SMS recipient resolution&lt;span class="hx-absolute -hx-mt-20" id="sms-recipient-resolution">&lt;/span>
&lt;a href="#sms-recipient-resolution" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>An outgoing SMS message configuration has the following fields:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>property&lt;/th>
&lt;th>description&lt;/th>
&lt;th>required&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>translation_key&lt;/code>&lt;/td>
&lt;td>The translation key of the message to send out. Available in 2.15+.&lt;/td>
&lt;td>yes&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>messages&lt;/code>&lt;/td>
&lt;td>(&lt;strong>deprecated&lt;/strong>) Array of message objects, each with &lt;code>content&lt;/code> and &lt;code>locale&lt;/code> properties. From 2.15 on use &lt;code>translation_key&lt;/code> instead.&lt;/td>
&lt;td>no&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>recipient&lt;/code>&lt;/td>
&lt;td>Recipient of the message.&lt;/td>
&lt;td>no&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>&lt;code>recipient&lt;/code> values and resolutions:&lt;span class="hx-absolute -hx-mt-20" id="recipient-values-and-resolutions">&lt;/span>
&lt;a href="#recipient-values-and-resolutions" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>value&lt;/th>
&lt;th>resolves to&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;em>empty&lt;/em>&lt;/td>
&lt;td>submitter&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>reporting_unit&lt;/code>&lt;/td>
&lt;td>submitter&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>parent&lt;/code>&lt;/td>
&lt;td>primary contact of the subject&amp;rsquo;s/submitter&amp;rsquo;s place&amp;rsquo;s parent (&lt;code>patient.parent.parent.contact&lt;/code>)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grandparent&lt;/code>&lt;/td>
&lt;td>primary contact of the subject&amp;rsquo;s/submitter&amp;rsquo;s place&amp;rsquo;s grandparent (&lt;code>patient.parent.parent.parent.contact&lt;/code>)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>clinic&lt;/code>&lt;/td>
&lt;td>primary contact of the &lt;code>clinic&lt;/code> in the subject&amp;rsquo;s/submitter&amp;rsquo;s lineage&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>health_center&lt;/code>&lt;/td>
&lt;td>primary contact of the &lt;code>health_center&lt;/code> in the subject&amp;rsquo;s/submitter&amp;rsquo;s lineage&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>district&lt;/code>&lt;/td>
&lt;td>primary contact of the &lt;code>district_hospital&lt;/code> in the subject&amp;rsquo;s/submitter&amp;rsquo;s lineage&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>ancestor:&amp;lt;contact_type&amp;gt;&lt;/code>&lt;/td>
&lt;td>Walks up the subject&amp;rsquo;s/submitter&amp;rsquo;s hierarchy to find the &lt;strong>primary contact&lt;/strong> of a place with the given contact type.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>link:&amp;lt;tag&amp;gt;&lt;/code>&lt;/td>
&lt;td>Tries to find a &lt;strong>directly linked document&lt;/strong> with the given tag; if not found, walks up the lineage (but not limited to primary contact). &lt;em>Available since v3.10.x&lt;/em>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>link:&amp;lt;contact_type&amp;gt;&lt;/code>&lt;/td>
&lt;td>primary contact of the place of the requested &lt;code>contact_type&lt;/code> in the subject&amp;rsquo;s/submitter&amp;rsquo;s lineage. &lt;em>As of 3.10.x&lt;/em>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;em>custom object path&lt;/em>&lt;/td>
&lt;td>a direct object path in the &lt;a href="#message-context" >message context object&lt;/a> eg: &lt;code>patient.parent.contact.other_phone&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;em>valid phone number&lt;/em>&lt;/td>
&lt;td>requested phone number&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;div class="hx-overflow-x-auto hx-mt-6 hx-flex hx-flex-col hx-rounded-lg hx-border hx-py-4 hx-px-4 contrast-more:hx-border-current contrast-more:dark:hx-border-current hx-border-blue-200 hx-bg-blue-100 hx-text-blue-900 dark:hx-border-blue-200/30 dark:hx-bg-blue-900/30 dark:hx-text-blue-200">
&lt;p class="hx-flex hx-items-center hx-font-medium">&lt;svg height=16px class="hx-inline-block hx-align-middle hx-mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>&lt;/svg>Note&lt;/p>
&lt;div class="hx-w-full hx-min-w-0 hx-leading-7">
&lt;div class="hx-mt-6 hx-leading-7 first:hx-mt-0">&lt;ul>
&lt;li>if &lt;code>recipient&lt;/code> resolution does not yield a phone number, it will default to submitter&amp;rsquo;s phone number&lt;/li>
&lt;li>if there is no submitter phone number available, the actual &lt;code>recipient&lt;/code> property value will be used&lt;/li>
&lt;li>when mapping a contact phone number, subject (&lt;code>patient&lt;/code> and/or &lt;code>place&lt;/code>) lineage and &lt;code>linked_docs&lt;/code> take precedence over &lt;code>submitter&lt;/code> lineage and &lt;code>linked_docs&lt;/code>.&lt;/li>
&lt;li>except for &lt;code>link:&amp;lt;tag&amp;gt;&lt;/code>, phone numbers are resolved to the primary contacts of the requested places. &lt;code>linked_docs&lt;/code> hydration is shallow, so the primary contact of the linked doc will not be available.&lt;/li>
&lt;/ul>&lt;/div>
&lt;/div>
&lt;/div>
&lt;h3>Message context&lt;span class="hx-absolute -hx-mt-20" id="message-context">&lt;/span>
&lt;a href="#message-context" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>The message context object consists of:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>property&lt;/th>
&lt;th>value description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;em>every property from the original report&lt;/em>&lt;/td>
&lt;td>unchanged unless specified below&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;em>every &lt;code>fields&lt;/code> property from the original report&lt;/em>&lt;/td>
&lt;td>eg: if the report has &lt;code>fields.test = 'test'&lt;/code> then &lt;code>context.test = 'test'&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>patient&lt;/td>
&lt;td>deeply hydrated patient contact (resolved from &lt;code>patient_id&lt;/code>, &lt;code>fields.patient_id&lt;/code> or &lt;code>fields.patient_uuid&lt;/code>)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>patient_name&lt;/td>
&lt;td>patient&amp;rsquo;s name&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>place&lt;/td>
&lt;td>deeply hydrated place document (resolved from &lt;code>place_id&lt;/code> or &lt;code>fields.place_id&lt;/code>)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>contact&lt;/td>
&lt;td>deeply hydrated submitter contact&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>parent&lt;/td>
&lt;td>deeply hydrated &lt;code>health_center&lt;/code> type document from the subject&amp;rsquo;s or submitter&amp;rsquo;s lineage&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>grandparent&lt;/td>
&lt;td>deeply hydrated &lt;code>district_hospital&lt;/code> type document from the subject&amp;rsquo;s or submitter&amp;rsquo;s lineage&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>clinic&lt;/td>
&lt;td>deeply hydrated &lt;code>clinic&lt;/code> type document from the subject&amp;rsquo;s or submitter&amp;rsquo;s lineage&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>health_center&lt;/td>
&lt;td>deeply hydrated &lt;code>health_center&lt;/code> type document from the subject&amp;rsquo;s or submitter&amp;rsquo;s lineage&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>district_hospital&lt;/td>
&lt;td>deeply hydrated &lt;code>district_hospital&lt;/code> type document from the subject&amp;rsquo;s or submitter&amp;rsquo;s lineage&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2>Variables&lt;span class="hx-absolute -hx-mt-20" id="variables">&lt;/span>
&lt;a href="#variables" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Outgoing messages can use &lt;a href="https://mustache.github.io/mustache.5.html" target="_blank" rel="noopener">Mustache templating&lt;/a> to insert variables and specify data formats.
All &lt;a href="#message-context" >message context fields&lt;/a> are available as variables.&lt;/p>
&lt;h3>Code sample&lt;span class="hx-absolute -hx-mt-20" id="code-sample">&lt;/span>
&lt;a href="#code-sample" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>The following translation label includes the &lt;code>name&lt;/code> field of &lt;code>contact&lt;/code>, along with the submitted &lt;code>patient_name&lt;/code> field, and the generated &lt;code>patient_id&lt;/code> field.&lt;/p>
&lt;h4>&lt;code>translations/messages-en.properties&lt;/code>&lt;span class="hx-absolute -hx-mt-20" id="translationsmessages-enproperties">&lt;/span>
&lt;a href="#translationsmessages-enproperties" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>messages.registration.report_accepted = Thank you {{contact.name}} for registering {{patient_name}}. Their ID is {{patient_id}}.&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>Date Format Filters&lt;span class="hx-absolute -hx-mt-20" id="date-format-filters">&lt;/span>
&lt;a href="#date-format-filters" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>The following filter functions are available for formatting dates.&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>filter&lt;/th>
&lt;th>description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>date&lt;/code>&lt;/td>
&lt;td>Displays dates according to the &lt;code>date_format&lt;/code> specified in app_settings. See &lt;a href="https://momentjs.com/docs/#/parsing/string-format/" target="_blank" rel="noopener">doc for Moment.js format&lt;/a> for details.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>datetime&lt;/code>&lt;/td>
&lt;td>Displays dates according to the &lt;code>reported_date_format&lt;/code> specified in app_settings. See &lt;a href="https://momentjs.com/docs/#/parsing/string-format/" target="_blank" rel="noopener">doc for Moment.js format&lt;/a> for details.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>bikram_sambat_date&lt;/code>&lt;/td>
&lt;td>Displays dates in Bikram Sambat calendar (most commonly used calendar in Nepal). Currently display format is hardcoded to e.g. &amp;ldquo;à¥§à¥« à¤šà¥ˆà¤¤ à¥¨à¥¦à¥­à¥©&amp;rdquo;.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2>Validations&lt;span class="hx-absolute -hx-mt-20" id="validations">&lt;/span>
&lt;a href="#validations" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Validation rules are code fragments used to determine if some input is valid. For example, to say a field is only valid if the value has at least five characters, you would use the lenMin(5). They are used in &lt;code>registrations[].validations.list[].rule&lt;/code> and &lt;code>patient_reports[].validations.list[].rule&lt;/code> to determine if an incoming report is accepted. A report is accepted as valid only if all rules return &lt;code>true&lt;/code>. If any validation rule returns &lt;code>false&lt;/code> then the report is marked as invalid, and a message is automatically sent to the submitter. The content for the message is set in the &lt;code>translation_key&lt;/code> associated to each rule. If a report fails multiple validations then each message will be sent. These can be combined into a single SMS by specifying &lt;code>&amp;quot;*.validations.join_responses&amp;quot; : true&lt;/code>.&lt;/p>
&lt;p>The syntax aims to mimic C-like languages. You can use logical operators, ternaries, nested &amp;ldquo;blocks&amp;rdquo; (&lt;code>rule &amp;amp;&amp;amp; (some || nested || rules)&lt;/code>) and validation functions (&lt;code>validationFunction(&amp;quot;arg1&amp;quot;, &amp;quot;arg2&amp;quot;)&lt;/code>).&lt;/p>
&lt;p>&lt;strong>String parameters for validation functions, such as the regex in the &amp;ldquo;regex&amp;rdquo; function, should be quoted.&lt;/strong>&lt;/p>
&lt;p>Non-quoted parameters will be cast to floats (numbers with decimals).&lt;/p>
&lt;p>For each validation function, there is also a matching function prepended by &lt;code>other&lt;/code> that allows you to run functions on other values than the one the rule string is for. This can be useful for fields that have differing requirements depending on another field. For example:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;state&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;otherEquals(&amp;#39;country&amp;#39;, &amp;#39;US&amp;#39;) ? lenMin(2) : lenMin(0)&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>This rule validates the length &lt;code>state&lt;/code> property if the &lt;code>country&lt;/code> is set to &amp;ldquo;US&amp;rdquo;, but skips validation otherwise.&lt;/p>
&lt;p>Validation function arguments can be either strings or numerical values. Numerical arguments should not be wrapped in quotation marks or apostrophes: &lt;code>lenMin(5)&lt;/code>.&lt;/p>
&lt;h3>Operators&lt;span class="hx-absolute -hx-mt-20" id="operators">&lt;/span>
&lt;a href="#operators" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>The available operators are:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Operator&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&amp;amp;&amp;amp;&lt;/td>
&lt;td>and&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>||&lt;/td>
&lt;td>or&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>!&lt;/td>
&lt;td>not&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>a ? b : c&lt;/td>
&lt;td>ternary, ie: if &amp;lsquo;a&amp;rsquo; is true, then check &amp;lsquo;b&amp;rsquo;, otherwise check &amp;lsquo;c&amp;rsquo;&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>()&lt;/td>
&lt;td>nested blocks, eg: &lt;code>a &amp;amp;&amp;amp; (b || c)&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>Rules&lt;span class="hx-absolute -hx-mt-20" id="rules">&lt;/span>
&lt;a href="#rules" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>The following functions are available by default:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Function&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>equals&lt;/code>&lt;/td>
&lt;td>Comparison&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>iEquals&lt;/code>&lt;/td>
&lt;td>Case insensitive comparison&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>sEquals&lt;/code>&lt;/td>
&lt;td>Type sensitive equals&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>siEquals&lt;/code>&lt;/td>
&lt;td>Type sensitive case insensitive equals&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>lenMin&lt;/code>&lt;/td>
&lt;td>Minimum length&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>lenMax&lt;/code>&lt;/td>
&lt;td>Maximum length&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>lenEquals&lt;/code>&lt;/td>
&lt;td>Exact length&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>min&lt;/code>&lt;/td>
&lt;td>Minimum value&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>max&lt;/code>&lt;/td>
&lt;td>Maximum value&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>between&lt;/code>&lt;/td>
&lt;td>Minimum and maximum value&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>in&lt;/code>&lt;/td>
&lt;td>One of the provided values&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>required&lt;/code>&lt;/td>
&lt;td>Must have a value&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>optional&lt;/code>&lt;/td>
&lt;td>Always valid&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>numeric&lt;/code>&lt;/td>
&lt;td>Numbers only&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>integer&lt;/code>&lt;/td>
&lt;td>Integer numbers only&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>alpha&lt;/code>&lt;/td>
&lt;td>Letters only&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>alphaNumeric&lt;/code>&lt;/td>
&lt;td>Numbers and letters only&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>email&lt;/code>&lt;/td>
&lt;td>Email address format&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>regex&lt;/code>&lt;/td>
&lt;td>A custom regular expression&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>equalsTo&lt;/code>&lt;/td>
&lt;td>Compare to another field by its key&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>unique(*fields)&lt;/code>&lt;/td>
&lt;td>Returns &lt;code>true&lt;/code> if no existing valid report has the same value for all of the listed fields. Fields are compared to those at the top level and within &lt;code>fields&lt;/code> for every report doc. To include the form type use &lt;code>'form'&lt;/code> as one of the fields. Eg &lt;code>unique('form', 'patient_id')&lt;/code> checks that this form was never submitted for this patient.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>uniquePhone(field)&lt;/code>&lt;/td>
&lt;td>Returns &lt;code>true&lt;/code> if contact with the phone number already exists. &lt;em>Added in 4.3.0&lt;/em>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>validPhone(field)&lt;/code>&lt;/td>
&lt;td>Returns &lt;code>true&lt;/code> if the field is a valid phone number else returns false. &lt;em>Added in 4.3.1&lt;/em>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>uniqueWithin(*fields, time_period)&lt;/code>&lt;/td>
&lt;td>Same as &lt;code>unique&lt;/code> but the last argument is the time period in which to search. Eg &lt;code>uniqueWithin('form', 'patient_id', '1 week')&lt;/code> checks that the same form wasn&amp;rsquo;t submitted for this patient in the past week.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>exists(form_id, field)&lt;/code>&lt;/td>
&lt;td>Returns &lt;code>true&lt;/code> if a report matches the &lt;code>form_id&lt;/code> and value for &lt;code>field&lt;/code>. This is useful to check that a patient was registered for a service before reporting about it. Eg &lt;code>exists('REG', 'patient_id')&lt;/code> checks that a &lt;code>REG&lt;/code> form was already submitted for a patient. As of 2.12 most uses of this function are obsolete because checking for a valid &lt;code>patient_id&lt;/code> is done automatically by the &lt;code>accept_patient_report&lt;/code> transition using &lt;code>registration_not_found&lt;/code> in the &lt;code>messages.event_type&lt;/code>.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>isISOWeek(weekFieldName[, yearFieldName])&lt;/code>&lt;/td>
&lt;td>Returns &lt;code>true&lt;/code> if the current report has a week value that is less or equal to the number of ISO weeks of the current year or the year value of the same report. The first parameter is the field name for the week and the second parameter is the field name for the year: &lt;code>isISOWeek('week', 'year')&lt;/code>. If the second parameter is not specified, then the current year is used: &lt;code>isISOWeek('week')&lt;/code>.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>isAfter(duration)&lt;/code>&lt;/td>
&lt;td>Returns &lt;code>true&lt;/code> if the date property comes after today plus the duration. For this to work, the property should be a date type. e.g. &lt;code>isAfter('2 weeks')&lt;/code> checks that the date property is at least two weeks in the future from today. Negative values are also supported.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>isBefore(duration)&lt;/code>&lt;/td>
&lt;td>Returns &lt;code>true&lt;/code> if the date property comes before today minus the duration. For this to work, the property should be a date type. e.g. &lt;code>isBefore('2 weeks')&lt;/code> checks that the date property is at least two weeks in the past from today. Negative values are also supported.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4>Sample usage&lt;span class="hx-absolute -hx-mt-20" id="sample-usage">&lt;/span>
&lt;a href="#sample-usage" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>To ensure the &lt;code>patient_id&lt;/code> is 5 digits and not already registered.&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;property&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;patient_id&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;rule&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;regex(\d{5}) &amp;amp;&amp;amp; unique(&amp;#39;patient_id&amp;#39;)&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;translation_key&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;patient_id_invalid&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">]&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>For case-insensitive comparison, use &lt;code>iEquals&lt;/code> function, and you can use &lt;code>||&lt;/code> for logical OR. So the rule &lt;code>iEquals(&amp;quot;mary&amp;quot;) || iEquals(&amp;quot;john&amp;quot;)&lt;/code> matches &amp;ldquo;mary&amp;rdquo;, &amp;ldquo;Mary&amp;rdquo;, &amp;ldquo;john&amp;rdquo;, &amp;ldquo;John&amp;rdquo;, and &amp;ldquo;JOhN&amp;rdquo;, but not &amp;ldquo;maryjohn&amp;rdquo;&lt;/p>
&lt;h4>Combining rules&lt;span class="hx-absolute -hx-mt-20" id="combining-rules">&lt;/span>
&lt;a href="#combining-rules" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>Prior to 4.15.0 you could not combine certain rules. Check this &lt;a href="https://github.com/medic/cht-core/issues/8806#issuecomment-2451994409" target="_blank" rel="noopener">bug report&lt;/a> for more information.&lt;/p>
&lt;div class="section-pages-list">
&lt;h3>Content in this section &lt;/h3>
&lt;ul>
&lt;li>
&lt;a href="https://docs.communityhealthtoolkit.org/building/reference/app-settings/accept_case_reports/">.accept_case_reports&lt;/a>
&lt;/li>
&lt;li>
&lt;a href="https://docs.communityhealthtoolkit.org/building/reference/app-settings/assetlinks/">.assetlinks&lt;/a>
&lt;/li>
&lt;li>
&lt;a href="https://docs.communityhealthtoolkit.org/building/reference/app-settings/hierarchy/">.contact_types&lt;/a>
&lt;/li>
&lt;li>
&lt;a href="https://docs.communityhealthtoolkit.org/building/reference/app-settings/dhis2/">.dhis_data_sets&lt;/a>
&lt;/li>
&lt;li>
&lt;a href="https://docs.communityhealthtoolkit.org/building/reference/app-settings/forms/">.forms&lt;/a>
&lt;/li>
&lt;li>
&lt;a href="https://docs.communityhealthtoolkit.org/building/reference/app-settings/header_tabs/">.header_tabs&lt;/a>
&lt;/li>
&lt;li>
&lt;a href="https://docs.communityhealthtoolkit.org/building/reference/app-settings/oidc_provider/">.oidc_provider&lt;/a>
&lt;/li>
&lt;li>
&lt;a href="https://docs.communityhealthtoolkit.org/building/reference/app-settings/outbound/">.outbound&lt;/a>
&lt;/li>
&lt;li>
&lt;a href="https://docs.communityhealthtoolkit.org/building/reference/app-settings/patient_reports/">.patient_reports&lt;/a>
&lt;/li>
&lt;li>
&lt;a href="https://docs.communityhealthtoolkit.org/building/reference/app-settings/user-permissions/">.permissions&lt;/a>
&lt;/li>
&lt;li>
&lt;a href="https://docs.communityhealthtoolkit.org/building/reference/app-settings/registrations/">.registrations&lt;/a>
&lt;/li>
&lt;li>
&lt;a href="https://docs.communityhealthtoolkit.org/building/reference/app-settings/reminders/">.reminders&lt;/a>
&lt;/li>
&lt;li>
&lt;a href="https://docs.communityhealthtoolkit.org/building/reference/app-settings/replication_depth/">.replication_depth&lt;/a>
&lt;/li>
&lt;li>
&lt;a href="https://docs.communityhealthtoolkit.org/building/reference/app-settings/replications/">.replications [deprecated]&lt;/a>
&lt;/li>
&lt;li>
&lt;a href="https://docs.communityhealthtoolkit.org/building/reference/app-settings/user-roles/">.roles&lt;/a>
&lt;/li>
&lt;li>
&lt;a href="https://docs.communityhealthtoolkit.org/building/reference/app-settings/schedules/">.schedules&lt;/a>
&lt;/li>
&lt;li>
&lt;a href="https://docs.communityhealthtoolkit.org/building/reference/app-settings/sms/">.sms&lt;/a>
&lt;/li>
&lt;li>
&lt;a href="https://docs.communityhealthtoolkit.org/building/reference/app-settings/token_login/">.token_login&lt;/a>
&lt;/li>
&lt;li>
&lt;a href="https://docs.communityhealthtoolkit.org/building/reference/app-settings/transitions/">.transitions&lt;/a>
&lt;/li>
&lt;/ul>
&lt;/div></description></item><item><title>extension-libs/</title><link>https://docs.communityhealthtoolkit.org/building/reference/extension-libs/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.communityhealthtoolkit.org/building/reference/extension-libs/</guid><description>
&lt;p>&lt;em>Introduced in v4.2.0&lt;/em>&lt;/p>
&lt;h2>Introduction&lt;span class="hx-absolute -hx-mt-20" id="introduction">&lt;/span>
&lt;a href="#introduction" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Extension libraries are blocks of code that are cached with the CHT web application giving app developers a powerful tool to extend the CHT. This is an advanced feature and requires an app developer with some software development experience.&lt;/p>
&lt;p>An example of a use for this feature is to provide a function to calculate a risk score based on a machine learning model. The function can then be called passing in values from app forms and return the result to be stored with the report.&lt;/p>
&lt;h3>Library&lt;span class="hx-absolute -hx-mt-20" id="library">&lt;/span>
&lt;a href="#library" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>The first step is to create the js file to return the function that will be called by the web application. Create a new file using this template:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">module&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exports&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="cm">/* parameters */&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">result&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Now populate the function as needed. For complex functions, it is recommended to use third party libraries (such as momentjs, lodash, etc) and use a bundler (eg: &lt;a href="https://webpack.js.org/" target="_blank" rel="noopener">webpack&lt;/a>) to make it easy to build a single file. It&amp;rsquo;s recommended to use development best practices such as linting, unit tests, and minification to ensure quality and small download size.&lt;/p>
&lt;h4>xpath functions&lt;span class="hx-absolute -hx-mt-20" id="xpath-functions">&lt;/span>
&lt;a href="#xpath-functions" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>To call the function from within a form the parameters and return value will need to have a very specific structure to work with Enketo xforms.&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;t&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="err">&amp;lt;type&amp;gt;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;v&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="err">&amp;lt;value&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Where the type is one of &amp;ldquo;bool&amp;rdquo;, &amp;ldquo;num&amp;rdquo;, &amp;ldquo;str&amp;rdquo;, &amp;ldquo;date&amp;rdquo;, or &amp;ldquo;arr&amp;rdquo;. For example, to calculate the average of two inputs, you would use:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">getValue&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">val&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">t&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s1">&amp;#39;arr&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">val&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">obj&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">v&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nx">obj&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">v&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nx">obj&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">v&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">val&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">obj&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">v&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">parsed&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">parseInt&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">textContent&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nb">isNaN&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">parsed&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="nx">parsed&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">module&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exports&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">first&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">second&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">average&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">getValue&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">first&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">getValue&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">second&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">t&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;num&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">v&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">average&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>Uploading to the CHT&lt;span class="hx-absolute -hx-mt-20" id="uploading-to-the-cht">&lt;/span>
&lt;a href="#uploading-to-the-cht" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Create a folder within the project configuration to contain the libraries, for example:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>./extension-libs
average.js
calculate-risk-score.js&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Now run the command: &lt;code>cht upload-extension-libs&lt;/code>&lt;/p>
&lt;p>This will create or update a document to CouchDB with an ID of &lt;code>extension-libs&lt;/code> with each of the configured scripts attached. Once this is created the webapp service worker will be updated so the libraries are cached on the phone ready for use offline.&lt;/p>
&lt;h3>Invoking the function&lt;span class="hx-absolute -hx-mt-20" id="invoking-the-function">&lt;/span>
&lt;a href="#invoking-the-function" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;h4>CHT API&lt;span class="hx-absolute -hx-mt-20" id="cht-api">&lt;/span>
&lt;a href="#cht-api" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>The function will now be available via the CHT API for &lt;a href="https://docs.communityhealthtoolkit.org/building/tasks/tasks-js/" >tasks&lt;/a>, &lt;a href="https://docs.communityhealthtoolkit.org/building/targets/targets-js/" >targets&lt;/a>, and &lt;a href="https://docs.communityhealthtoolkit.org/building/contact-summary/contact-summary-templated/" >contact summary&lt;/a> configurations.&lt;/p>
&lt;h4>CHT xPath functions&lt;span class="hx-absolute -hx-mt-20" id="cht-xpath-functions">&lt;/span>
&lt;a href="#cht-xpath-functions" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>To execute the function from within an xform use the &lt;a href="https://docs.communityhealthtoolkit.org/building/forms/app/#chtextension-lib" >&lt;code>cht:extension-lib&lt;/code> xpath function&lt;/a>.&lt;/p>
&lt;h2>Advanced usage&lt;span class="hx-absolute -hx-mt-20" id="advanced-usage">&lt;/span>
&lt;a href="#advanced-usage" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Extension libraries are simply JavaScript functions executed in the context of the CHT web application. This means technically they can be used to do things like manipulating the DOM for fine-grained control of how elements are displayed in a form.&lt;/p>
&lt;p>Advanced integrations like this are not explicitly supported (they may break in future versions of the CHT). However, they can be a powerful tool for developers looking to extend the CHT without having to fork the entire project.&lt;/p>
&lt;p>See &lt;a href="https://ruky.me/hacking-cht-user-interface-with-javascript-to-format-content/" target="_blank" rel="noopener">this blog post&lt;/a> from a community member for more information and inspiration on the kinds of things that can be achieved with extension libs!&lt;/p></description></item><item><title>CHT API</title><link>https://docs.communityhealthtoolkit.org/building/reference/_partial_cht_api/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.communityhealthtoolkit.org/building/reference/_partial_cht_api/</guid><description>
&lt;p>&lt;em>Introduced in v3.12.0&lt;/em>&lt;/p>
&lt;p>Provides CHT-Core Framework&amp;rsquo;s functions to contact summary, targets and tasks. The API is available in the &lt;code>cht&lt;/code> reserved variable under the &lt;code>v1&lt;/code> version.&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Function&lt;/th>
&lt;th>Arguments&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>hasPermissions(permissions, userRoles, chtPermissionsSettings)&lt;/td>
&lt;td>&lt;code>permissions&lt;/code>: String or array of permission name(s).&lt;br>&lt;code>userRoles&lt;/code>: (Optional) Array of user roles. Default to the current logged in user.&lt;br>&lt;code>chtPermissionsSettings&lt;/code>: (Optional) Object of configured permissions in CHT-Core&amp;rsquo;s settings. Default to the current instance&amp;rsquo;s configured permissions.&lt;/td>
&lt;td>Returns true if the user has the permission(s), otherwise returns false.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>hasAnyPermission(permissionsGroups, userRoles, chtPermissionsSettings)&lt;/td>
&lt;td>&lt;code>permissionsGroups&lt;/code>: Array of groups of permission name(s).&lt;br>&lt;code>userRoles&lt;/code>: (Optional) Array of user roles. Default to the current logged in user.&lt;br>&lt;code>chtPermissionsSettings&lt;/code>: (Optional) Object of configured permissions in CHT-Core&amp;rsquo;s settings. Default to the current instance&amp;rsquo;s configured permissions.&lt;/td>
&lt;td>Returns true if the user has all the permissions of any of the provided groups, otherwise returns false.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>getExtensionLib(name)&lt;/td>
&lt;td>&lt;code>name&lt;/code>: String of script name&lt;/td>
&lt;td>Returns an executable function identified by the given name configured as &lt;a href="https://docs.communityhealthtoolkit.org/building/reference/extension-libs/" >extension-libs&lt;/a>.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>analytics.getTargetDocs()&lt;/td>
&lt;td>&lt;/td>
&lt;td>Returns three &lt;a href="https://docs.communityhealthtoolkit.org/technical-overview/data/db-schema/#targets" >target&lt;/a> documents of the contact, calculated for the last three reporting intervals, including the current one. When viewing one of the current logged in user&amp;rsquo;s associated facilities, returns the target documents for the contact associated with the current logged in user. Returns an empty array if no target documents are found (for example when viewing a contact that does not upload targets). &lt;em>Introduced in v4.11.0&lt;/em>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>CHT API&amp;rsquo;s code samples&lt;span class="hx-absolute -hx-mt-20" id="cht-apis-code-samples">&lt;/span>
&lt;a href="#cht-apis-code-samples" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">canEdit&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">cht&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">v1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">hasPermissions&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;can_edit&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">canManagePlaces&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">cht&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">v1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">hasPermissions&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="s1">&amp;#39;can_create_places&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;can_update_places&amp;#39;&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">hasAnyGroup&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">cht&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">v1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">hasAnyPermission&lt;/span>&lt;span class="p">([&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;can_view_messages&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;can_view_message_action&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;can_view_reports&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;can_verify_reports&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">]);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">averageFn&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">cht&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">v1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getExtensionLib&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;average.js&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">targetDocs&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">cht&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">v1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">analytics&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getTargetDocs&lt;/span>&lt;span class="p">();&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div></description></item><item><title>Utils Functions</title><link>https://docs.communityhealthtoolkit.org/building/reference/_partial_utils/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.communityhealthtoolkit.org/building/reference/_partial_utils/</guid><description>
&lt;p>Utility functions in the Core Framework can make common tasks much easier. These are available only for Tasks and Targets. To use the function call &lt;code>Utils.&amp;lt;function-name&amp;gt;(&amp;lt;params&amp;gt;)&lt;/code>, for example &lt;code>Utils.addDate(report.reported_date, 10)&lt;/code>.&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>isTimely(date, event)&lt;/code>&lt;/td>
&lt;td>Returns true if the given date is after the start date and before the end date of the event.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>addDate(date, days)&lt;/code>&lt;/td>
&lt;td>Returns a new Date set to midnight the given number of days after the given date. If no date is given the date defaults to today.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>getLmpDate(doc)&lt;/code>&lt;/td>
&lt;td>Attempts to work out the LMP from the given doc. If no LMP is given it defaults to four weeks before the reported_date.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>getSchedule(name)&lt;/code>&lt;/td>
&lt;td>Returns the task schedule with the given name from the configuration.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>getMostRecentTimestamp(reports, form)&lt;/code>&lt;/td>
&lt;td>Returns the reported_date of the most recent of the reports with form ID matching the given form.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>getMostRecentReport(reports, form)&lt;/code>&lt;/td>
&lt;td>Like &lt;code>getMostRecentTimestamp&lt;/code> but returns the report, not just the reported_date. From CHT v3.14.0, it also accepts an array of forms.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>isFormSubmittedInWindow(reports, form, start, end)&lt;/code>&lt;/td>
&lt;td>Returns true if any of the given reports are for the given form and were reported after start and before end.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>isFirstReportNewer(firstReport, secondReport)&lt;/code>&lt;/td>
&lt;td>Returns true if the firstReport was reported before the secondReport.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>isDateValid(date)&lt;/code>&lt;/td>
&lt;td>Returns true if the given date is a validate JavaScript Date.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>now()&lt;/code>&lt;/td>
&lt;td>Returns the current Date.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>getField(report, fieldPath)&lt;/code>&lt;/td>
&lt;td>Returns the value of the specified fieldPath. The fieldPath is a period separated json path.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>MS_IN_DAY&lt;/code>&lt;/td>
&lt;td>A constant for the number of milliseconds in a day.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Open &lt;a href="https://github.com/medic/cht-core/issues/new" target="_blank" rel="noopener">an issue&lt;/a> if you&amp;rsquo;d like other functions included.&lt;/p></description></item></channel></rss>