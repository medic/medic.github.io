<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Community Health Toolkit – Training Cards</title><link>https://docs.communityhealthtoolkit.org/building/training/training-cards/</link><description>Recent content in Training Cards on Community Health Toolkit</description><generator>Hugo -- gohugo.io</generator><language>en</language><atom:link href="https://docs.communityhealthtoolkit.org/building/training/training-cards/index.xml" rel="self" type="application/rss+xml"/><item><title>Training Cards Configuration</title><link>https://docs.communityhealthtoolkit.org/building/training/training-cards/training-cards-configuration/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.communityhealthtoolkit.org/building/training/training-cards/training-cards-configuration/</guid><description>
&lt;p&gt;&lt;a href="https://docs.communityhealthtoolkit.org/building/training/training-cards/"&gt;Training Cards&lt;/a&gt; enable remote training from within the CHT by showing a sequence of &amp;ldquo;cards&amp;rdquo; containing content provided by App Developers. The content might include information about a newly deployed feature, changes to a &lt;a href="https://docs.communityhealthtoolkit.org/building/care-guides/"&gt;care guide&lt;/a&gt;, or simply a reminder about an underused feature or workflow. Enketo forms are used to display the content, and App Developers can specify a start date, duration, and to which &lt;a href="https://docs.communityhealthtoolkit.org/building/reference/app-settings/user-roles/"&gt;user roles&lt;/a&gt; the cards should be shown. Like &lt;a href="https://docs.communityhealthtoolkit.org/building/forms/app/"&gt;app forms&lt;/a&gt;, forms used by training cards will automatically be downloaded to the user’s devices.&lt;/p&gt;
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:flex-col hx:rounded-lg hx:border hx:py-4 hx:px-4 hx:border-gray-200 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200"&gt;
&lt;p class="hx:flex hx:items-center hx:font-medium"&gt;&lt;svg height=16px class="hx:inline-block hx:align-middle hx:mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"&gt;&lt;path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/&gt;&lt;/svg&gt;Note&lt;/p&gt;
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7"&gt;
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0"&gt;&lt;p&gt;Example training forms are available &lt;a href="https://docs.communityhealthtoolkit.org/building/training/training-cards-resources/"&gt;here&lt;/a&gt; and provide a good starting point.&lt;/p&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h1&gt;Step 1: Create the training form&lt;/h1&gt;&lt;p&gt;Create an &lt;a href="https://docs.communityhealthtoolkit.org/building/forms/app/#xlsform"&gt;XLS Form&lt;/a&gt;. In the following example, the training form is called &lt;code&gt;my_new_feature&lt;/code&gt;, it has some text in the &lt;code&gt;label::en&lt;/code&gt; column, and some images in the column &lt;code&gt;media::images&lt;/code&gt; to illustrate the feature.&lt;/p&gt;
&lt;figure class="left col-10"&gt;&lt;a href="step-1-xls-form.png"&gt;&lt;img src="https://docs.communityhealthtoolkit.org/building/training/training-cards/training-cards-configuration/step-1-xls-form.png"&gt;&lt;/a&gt;
&lt;/figure&gt;
&lt;h1&gt;Step 2: Add the form’s ID&lt;/h1&gt;&lt;p&gt;Important, define the &lt;code&gt;form_id&lt;/code&gt; located in the &lt;code&gt;settings&lt;/code&gt; sheet with the prefix &lt;code&gt;training:&lt;/code&gt; and add the form name, otherwise the training card won&amp;rsquo;t display. In our example, the &lt;code&gt;form_id&lt;/code&gt; should be &lt;code&gt;training:my_new_feature&lt;/code&gt;.&lt;/p&gt;
&lt;figure class="left col-10"&gt;&lt;a href="step-2-xls-form-id.png"&gt;&lt;img src="https://docs.communityhealthtoolkit.org/building/training/training-cards/training-cards-configuration/step-2-xls-form-id.png"&gt;&lt;/a&gt;
&lt;/figure&gt;
&lt;h1&gt;Step 3: Configure the training form&lt;/h1&gt;&lt;p&gt;Create a &lt;a href="https://docs.communityhealthtoolkit.org/building/forms/form-properties/#3-define-the-forms-context"&gt;properties file&lt;/a&gt; to define the starting date of the training, the number of days it will be active, and the user roles that can access the training. In our example, the file name is &lt;code&gt;my_new_feature.properties.json&lt;/code&gt; and contains the following properties:&lt;/p&gt;
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"&gt;
&lt;div&gt;&lt;pre&gt;&lt;code&gt;{
&amp;#34;title&amp;#34;: &amp;#34;New workflow&amp;#34;,
&amp;#34;context&amp;#34;: {
&amp;#34;start_date&amp;#34;: &amp;#34;2023-07-13&amp;#34;,
&amp;#34;duration&amp;#34;: 60,
&amp;#34;user_roles&amp;#34;: [ &amp;#34;nurse&amp;#34; ]
}
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"&gt;
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
&gt;
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"&gt;&lt;/div&gt;
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"&gt;&lt;/div&gt;
&lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;In the example above, the training cards could be shown to any user with the &amp;ldquo;nurse&amp;rdquo; role between July 13, 2023 and September 11, 2023 (inclusive). See more information about these configuration settings below:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Property&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&amp;ldquo;title&amp;rdquo;&lt;/td&gt;
&lt;td&gt;Enketo’s form title that is displayed in the modal’s header section.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&amp;ldquo;start_date&amp;rdquo;&lt;/td&gt;
&lt;td&gt;Optional. Define the training start day using &lt;code&gt;yyyy-mm-dd&lt;/code&gt; format. If not defined then the training will start immediately.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&amp;ldquo;duration&amp;rdquo;&lt;/td&gt;
&lt;td&gt;Optional. Number of days this training should be active. If not defined then the training will never expire.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&amp;ldquo;user_roles&amp;rdquo;&lt;/td&gt;
&lt;td&gt;Optional. List of user roles that can access this training. If not defined then all users can access the training.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:flex-col hx:rounded-lg hx:border hx:py-4 hx:px-4 hx:border-gray-200 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200"&gt;
&lt;p class="hx:flex hx:items-center hx:font-medium"&gt;&lt;svg height=16px class="hx:inline-block hx:align-middle hx:mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"&gt;&lt;path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/&gt;&lt;/svg&gt;Note&lt;/p&gt;
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7"&gt;
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0"&gt;&lt;p&gt;Users with an admin role can access training cards but they need to have a contact associated in the &lt;code&gt;org.couchdb.user:[user-name]&lt;/code&gt; document from CouchDB.&lt;/p&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h1&gt;Step 4: Add multimedia to the training form&lt;/h1&gt;&lt;p&gt;If your training form has images, create a folder with the same name as the form and add &lt;code&gt;-media&lt;/code&gt; suffix. In our example, the form name is &lt;code&gt;my_new_feature&lt;/code&gt;, then the folder name should be &lt;code&gt;my_new_feature-media&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Inside that new folder, make another one called images and put inside all the &lt;code&gt;images&lt;/code&gt; that your form needs. See more about &lt;a href="https://docs.communityhealthtoolkit.org/building/forms/configuring/multimedia/"&gt;multimedia in forms&lt;/a&gt;.&lt;/p&gt;
&lt;h1&gt;Step 5: Put everything in the right place&lt;/h1&gt;&lt;p&gt;In your project configuration folder, place the XLS form, the properties file, and the media folder inside &lt;code&gt;/forms/training/&lt;/code&gt;. The file structure should look like this:&lt;/p&gt;
&lt;figure class="left col-10"&gt;&lt;a href="step-5-file-structure.png"&gt;&lt;img src="https://docs.communityhealthtoolkit.org/building/training/training-cards/training-cards-configuration/step-5-file-structure.png"&gt;&lt;/a&gt;
&lt;/figure&gt;
&lt;h1&gt;Step 6: Convert and upload the training form&lt;/h1&gt;&lt;p&gt;Open the terminal and use the latest version of the &lt;code&gt;cht&lt;/code&gt; command line tool to convert and upload the training form:&lt;/p&gt;
&lt;p&gt;Convert the form by running this command:&lt;/p&gt;
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"&gt;
&lt;div&gt;&lt;pre&gt;&lt;code&gt;cht --url=[instance_url] convert-training-forms -- [form_name]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"&gt;
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
&gt;
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"&gt;&lt;/div&gt;
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"&gt;&lt;/div&gt;
&lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Example:&lt;/p&gt;
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"&gt;
&lt;div&gt;&lt;pre&gt;&lt;code&gt;cht --url=http://admin-user:secretpass@my-xyz-project.org convert-training-forms -- my_new_feature&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"&gt;
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
&gt;
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"&gt;&lt;/div&gt;
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"&gt;&lt;/div&gt;
&lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Upload the form by running this command:&lt;/p&gt;
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"&gt;
&lt;div&gt;&lt;pre&gt;&lt;code&gt;cht --url=[instance_url] upload-training-forms -- [form_name]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"&gt;
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
&gt;
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"&gt;&lt;/div&gt;
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"&gt;&lt;/div&gt;
&lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Example:&lt;/p&gt;
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"&gt;
&lt;div&gt;&lt;pre&gt;&lt;code&gt;cht --url=http://admin-user:secretpass@my-xyz-project.org upload-training-forms -- my_new_feature&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"&gt;
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
&gt;
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"&gt;&lt;/div&gt;
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"&gt;&lt;/div&gt;
&lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h1&gt;Step 7: Verify and monitor&lt;/h1&gt;&lt;p&gt;At this point the training cards are ready to use. You can verify by logging in with a user that has a valid role assigned for the training card, on the day that the training starts. Remember, to sync the app to see the results (the uncompleted training will display once a day).&lt;/p&gt;
&lt;p&gt;Using &lt;a href="https://docs.communityhealthtoolkit.org/technical-overview/data/performance/telemetry/"&gt;telemetry&lt;/a&gt; you can monitor user interaction with each training card &amp;ldquo;set&amp;rdquo;. Some key metrics you can view include:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Number of times each user was presented with training cards&lt;/li&gt;
&lt;li&gt;The date(s) each user was presented with training cards&lt;/li&gt;
&lt;li&gt;Number of times each user completed a training card set*&lt;/li&gt;
&lt;li&gt;The min/max amount of time each user spent viewing the training cards&lt;/li&gt;
&lt;li&gt;The device_id of any device from which the user saw the training cards&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;em&gt;* Training Cards are designed to only be viewed once so this should normally only ever be 0 or 1. It is possible that a user deletes the training &amp;ldquo;report&amp;rdquo;, in which case they would be presented with training cards again.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Example SQL:&lt;/p&gt;
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"&gt;
&lt;div&gt;&lt;pre&gt;&lt;code&gt;SELECT
doc#&amp;gt;&amp;gt;&amp;#39;{metadata,user}&amp;#39; AS cht_user,
doc#&amp;gt;&amp;gt;&amp;#39;{metadata,deviceId}&amp;#39; AS device_id,
concat(doc#&amp;gt;&amp;gt;&amp;#39;{metadata,year}&amp;#39;, &amp;#39;-&amp;#39;, doc#&amp;gt;&amp;gt;&amp;#39;{metadata,month}&amp;#39;, &amp;#39;-&amp;#39;,doc#&amp;gt;&amp;gt;&amp;#39;{metadata,day}&amp;#39;)::date AS telemetry_date,
COALESCE(doc#&amp;gt;&amp;gt;&amp;#39;{metrics,enketo:training:&amp;lt;my_new_feature&amp;gt;:add:render,count}&amp;#39;,&amp;#39;0&amp;#39;)::int AS count_render_training,
COALESCE(doc#&amp;gt;&amp;gt;&amp;#39;{metrics,enketo:training:&amp;lt;my_new_feature&amp;gt;:add:user_edit_time,count}&amp;#39;,&amp;#39;0&amp;#39;)::int AS count_submit_training,
COALESCE(doc#&amp;gt;&amp;gt;&amp;#39;{metrics,enketo:training:&amp;lt;my_new_feature&amp;gt;:add:user_edit_time,max}&amp;#39;,&amp;#39;0&amp;#39;)::int/1000 AS max_seconds_on_form,
COALESCE(doc#&amp;gt;&amp;gt;&amp;#39;{metrics,enketo:training:&amp;lt;my_new_feature&amp;gt;:add:user_edit_time,min}&amp;#39;,&amp;#39;0&amp;#39;)::int/1000 AS min_seconds_on_form
FROM
couchdb_users_meta
WHERE
doc-&amp;gt;&amp;gt;&amp;#39;type&amp;#39;=&amp;#39;telemetry&amp;#39;
AND doc#&amp;gt;&amp;#39;{metadata}&amp;#39; ? &amp;#39;day&amp;#39;
AND doc#&amp;gt;&amp;#39;{metrics}&amp;#39; ? &amp;#39;enketo:training:&amp;lt;my_new_feature&amp;gt;:add:render&amp;#39;
ORDER BY
telemetry_date DESC&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"&gt;
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
&gt;
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"&gt;&lt;/div&gt;
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"&gt;&lt;/div&gt;
&lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;</description></item></channel></rss>