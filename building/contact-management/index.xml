<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Community Health Toolkit – Contact and User Management</title><link>https://docs.communityhealthtoolkit.org/building/contact-management/</link><description>Recent content in Contact and User Management on Community Health Toolkit</description><generator>Hugo -- gohugo.io</generator><language>en</language><atom:link href="https://docs.communityhealthtoolkit.org/building/contact-management/index.xml" rel="self" type="application/rss+xml"/><item><title>Contacts and Users</title><link>https://docs.communityhealthtoolkit.org/building/contact-management/contacts/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.communityhealthtoolkit.org/building/contact-management/contacts/</guid><description>
&lt;!-- ## Contacts: Person and Family Profiles --&gt;
&lt;!-- TODO Refine screenshots, and add desktop view. --&gt;
&lt;p&gt;“People” is the generic name used for individuals in apps built with the Core Framework. They can be patients, family members, nurses or health workers. Anyone with a profile in your app is a person.&lt;/p&gt;
&lt;p&gt;“Places” is the generic name that represents a level in the &lt;a href="https://docs.communityhealthtoolkit.org/building/workflows/hierarchy/"&gt;hierarchy&lt;/a&gt;. “People” belong to “places”, and “places” belong to other higher level “places” in the hierarchy. A “place” could be a geographic area, like a district with the &amp;ldquo;people&amp;rdquo; associated to it being health officers. A &amp;ldquo;place&amp;rdquo; could also be a structure in the health system, such as a health facility, and the &amp;ldquo;people&amp;rdquo; associated to it being nurses. In deployments with CHWs, the lowest &amp;ldquo;place&amp;rdquo; in the hierarchy often represents individual households or families, and the individual members of that household are the &amp;ldquo;people&amp;rdquo; associated to it.&lt;/p&gt;
&lt;p&gt;Users can access their “people” and “places” from the &lt;strong&gt;People&lt;/strong&gt; tab. The permissions set for your role and your placement in the hierarchy will determine which contacts you’re able to see. Advanced configuration options are available for a specific offline user role to manage what &lt;a href="https://docs.communityhealthtoolkit.org/technical-overview/data/performance/replication/#contact-depth"&gt;level of contact data&lt;/a&gt; is downloaded and stored on their device.&lt;/p&gt;
&lt;figure class="right col-6 col-lg-8 bordered-figure"&gt;&lt;a href="people-desktop.png"&gt;&lt;img src="https://docs.communityhealthtoolkit.org/building/contact-management/contacts/people-desktop.png"&gt;&lt;/a&gt;
&lt;/figure&gt;
&lt;h2&gt;Main List&lt;span class="hx:absolute hx:-mt-20" id="main-list"&gt;&lt;/span&gt;
&lt;a href="#main-list" class="subheading-anchor" aria-label="Permalink for this section"&gt;&lt;/a&gt;&lt;/h2&gt;&lt;div class="hextra-cards hx:mt-4 hx:gap-4 hx:grid not-prose" style="--hextra-cards-grid-cols: 3;"&gt;
&lt;figure class="right col-6 col-lg-8 bordered-figure"&gt;&lt;a href="people-mobile.png"&gt;&lt;img src="https://docs.communityhealthtoolkit.org/building/contact-management/contacts/people-mobile.png"&gt;&lt;/a&gt;
&lt;/figure&gt;
&lt;figure class="right col-6 col-lg-8 bordered-figure"&gt;&lt;a href="sort-dropdown.png"&gt;&lt;img src="https://docs.communityhealthtoolkit.org/building/contact-management/contacts/sort-dropdown.png"&gt;&lt;/a&gt;
&lt;/figure&gt;
&lt;/div&gt;
&lt;p&gt;The list view on the leftmost screenshot is what a logged-in CHW would see when they access the “People” tab on a small screen.&lt;/p&gt;
&lt;p&gt;The item at the top of the list is the “place” the user belongs to. Below that is a list of the “places” they serve, represented by families. Individual “people” are not shown here, but will appear in search results.&lt;/p&gt;
&lt;p&gt;Because this list defaults to show the “places” below the user in the hierarchy, a CHW supervisor would see a different view. Instead of families, they might see a list of CHW Areas they manage.&lt;/p&gt;
&lt;p&gt;New “places” can be added to this level of the hierarchy by clicking on the “Add new +” button at the bottom of the screen. This allows a CHW to add a new family to their list, or a CHW supervisor to add a new Area they manage.&lt;/p&gt;
&lt;p&gt;With the &lt;a href="https://docs.communityhealthtoolkit.org/building/uhc-mode/"&gt;&lt;em&gt;UHC Mode&lt;/em&gt;&lt;/a&gt; configured, the main list of households is displayed as shown on the rightmost screenshot to help health workers ensure that all households are visited regularly.&lt;/p&gt;
&lt;h2&gt;Searching&lt;span class="hx:absolute hx:-mt-20" id="searching"&gt;&lt;/span&gt;
&lt;a href="#searching" class="subheading-anchor" aria-label="Permalink for this section"&gt;&lt;/a&gt;&lt;/h2&gt;&lt;div class="hextra-cards hx:mt-4 hx:gap-4 hx:grid not-prose" style="--hextra-cards-grid-cols: 3;"&gt;
&lt;figure class="right col-6 col-lg-8 bordered-figure"&gt;&lt;a href="search-mobile.png"&gt;&lt;img src="https://docs.communityhealthtoolkit.org/building/contact-management/contacts/search-mobile.png"&gt;&lt;/a&gt;
&lt;/figure&gt;
&lt;/div&gt;
&lt;p&gt;Click on the search icon at the top of the screen to search for a “person” or “place”. The freetext search works on all fields included in the “person” or “place” document such as patient name or patient ID. The exact fields depends on which information you’ve configured your app to collect.&lt;/p&gt;
&lt;p&gt;After typing a search term, press the &amp;ldquo;Enter&amp;rdquo; key on your keyboard, then the list filters to show matching items. Searching will only return items that are lower than you in the hierarchy and that you have permission to view.&lt;/p&gt;
&lt;p&gt;To clear the search and return to the default view, click on the arrow icon located to the left of the search box.&lt;/p&gt;
&lt;h2&gt;Profiles&lt;span class="hx:absolute hx:-mt-20" id="profiles"&gt;&lt;/span&gt;
&lt;a href="#profiles" class="subheading-anchor" aria-label="Permalink for this section"&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Clicking an item on the main list will open a profile where you can see detailed information about that person or place. At the top is general information like name and phone number.&lt;/p&gt;
&lt;p&gt;If you’re viewing a place profile, you’ll see a list of people or places that belong to this place in the app hierarchy, such as family members. The star signifies the primary contact.&lt;/p&gt;
&lt;p&gt;Beneath that, you will find tasks for this person or place. At the very bottom is a history of submitted reports for this person or place.&lt;/p&gt;
&lt;div class="hextra-cards hx:mt-4 hx:gap-4 hx:grid not-prose" style="--hextra-cards-grid-cols: 3;"&gt;
&lt;figure class="right col-6 col-lg-8 bordered-figure"&gt;&lt;a href="profile1.png"&gt;&lt;img src="https://docs.communityhealthtoolkit.org/building/contact-management/contacts/profile1.png"&gt;&lt;/a&gt;
&lt;/figure&gt;
&lt;figure class="right col-6 col-lg-8 bordered-figure"&gt;&lt;a href="profile2.png"&gt;&lt;img src="https://docs.communityhealthtoolkit.org/building/contact-management/contacts/profile2.png"&gt;&lt;/a&gt;
&lt;/figure&gt;
&lt;figure class="right col-6 col-lg-8 bordered-figure"&gt;&lt;a href="profile3.png"&gt;&lt;img src="https://docs.communityhealthtoolkit.org/building/contact-management/contacts/profile3.png"&gt;&lt;/a&gt;
&lt;/figure&gt;
&lt;figure class="right col-6 col-lg-8 bordered-figure"&gt;&lt;a href="profile4.png"&gt;&lt;img src="https://docs.communityhealthtoolkit.org/building/contact-management/contacts/profile4.png"&gt;&lt;/a&gt;
&lt;/figure&gt;
&lt;/div&gt;
&lt;p&gt;From profiles, users can edit contact information, take actions, and, if viewing a place profile, add new people and assign a primary contact person. If a place is not at the bottom of the hierarchy, a user can add new places to the level below this.&lt;/p&gt;
&lt;h2&gt;Fields&lt;span class="hx:absolute hx:-mt-20" id="fields"&gt;&lt;/span&gt;
&lt;a href="#fields" class="subheading-anchor" aria-label="Permalink for this section"&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h3&gt;Contact Summary&lt;span class="hx:absolute hx:-mt-20" id="contact-summary"&gt;&lt;/span&gt;
&lt;a href="#contact-summary" class="subheading-anchor" aria-label="Permalink for this section"&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;The top card on all profiles contains general information for the contact. All the fields shown in this summary card are configurable.&lt;/p&gt;
&lt;div class="hextra-cards hx:mt-4 hx:gap-4 hx:grid not-prose" style="--hextra-cards-grid-cols: 3;"&gt;
&lt;figure class="right col-6 col-lg-8 bordered-figure"&gt;&lt;a href="bio1.png"&gt;&lt;img src="https://docs.communityhealthtoolkit.org/building/contact-management/contacts/bio1.png"&gt;&lt;/a&gt;
&lt;/figure&gt;
&lt;figure class="right col-6 col-lg-8 bordered-figure"&gt;&lt;a href="bio2.png"&gt;&lt;img src="https://docs.communityhealthtoolkit.org/building/contact-management/contacts/bio2.png"&gt;&lt;/a&gt;
&lt;/figure&gt;
&lt;/div&gt;
&lt;p&gt;&lt;em&gt;See Also&lt;/em&gt;: &lt;a href="https://docs.communityhealthtoolkit.org/building/contact-summary/contact-summary-templated/#contact-summary"&gt;Defining Contact Summary&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;Condition Cards&lt;span class="hx:absolute hx:-mt-20" id="condition-cards"&gt;&lt;/span&gt;
&lt;a href="#condition-cards" class="subheading-anchor" aria-label="Permalink for this section"&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;A “condition” card displays data on a profile that’s been submitted in a report about that person or place. Data can be pulled from one report or summarize many reports.&lt;/p&gt;
&lt;p&gt;Condition cards can be permanent or conditional; set to appear only when a specific type of report is submitted. They can also be set to disappear when a condition is resolved or a certain amount of time has passed. You can have as many condition cards as you like, though we recommend keeping the user’s experience in mind.&lt;/p&gt;
&lt;p&gt;Configurable elements include:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Title&lt;/li&gt;
&lt;li&gt;Label for each data point displayed&lt;/li&gt;
&lt;li&gt;Data point for the field&lt;/li&gt;
&lt;li&gt;Icon for the field, if desired&lt;/li&gt;
&lt;li&gt;Conditions under which to display&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="hextra-cards hx:mt-4 hx:gap-4 hx:grid not-prose" style="--hextra-cards-grid-cols: 3;"&gt;
&lt;figure class="right col-6 col-lg-8 bordered-figure"&gt;&lt;a href="condition-card1.png"&gt;&lt;img src="https://docs.communityhealthtoolkit.org/building/contact-management/contacts/condition-card1.png"&gt;&lt;/a&gt;
&lt;/figure&gt;
&lt;figure class="right col-6 col-lg-8 bordered-figure"&gt;&lt;a href="condition-card2.png"&gt;&lt;img src="https://docs.communityhealthtoolkit.org/building/contact-management/contacts/condition-card2.png"&gt;&lt;/a&gt;
&lt;/figure&gt;
&lt;/div&gt;
&lt;p&gt;&lt;em&gt;See Also&lt;/em&gt;: &lt;a href="https://docs.communityhealthtoolkit.org/building/contact-summary/contact-summary-templated/#condition-cards"&gt;Defining Condition Cards&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Care Guides&lt;span class="hx:absolute hx:-mt-20" id="care-guides"&gt;&lt;/span&gt;
&lt;a href="#care-guides" class="subheading-anchor" aria-label="Permalink for this section"&gt;&lt;/a&gt;&lt;/h2&gt;&lt;!-- todo: Resolve Care Guides vs Actions --&gt;
&lt;div class="hextra-cards hx:mt-4 hx:gap-4 hx:grid not-prose" style="--hextra-cards-grid-cols: 3;"&gt;
&lt;figure class="right col-6 col-lg-8 bordered-figure"&gt;&lt;a href="care-guides.png"&gt;&lt;img src="https://docs.communityhealthtoolkit.org/building/contact-management/contacts/care-guides.png"&gt;&lt;/a&gt;
&lt;/figure&gt;
&lt;/div&gt;
&lt;p&gt;“Care Guides” are dynamic forms that you can fill out for a person or place. You can access Care Guides by clicking on the + button at the bottom of a profile. For more info, see the &lt;a href="https://docs.communityhealthtoolkit.org/building/care-guides/"target="_blank" rel="noopener"&gt;Care Guides overview page&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;You’ll see different forms here depending on which person or place you’re viewing. For example, forms for families might include a “Family Survey.” Forms for adult women might include “New Pregnancy.” Forms for adult women who have had a pregnancy report, and no delivery yet reported, would also see “ANC visit.” Forms for children might include “Under-5 Assessment” or “Growth Monitoring.”&lt;/p&gt;
&lt;p&gt;Health workers can use these Care Guides at any time. If the app has scheduled a care visit or follow up, it will be listed under “Tasks.”&lt;/p&gt;
&lt;p&gt;&lt;em&gt;See Also&lt;/em&gt;: &lt;a href="https://docs.communityhealthtoolkit.org/building/contact-summary/contact-summary-templated/#care-guides"&gt;Defining Care Guides&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Creating and Editing Contacts&lt;span class="hx:absolute hx:-mt-20" id="creating-and-editing-contacts"&gt;&lt;/span&gt;
&lt;a href="#creating-and-editing-contacts" class="subheading-anchor" aria-label="Permalink for this section"&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Contacts are created/modified via &lt;a href="https://docs.communityhealthtoolkit.org/building/forms/contact/"&gt;contact forms&lt;/a&gt;. These forms are highly configurable and allow for specifying detailed workflows for capturing information about contacts.&lt;/p&gt;
&lt;h3&gt;Duplicate Contact Detection&lt;span class="hx:absolute hx:-mt-20" id="duplicate-contact-detection"&gt;&lt;/span&gt;
&lt;a href="#duplicate-contact-detection" class="subheading-anchor" aria-label="Permalink for this section"&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;em&gt;(Added in CHT &lt;code&gt;4.19.0&lt;/code&gt;)&lt;/em&gt;&lt;/p&gt;
&lt;div class="hextra-cards hx:mt-4 hx:gap-4 hx:grid not-prose" style="--hextra-cards-grid-cols: 3;"&gt;
&lt;figure class="right col-6 col-lg-8 bordered-figure"&gt;&lt;a href="duplicate-contact-screenshot.png"&gt;&lt;img src="https://docs.communityhealthtoolkit.org/building/contact-management/contacts/duplicate-contact-screenshot.png"&gt;&lt;/a&gt;
&lt;/figure&gt;
&lt;/div&gt;
&lt;p&gt;One major challenge when collecting contact data is ensuring users do not inadvertently enter duplicate records for the same contact. It is important to train users on the &lt;a href="#searching"&gt;searching&lt;/a&gt; functionality described above as this will allow them to find the desired profile of a previously recorded contact instead of creating a duplicate record for the same person or place.&lt;/p&gt;
&lt;p&gt;The CHT also supports automatically detecting when a contact being created or edited by a user matches an existing contact record. If a duplicate contact is detected, the user will be given the option of proceeding to the profile of the existing contact. Alternatively, the user can choose to override the duplicate detection logic and continue creating/editing the contact as originally intended.&lt;/p&gt;
&lt;p&gt;The matching logic for duplicate detection is &lt;a href="https://docs.communityhealthtoolkit.org/building/forms/contact/#properties"&gt;configurable&lt;/a&gt; and can be tuned to the specific needs and data structures of a particular project. The algorithm compares the created/edited contact &lt;em&gt;to its sibling contacts.&lt;/em&gt; These are other contacts of the same type that share the same parent contact. By default, contacts are considered duplicates if they have very similar names AND (for persons) if they are the same age (in years). This default logic can be overridden with custom logic for each type of contact.&lt;/p&gt;</description></item><item><title>Contact and User Management - Part 1</title><link>https://docs.communityhealthtoolkit.org/building/contact-management/contact-and-users-1/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.communityhealthtoolkit.org/building/contact-management/contact-and-users-1/</guid><description>
&lt;p&gt;In this tutorial you will learn how to create and edit contacts and their associated users in and application built with the CHT using the default contact creation forms. This will help you get familiar with the UI of the webapp as well as some features and functionality. If you are already comfortable with this, you can skip to &lt;a href="https://docs.communityhealthtoolkit.org/building/contact-management/contact-and-users-2/"target="_blank" rel="noopener"&gt;part 2, which covers manipulating contacts and their associated documents using cht-conf&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Brief Overview of Key Concepts&lt;span class="hx:absolute hx:-mt-20" id="brief-overview-of-key-concepts"&gt;&lt;/span&gt;
&lt;a href="#brief-overview-of-key-concepts" class="subheading-anchor" aria-label="Permalink for this section"&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;&lt;em&gt;Contacts&lt;/em&gt; are people or places that are created in the CHT application.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;People&lt;/em&gt; are both patients in the system and users of the system, such as CHWs or Nurses.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Places&lt;/em&gt; represent either an actual physical location such as a health facility, clinic, or a grouping such as a household or CHW Area.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Contact forms&lt;/em&gt; are forms in the CHT app that are used to create people or places.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;CHT App Hierarchy&lt;/em&gt; is often modeled after the health system, health program or community structure. All people who are registered in the app must be associated with a Place. These Places are located in a hierarchy with other Places. For instance, a Family Member is part of a Household. A Household and CHWs are part of a CHW Area. A CHW Area and nurses are part of a Health Facility. Additional levels may be added as needed. The Admin level operates outside of the hierarchy and gives access to all levels and people.&lt;/p&gt;
&lt;figure&gt;&lt;a href="app-hierarchy.jpg"&gt;&lt;img src="https://docs.communityhealthtoolkit.org/building/contact-management/contact-and-users-1/app-hierarchy.jpg"
alt="Default app hierarchy"&gt;&lt;/a&gt;&lt;figcaption&gt;
&lt;p&gt;Default app hierarchy&lt;/p&gt;
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;&lt;em&gt;Users&lt;/em&gt; represent credentials and roles / permissions for accessing the application. This can either be:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;People who can log into the application, such as CHWs or Nurses or&lt;/li&gt;
&lt;li&gt;Credentials granting external software restricted permissions to perform certain tasks, such as allowing an external service permission to write reports via the api.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Required Resources&lt;span class="hx:absolute hx:-mt-20" id="required-resources"&gt;&lt;/span&gt;
&lt;a href="#required-resources" class="subheading-anchor" aria-label="Permalink for this section"&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;You should have a functioning CHT instance with contact forms configured. Read &lt;a href="https://docs.communityhealthtoolkit.org/building/local-setup/"target="_blank" rel="noopener"&gt;How to set up a CHT local configuration environment&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Implementation Steps&lt;span class="hx:absolute hx:-mt-20" id="implementation-steps"&gt;&lt;/span&gt;
&lt;a href="#implementation-steps" class="subheading-anchor" aria-label="Permalink for this section"&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;In this tutorial, you will work with the default contact forms and the default hierarchy, which is illustrated above in the overview of key concepts.&lt;/p&gt;
&lt;p&gt;While logged in as an admin user, you will first create the Health Facility, CHW Supervisor, CHW Area, and CHW. You will then create the users for the CHW so that they can log in and create households and household members.&lt;/p&gt;
&lt;h3&gt;1. Create New Health Facility&lt;span class="hx:absolute hx:-mt-20" id="1-create-new-health-facility"&gt;&lt;/span&gt;
&lt;a href="#1-create-new-health-facility" class="subheading-anchor" aria-label="Permalink for this section"&gt;&lt;/a&gt;&lt;/h3&gt;&lt;figure class="right col-6 col-lg-8 bordered-figure"&gt;&lt;a href="new-facility/select-new-facility.png"&gt;&lt;img src="https://docs.communityhealthtoolkit.org/building/contact-management/contact-and-users-1/new-facility/select-new-facility.png"&gt;&lt;/a&gt;
&lt;/figure&gt;
&lt;p&gt;While logged into the CHT application, go to the &lt;strong&gt;People tab&lt;/strong&gt; and select &lt;strong&gt;New Health Facility&lt;/strong&gt;&lt;/p&gt;
&lt;figure class="right col-6 col-lg-8 bordered-figure"&gt;&lt;a href="new-facility/skip-primary-contact.png"&gt;&lt;img src="https://docs.communityhealthtoolkit.org/building/contact-management/contact-and-users-1/new-facility/skip-primary-contact.png"&gt;&lt;/a&gt;
&lt;/figure&gt;
&lt;p&gt;For now we will skip creating or assigning a primary contact so that we can focus on creating the new Health Facility.&lt;/p&gt;
&lt;figure class="right col-6 col-lg-8 bordered-figure"&gt;&lt;a href="new-facility/enter-facility-name.png"&gt;&lt;img src="https://docs.communityhealthtoolkit.org/building/contact-management/contact-and-users-1/new-facility/enter-facility-name.png"&gt;&lt;/a&gt;
&lt;/figure&gt;
&lt;p&gt;Enter the details of the Health Facility and submit the form.&lt;/p&gt;
&lt;figure class="right col-6 col-lg-8 bordered-figure"&gt;&lt;a href="new-facility/created-facility.png"&gt;&lt;img src="https://docs.communityhealthtoolkit.org/building/contact-management/contact-and-users-1/new-facility/created-facility.png"&gt;&lt;/a&gt;
&lt;/figure&gt;
&lt;p&gt;You should see the newly created Health Facility appear on the left-hand side and when you select it, you will see details of the Health Facility appear on the right-hand side.&lt;/p&gt;
&lt;h3&gt;2. Create CHW Area and CHW&lt;span class="hx:absolute hx:-mt-20" id="2-create-chw-area-and-chw"&gt;&lt;/span&gt;
&lt;a href="#2-create-chw-area-and-chw" class="subheading-anchor" aria-label="Permalink for this section"&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;We will now create a Place and the primary contact for it within one form. We want to create a CHW Area within the Health Facility that we previously created.&lt;/p&gt;
&lt;figure class="right col-6 col-lg-8 bordered-figure"&gt;&lt;a href="new-chw-area/new-chw-area-fab.png"&gt;&lt;img src="https://docs.communityhealthtoolkit.org/building/contact-management/contact-and-users-1/new-chw-area/new-chw-area-fab.png"&gt;&lt;/a&gt;
&lt;/figure&gt;
&lt;p&gt;Select the &lt;strong&gt;Health Facility&lt;/strong&gt; on the left-hand side. You will then select the Floating Action Button (FAB) that opens a menu with all actions.&lt;/p&gt;
&lt;figure class="right col-6 col-lg-8 bordered-figure"&gt;&lt;a href="new-chw-area/new-chw-area.png"&gt;&lt;img src="https://docs.communityhealthtoolkit.org/building/contact-management/contact-and-users-1/new-chw-area/new-chw-area.png"&gt;&lt;/a&gt;
&lt;/figure&gt;
&lt;p&gt;In the FAB menu select &lt;strong&gt;New Area&lt;/strong&gt;.&lt;/p&gt;
&lt;figure class="right col-6 col-lg-8 bordered-figure"&gt;&lt;a href="new-chw-area/create-new-person.png"&gt;&lt;img src="https://docs.communityhealthtoolkit.org/building/contact-management/contact-and-users-1/new-chw-area/create-new-person.png"&gt;&lt;/a&gt;
&lt;/figure&gt;
&lt;p&gt;Select the option that lets you create a new person within the form. This person will automatically become the primary contact for the created place.&lt;/p&gt;
&lt;figure class="right col-6 col-lg-8 bordered-figure"&gt;&lt;a href="new-chw-area/fill-required-fields.png"&gt;&lt;img src="https://docs.communityhealthtoolkit.org/building/contact-management/contact-and-users-1/new-chw-area/fill-required-fields.png"&gt;&lt;/a&gt;
&lt;/figure&gt;
&lt;p&gt;Fill in the required fields and go to the next section.&lt;/p&gt;
&lt;figure class="right col-6 col-lg-8 bordered-figure"&gt;&lt;a href="new-chw-area/name-after-primary-contact.png"&gt;&lt;img src="https://docs.communityhealthtoolkit.org/building/contact-management/contact-and-users-1/new-chw-area/name-after-primary-contact.png"&gt;&lt;/a&gt;
&lt;/figure&gt;
&lt;p&gt;You will get an option to name the Place after the created contact person or name it yourself. If you select &lt;strong&gt;Yes&lt;/strong&gt;, the new place will be named &lt;code&gt;&amp;lt;contact-name&amp;gt;'s Area&lt;/code&gt;. For example &lt;code&gt;Jane Doe's Area&lt;/code&gt;.&lt;/p&gt;
&lt;figure class="right col-6 col-lg-8 bordered-figure"&gt;&lt;a href="new-chw-area/created-chw-area.png"&gt;&lt;img src="https://docs.communityhealthtoolkit.org/building/contact-management/contact-and-users-1/new-chw-area/created-chw-area.png"&gt;&lt;/a&gt;
&lt;/figure&gt;
&lt;p&gt;Once you submit, a new CHW Area will be created. On the right-hand you should see the CHW Area name, the primary contact of the CHW Area, and the Health Facility that the CHW Area belongs to.&lt;/p&gt;
&lt;h3&gt;3. Create CHW Supervisor&lt;span class="hx:absolute hx:-mt-20" id="3-create-chw-supervisor"&gt;&lt;/span&gt;
&lt;a href="#3-create-chw-supervisor" class="subheading-anchor" aria-label="Permalink for this section"&gt;&lt;/a&gt;&lt;/h3&gt;&lt;figure class="right col-6 col-lg-8 bordered-figure"&gt;&lt;a href="new-chw-supervisor/new-person.png"&gt;&lt;img src="https://docs.communityhealthtoolkit.org/building/contact-management/contact-and-users-1/new-chw-supervisor/new-person.png"&gt;&lt;/a&gt;
&lt;/figure&gt;
&lt;p&gt;To create a primary contact for an existing Place (in this case, for the Health Facility that we created without a primary contact); select the Place and then select the Floating Action Button (FAB) that opens a menu with all actions, in the menu select the &lt;strong&gt;New Person&lt;/strong&gt; action.&lt;/p&gt;
&lt;figure class="right col-6 col-lg-8 bordered-figure"&gt;&lt;a href="new-chw-supervisor/belongs-to.png"&gt;&lt;img src="https://docs.communityhealthtoolkit.org/building/contact-management/contact-and-users-1/new-chw-supervisor/belongs-to.png"&gt;&lt;/a&gt;
&lt;/figure&gt;
&lt;p&gt;A &lt;em&gt;new person form&lt;/em&gt; will appear with an option to change the Place the new person will belong to. A new contact will be created in the Health Facility when you submit this form.&lt;/p&gt;
&lt;figure class="right col-6 col-lg-8 bordered-figure"&gt;&lt;a href="new-chw-supervisor/edit-facility.png"&gt;&lt;img src="https://docs.communityhealthtoolkit.org/building/contact-management/contact-and-users-1/new-chw-supervisor/edit-facility.png"&gt;&lt;/a&gt;
&lt;/figure&gt;
&lt;p&gt;Finally, we will set the newly created person as a primary contact for the Health Facility they belong to. To do this, select the Health Facility and then in the More Options (⋮) menu select the &lt;strong&gt;Edit&lt;/strong&gt; action.&lt;/p&gt;
&lt;figure class="right col-6 col-lg-8 bordered-figure"&gt;&lt;a href="new-chw-supervisor/set-primary-contact.png"&gt;&lt;img src="https://docs.communityhealthtoolkit.org/building/contact-management/contact-and-users-1/new-chw-supervisor/set-primary-contact.png"&gt;&lt;/a&gt;
&lt;/figure&gt;
&lt;p&gt;You should see an edit form from which you can set the primary contact of the Health Facility. Click &lt;strong&gt;Submit&lt;/strong&gt; to apply the changes.&lt;/p&gt;
&lt;h3&gt;4. Create the CHW User&lt;span class="hx:absolute hx:-mt-20" id="4-create-the-chw-user"&gt;&lt;/span&gt;
&lt;a href="#4-create-the-chw-user" class="subheading-anchor" aria-label="Permalink for this section"&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;You may want to log in as a CHW and perform some actions now that the CHW and CHW Supervisor contacts are created; let&amp;rsquo;s create a CHW user who&amp;rsquo;s linked to the CHW contact we created earlier.&lt;/p&gt;
&lt;figure class="right col-6 col-lg-8 bordered-figure"&gt;&lt;a href="new-chw-user/app-settings.png"&gt;&lt;img src="https://docs.communityhealthtoolkit.org/building/contact-management/contact-and-users-1/new-chw-user/app-settings.png"&gt;&lt;/a&gt;
&lt;/figure&gt;
&lt;p&gt;Go to the &lt;strong&gt;hamburger menu&lt;/strong&gt; and select &lt;strong&gt;App Settings&lt;/strong&gt;.&lt;/p&gt;
&lt;figure class="right col-6 col-lg-8 bordered-figure"&gt;&lt;a href="new-chw-user/add-user.png"&gt;&lt;img src="https://docs.communityhealthtoolkit.org/building/contact-management/contact-and-users-1/new-chw-user/add-user.png"&gt;&lt;/a&gt;
&lt;/figure&gt;
&lt;p&gt;When you are on the &lt;strong&gt;App Settings&lt;/strong&gt; page, select &lt;strong&gt;Users&lt;/strong&gt; on the left-hand side and then select &lt;strong&gt;Add User&lt;/strong&gt; on the right-hand side.&lt;/p&gt;
&lt;figure class="right col-6 col-lg-8 bordered-figure"&gt;&lt;a href="new-chw-user/fill-user-details.png"&gt;&lt;img src="https://docs.communityhealthtoolkit.org/building/contact-management/contact-and-users-1/new-chw-user/fill-user-details.png"&gt;&lt;/a&gt;
&lt;/figure&gt;
&lt;p&gt;You should now see an &lt;strong&gt;Add User Form&lt;/strong&gt;. Fill in the user name, then select the role as &lt;strong&gt;CHW&lt;/strong&gt; or &lt;strong&gt;Regional Admin&lt;/strong&gt;. In the &lt;strong&gt;Place&lt;/strong&gt; field, select the name of the CHW Area whose CHW you want to create a user for (you can search by typing the first few letters of the CHW Area name). Once that is done, under the &lt;strong&gt;Associate Contact&lt;/strong&gt; field select the name of the CHW whose user you are creating. Finally, input a password and hit &lt;strong&gt;Submit&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Once this is done, you can logout and log into the app using the username and password that you just created.&lt;/p&gt;
&lt;h2&gt;Frequently Asked Questions&lt;span class="hx:absolute hx:-mt-20" id="frequently-asked-questions"&gt;&lt;/span&gt;
&lt;a href="#frequently-asked-questions" class="subheading-anchor" aria-label="Permalink for this section"&gt;&lt;/a&gt;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="https://forum.communityhealthtoolkit.org/t/is-there-any-downside-of-creating-too-many-users/531"target="_blank" rel="noopener"&gt;Is there any downside of creating too many users?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://forum.communityhealthtoolkit.org/t/for-offline-users-how-often-does-the-app-try-to-refresh-if-there-is-an-available-internet-connection/503"target="_blank" rel="noopener"&gt;For offline users, how often does the app try to refresh if there is an available internet connection?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://forum.communityhealthtoolkit.org/t/can-one-person-belong-to-multiple-places-in-the-same-hierarchy/101"target="_blank" rel="noopener"&gt;Can one person belong to multiple places in the same hierarchy?&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Contact and User Management - Part 2</title><link>https://docs.communityhealthtoolkit.org/building/contact-management/contact-and-users-2/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.communityhealthtoolkit.org/building/contact-management/contact-and-users-2/</guid><description>
&lt;p&gt;In this tutorial you will learn how to create and edit contacts and their associated users in the CHT application using cht-conf. If you haven&amp;rsquo;t already, have a look at &lt;a href="https://docs.communityhealthtoolkit.org/building/contact-management/contact-and-users-1/"target="_blank" rel="noopener"&gt;part 1&lt;/a&gt; of this tutorial for a useful overview of key concepts.&lt;/p&gt;
&lt;h2&gt;Brief Overview of Key Concepts&lt;span class="hx:absolute hx:-mt-20" id="brief-overview-of-key-concepts"&gt;&lt;/span&gt;
&lt;a href="#brief-overview-of-key-concepts" class="subheading-anchor" aria-label="Permalink for this section"&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;&lt;a href="https://github.com/medic/cht-conf"target="_blank" rel="noopener"&gt;&lt;em&gt;cht-conf&lt;/em&gt;&lt;/a&gt; is a command-line interface tool to manage and configure your apps built using the Core Framework of the Community Health Toolkit.&lt;/p&gt;
&lt;p&gt;See more &lt;a href="https://docs.communityhealthtoolkit.org/building/contact-management/contact-and-users-1/#brief-overview-of-key-concepts"target="_blank" rel="noopener"&gt;key concepts&lt;/a&gt; in part 1 of this tutorial.&lt;/p&gt;
&lt;h2&gt;Required Resources&lt;span class="hx:absolute hx:-mt-20" id="required-resources"&gt;&lt;/span&gt;
&lt;a href="#required-resources" class="subheading-anchor" aria-label="Permalink for this section"&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;You should have a functioning CHT instance and have cht-conf installed locally. Read &lt;a href="https://docs.communityhealthtoolkit.org/building/local-setup/"target="_blank" rel="noopener"&gt;How to set up a CHT local configuration environment&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Implementation Steps&lt;span class="hx:absolute hx:-mt-20" id="implementation-steps"&gt;&lt;/span&gt;
&lt;a href="#implementation-steps" class="subheading-anchor" aria-label="Permalink for this section"&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;In these steps you are going to create a Health Facility, CHW Areas, primary contacts for the CHW Areas, and their associated users.&lt;/p&gt;
&lt;h3&gt;1. Create Health Facilities (using cht-conf&amp;rsquo;s csv-to-docs and upload-docs features)&lt;span class="hx:absolute hx:-mt-20" id="1-create-health-facilities-using-cht-confs-csv-to-docs-and-upload-docs-features"&gt;&lt;/span&gt;
&lt;a href="#1-create-health-facilities-using-cht-confs-csv-to-docs-and-upload-docs-features" class="subheading-anchor" aria-label="Permalink for this section"&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;To create contacts and their associated users with cht-conf, you will need to create a CSV file with the information of the contacts and the users that you would like to create. The name of the file determines the type of doc created for rows contained in the file.&lt;/p&gt;
&lt;p&gt;For example, file named &lt;code&gt;place.district_hospital.csv&lt;/code&gt; adds the property &lt;code&gt;&amp;quot;type&amp;quot;:&amp;quot;district_hospital&amp;quot;&lt;/code&gt; and a file named &lt;code&gt;person.clinic.csv&lt;/code&gt; adds the property &lt;code&gt;&amp;quot;type&amp;quot;:&amp;quot;person&amp;quot;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Create a CSV file named &lt;code&gt;place.district_hospital.csv&lt;/code&gt; and add the details of the Health Facilities you would like to create.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;name&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Nairobi South Facility&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Nairobi West Facility&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Nairobi East Facility&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Save this file to a folder name &lt;code&gt;csv&lt;/code&gt; in your project&amp;rsquo;s base directory.&lt;/p&gt;
&lt;p&gt;Open terminal or command line. &lt;code&gt;cd&lt;/code&gt; to your project&amp;rsquo;s base directory and then run the command&lt;/p&gt;
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"&gt;
&lt;div&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-zsh" data-lang="zsh"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;cht csv-to-docs&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"&gt;
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
&gt;
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"&gt;&lt;/div&gt;
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"&gt;&lt;/div&gt;
&lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;This will convert rows of the CSV files from the &lt;code&gt;csv&lt;/code&gt; folder to JSON docs that are stored in a &lt;code&gt;json-docs&lt;/code&gt; folder.&lt;/p&gt;
&lt;p&gt;To upload the JSON docs to your local test instance, run the command&lt;/p&gt;
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"&gt;
&lt;div&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-zsh" data-lang="zsh"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;cht --url&lt;span class="o"&gt;=&lt;/span&gt;https://&amp;lt;username&amp;gt;:&amp;lt;password&amp;gt;@localhost --accept-self-signed-certs upload-docs&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"&gt;
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
&gt;
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"&gt;&lt;/div&gt;
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"&gt;&lt;/div&gt;
&lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Be sure to replace the values &lt;code&gt;&amp;lt;username&amp;gt;&lt;/code&gt; and &lt;code&gt;&amp;lt;password&amp;gt;&lt;/code&gt; with the actual username and password of your test instance.&lt;/p&gt;
&lt;h3&gt;2. Create CHW Areas, CHW Contacts and Users (using cht-conf&amp;rsquo;s create-users feature)&lt;span class="hx:absolute hx:-mt-20" id="2-create-chw-areas-chw-contacts-and-users-using-cht-confs-create-users-feature"&gt;&lt;/span&gt;
&lt;a href="#2-create-chw-areas-chw-contacts-and-users-using-cht-confs-create-users-feature" class="subheading-anchor" aria-label="Permalink for this section"&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Next you are going to create CHW Areas for the Health Facilities you created in the step above along with the CHW contacts and users for these CHW Areas.&lt;/p&gt;
&lt;p&gt;Create a CSV file named &lt;code&gt;users.csv&lt;/code&gt; and add the details of the Users, CHW contacts, and CHW Areas you would like to create. Save this file in the base project directory.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;username&lt;/th&gt;
&lt;th&gt;password&lt;/th&gt;
&lt;th&gt;roles&lt;/th&gt;
&lt;th&gt;fullname&lt;/th&gt;
&lt;th&gt;phone&lt;/th&gt;
&lt;th&gt;contact.name&lt;/th&gt;
&lt;th&gt;contact.phone&lt;/th&gt;
&lt;th&gt;contact.sex&lt;/th&gt;
&lt;th&gt;contact.age&lt;/th&gt;
&lt;th&gt;place.type&lt;/th&gt;
&lt;th&gt;place.name&lt;/th&gt;
&lt;th&gt;place.parent&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;mmutiso&lt;/td&gt;
&lt;td&gt;q3Z5-vH5&lt;/td&gt;
&lt;td&gt;district_admin&lt;/td&gt;
&lt;td&gt;Mary Mutiso&lt;/td&gt;
&lt;td&gt;0712345678&lt;/td&gt;
&lt;td&gt;Mary Mutiso&lt;/td&gt;
&lt;td&gt;0712345678&lt;/td&gt;
&lt;td&gt;Female&lt;/td&gt;
&lt;td&gt;36&lt;/td&gt;
&lt;td&gt;health_center&lt;/td&gt;
&lt;td&gt;Mary Mutiso&amp;rsquo;s Area&lt;/td&gt;
&lt;td&gt;&lt;code&gt;&amp;lt;facility uuid&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;figure class="right col-6 col-lg-8 bordered-figure"&gt;&lt;a href="facility-uuid.png"&gt;&lt;img src="https://docs.communityhealthtoolkit.org/building/contact-management/contact-and-users-2/facility-uuid.png"&gt;&lt;/a&gt;
&lt;/figure&gt;
&lt;p&gt;The value &lt;code&gt;place.parent&lt;/code&gt; is the uuid of the Facility to which the CHW Area belongs to. You can get this value by selecting the Health Facility in the webapp and copying the last portion of the url.&lt;/p&gt;
&lt;p&gt;Run the command:&lt;/p&gt;
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"&gt;
&lt;div&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-zsh" data-lang="zsh"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;cht --url&lt;span class="o"&gt;=&lt;/span&gt;https://&amp;lt;username&amp;gt;:&amp;lt;password&amp;gt;@localhost --accept-self-signed-certs create-users&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"&gt;
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
&gt;
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"&gt;&lt;/div&gt;
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"&gt;&lt;/div&gt;
&lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;This will create the CHW Area, the CHW contact, and the user that the CHW will use to log into the application.&lt;/p&gt;
&lt;h2&gt;Frequently Asked Questions&lt;span class="hx:absolute hx:-mt-20" id="frequently-asked-questions"&gt;&lt;/span&gt;
&lt;a href="#frequently-asked-questions" class="subheading-anchor" aria-label="Permalink for this section"&gt;&lt;/a&gt;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="https://forum.communityhealthtoolkit.org/t/can-one-person-belong-to-multiple-places-in-the-same-hierarchy/101"target="_blank" rel="noopener"&gt;Can one person belong to multiple places in the same hierarchy?&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Moving Contacts within the Hierarchy</title><link>https://docs.communityhealthtoolkit.org/building/contact-management/moving-contacts/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.communityhealthtoolkit.org/building/contact-management/moving-contacts/</guid><description>
&lt;p&gt;Contacts are organized into a hierarchy. It is not straight-forward to move contacts from one position in the hierarchy to another because many copies of this hierarchy exist. Use the &lt;code&gt;move-contacts&lt;/code&gt; action in &lt;a href="https://github.com/medic/cht-conf"target="_blank" rel="noopener"&gt;&lt;code&gt;cht-conf&lt;/code&gt;&lt;/a&gt; to assign a new parent to contacts. This command will move the specified contact, all the contacts under that contact, and all reports created by any of those contacts. This action will download all documents that need to be updated, update the lineages within those documents, and then save the updated documents on your local disk. To commit those changes to the database, run the &lt;code&gt;upload-docs&lt;/code&gt; action.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Offline users who have contacts removed from their visible hierarchy will not automatically see those contacts disappear. The contact remains on the user&amp;rsquo;s device. Any updates made to the contact (or any reports created for that contact) will &lt;a href="https://github.com/medic/cht-core/issues/5701"target="_blank" rel="noopener"&gt;silently fail to sync&lt;/a&gt;. These users must be encouraged to clear cache and resync!&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Also impactful, but less serious - this script can cause significant amounts of changes to the database and offline users who have contacts moved into their visible hierarchy may experience lengthy and bandwidth-intensive synchronizations.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Parameter&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;th&gt;Required&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;contacts&lt;/td&gt;
&lt;td&gt;Comma delimited list of contact IDs which will be moved&lt;/td&gt;
&lt;td&gt;Yes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;parent&lt;/td&gt;
&lt;td&gt;ID of the new parent which will be assigned to the provided contacts&lt;/td&gt;
&lt;td&gt;Yes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;docDirectoryPath&lt;/td&gt;
&lt;td&gt;This action outputs files to local disk at this destination&lt;/td&gt;
&lt;td&gt;No. Default &lt;code&gt;json-docs&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Some constraints when moving contacts:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Allowed Parents&lt;/strong&gt; - When moving contacts on WebApp &amp;gt;v3.7, your chosen parent must be listed as a valid parent for the contact as defined in the &lt;a href="https://docs.communityhealthtoolkit.org/building/reference/app-settings/hierarchy/"&gt;configuration for place hierarchy&lt;/a&gt;. For WebApp &amp;lt;v3.7, the default hierarchy is enforced.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Circular Hierarchy&lt;/strong&gt; - Nobody&amp;rsquo;s parent can ever be themself or their child.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Primary Contacts&lt;/strong&gt; - Primary contacts must be a descendant of the place for which they are the primary contact. You may need to select a new primary contact for a place through the WebApp if you&amp;rsquo;d like to move a primary contact to a new place in the hierarchy.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Minification&lt;/strong&gt; - Due to contact &amp;ldquo;minification&amp;rdquo; (#2635) which was implemented in v2.13, this script should not be used for versions prior to v2.13.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Examples&lt;span class="hx:absolute hx:-mt-20" id="examples"&gt;&lt;/span&gt;
&lt;a href="#examples" class="subheading-anchor" aria-label="Permalink for this section"&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Move the contacts with the id &lt;code&gt;contact_1&lt;/code&gt; and &lt;code&gt;contact_2&lt;/code&gt; to have the parent &lt;code&gt;parent_id&lt;/code&gt;. The changes will be in the local folder &lt;code&gt;my_folder&lt;/code&gt; only for review. Run the second command to upload the changes after review.&lt;/p&gt;
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"&gt;
&lt;div&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; cht --instance&lt;span class="o"&gt;=&lt;/span&gt; move-contacts -- --contacts&lt;span class="o"&gt;=&lt;/span&gt;contact_1,contact_2 --parent&lt;span class="o"&gt;=&lt;/span&gt;parent_id --docDirectoryPath&lt;span class="o"&gt;=&lt;/span&gt;my_folder
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; cht --local upload-docs -- --docDirectoryPath&lt;span class="o"&gt;=&lt;/span&gt;my_folder&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"&gt;
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
&gt;
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"&gt;&lt;/div&gt;
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"&gt;&lt;/div&gt;
&lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Move the contact with the id &lt;code&gt;contact_1&lt;/code&gt; to the top of the hierarchy (no parent).&lt;/p&gt;
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"&gt;
&lt;div&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; cht --local move-contacts upload-docs -- --contacts&lt;span class="o"&gt;=&lt;/span&gt;contact_1 --parent&lt;span class="o"&gt;=&lt;/span&gt;root&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"&gt;
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
&gt;
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"&gt;&lt;/div&gt;
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"&gt;&lt;/div&gt;
&lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;</description></item><item><title>CHT User Management tool</title><link>https://docs.communityhealthtoolkit.org/building/contact-management/user-management-tool/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.communityhealthtoolkit.org/building/contact-management/user-management-tool/</guid><description>
&lt;p&gt;The Community Health Toolkit (CHT) is highly configurable and can be customized to support multiple hierarchies and users in the health care system. The CHT user management tool is a user friendly web application that works with the CHT to decentralize the user management process to the subnational levels, increasing efficiency and accuracy. This guide highlights steps for setting up and configuring the user management tool.
The guide has been tailored for specific CHT-supported national community health information systems. Partners and ministries of health are advised to customize the tool to fit their specific needs.
The tool provides templates that can be downloaded and populated.&lt;/p&gt;
&lt;p&gt;The user management tool has various features and fuctionalities including:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Creation of single or bulk (many) users.&lt;/li&gt;
&lt;li&gt;Replacing of existing users&lt;/li&gt;
&lt;li&gt;Moving of an existing place
&lt;ul&gt;
&lt;li&gt;Users can access bulk user templates that they can populate.&lt;/li&gt;
&lt;li&gt;One can validate the entries before the upload.&lt;/li&gt;
&lt;li&gt;Download the user credentials upon upload.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Validation of input for completeness and accuracy. The tool identifies errors that the can be corrected.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;Configuring the CHT User Management tool&lt;/h1&gt;&lt;h2&gt;Implementation Steps&lt;span class="hx:absolute hx:-mt-20" id="implementation-steps"&gt;&lt;/span&gt;
&lt;a href="#implementation-steps" class="subheading-anchor" aria-label="Permalink for this section"&gt;&lt;/a&gt;&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Clone the &lt;code&gt;cht-user-management&lt;/code&gt; repository.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Create a new folder under &lt;code&gt;src/config&lt;/code&gt; with your required instance eg. chis-znz&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Within that new folder create a &lt;code&gt;config.json&lt;/code&gt; file with the following parameters&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Property&lt;/th&gt;
&lt;th&gt;Type&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;domains&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Array&lt;/td&gt;
&lt;td&gt;Controls the list of instances which the user can login to&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;domains.friendly&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;string&lt;/td&gt;
&lt;td&gt;Friendly name for the instance (eg. &amp;ldquo;Migori&amp;rdquo;)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;domains.domain&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;string&lt;/td&gt;
&lt;td&gt;Hostname for the instance (eg. &amp;ldquo;migori-echis.health.go.ke&amp;rdquo;)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;domains.useHttp&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;boolean&lt;/td&gt;
&lt;td&gt;Whether to make an insecure connection (http) to the hostname (defaults to false)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;contact_types&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Array&lt;/td&gt;
&lt;td&gt;One element for each type of user which can be created by the system&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;contact_types.name&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;string&lt;/td&gt;
&lt;td&gt;The name of the contact_type as it &lt;a href="https://docs.communityhealthtoolkit.org/apps/reference/app-settings/hierarchy/"target="_blank" rel="noopener"&gt;appears in the app&amp;rsquo;s base_settings.json&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;contact_types.friendly&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;string&lt;/td&gt;
&lt;td&gt;Friendly name of the contact type&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;contact_types.contact_type&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;string&lt;/td&gt;
&lt;td&gt;The contact_type of the primary contact. &lt;a href="https://docs.communityhealthtoolkit.org/apps/reference/app-settings/hierarchy/"target="_blank" rel="noopener"&gt;As defined in base_settings.json&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;contact_types.contact_friendly&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;string&lt;/td&gt;
&lt;td&gt;Friendly name of the primary contact type&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;contact_types.user_role&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;string[]&lt;/td&gt;
&lt;td&gt;A list of allowed &lt;a href="https://docs.communityhealthtoolkit.org/apps/reference/app-settings/user-roles/"target="_blank" rel="noopener"&gt;user roles&lt;/a&gt;. If only one is provided, it will be used by default.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;contact_types.username_from_place&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;boolean&lt;/td&gt;
&lt;td&gt;When true, the username is generated from the place&amp;rsquo;s name. When false, the username is generated from the primary contact&amp;rsquo;s name. Default is false.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;contact_types.hierarchy&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Array&lt;ConfigProperty&gt;&lt;/td&gt;
&lt;td&gt;Defines how this &lt;code&gt;contact_type&lt;/code&gt; is connected into the hierarchy. An element with &lt;code&gt;level:1&lt;/code&gt; (parent) is required and additional elements can be provided to support disambiguation. See &lt;a href="#configproperty"&gt;ConfigProperty&lt;/a&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;contact_types.hierarchy.level&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;integer&lt;/td&gt;
&lt;td&gt;The hierarchy element with &lt;code&gt;level:1&lt;/code&gt; is the parent, &lt;code&gt;level:3&lt;/code&gt; is the great grandparent.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;contact_types.replacement_property&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Property&lt;/td&gt;
&lt;td&gt;Defines how this &lt;code&gt;contact_type&lt;/code&gt; is described when being replaced. The &lt;code&gt;property_name&lt;/code&gt; is always &lt;code&gt;replacement&lt;/code&gt;. See &lt;a href="#configproperty"&gt;ConfigProperty&lt;/a&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;contact_types.place_properties&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Array&lt;ConfigProperty&gt;&lt;/td&gt;
&lt;td&gt;Defines the attributes which are collected and set on the user&amp;rsquo;s created place. See &lt;a href="#configproperty"&gt;ConfigProperty&lt;/a&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;contact_types.contact_properties&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Array&lt;ConfigProperty&gt;&lt;/td&gt;
&lt;td&gt;Defines the attributes which are collected and set on the user&amp;rsquo;s primary contact doc. See &lt;a href="#configproperty"&gt;ConfigProperty&lt;/a&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;contact_types.deactivate_users_on_replace&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;boolean&lt;/td&gt;
&lt;td&gt;Controls what should happen to the defunct contact and user documents when a user is replaced. When &lt;code&gt;false&lt;/code&gt;, the contact and user account will be deleted. When &lt;code&gt;true&lt;/code&gt;, the contact will be unaltered and the user account will be assigned the role &lt;code&gt;deactivated&lt;/code&gt;. This allows for account restoration.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;logoBase64&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Image in base64&lt;/td&gt;
&lt;td&gt;Logo image for your project&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Add reference to your configuration folder(that you have just added above) in &lt;code&gt;src/config/config-factory.ts&lt;/code&gt;. For example &lt;code&gt;import znzConfig from './chis-znz'&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Configure the &lt;code&gt;config.json&lt;/code&gt; file.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;ConfigProperty&lt;span class="hx:absolute hx:-mt-20" id="configproperty"&gt;&lt;/span&gt;
&lt;a href="#configproperty" class="subheading-anchor" aria-label="Permalink for this section"&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;The ConfigProperty is a data structure used several times within the &lt;code&gt;config.json&lt;/code&gt; file and defines a property on an object. The ConfigProperty include:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Property&lt;/th&gt;
&lt;th&gt;Type&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;friendly_name&lt;/td&gt;
&lt;td&gt;string&lt;/td&gt;
&lt;td&gt;Defines how this data will be labeled in CSV files and throughout the user experience.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;property_name&lt;/td&gt;
&lt;td&gt;string&lt;/td&gt;
&lt;td&gt;Defines how the value will be stored on the object.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;type&lt;/td&gt;
&lt;td&gt;ConfigPropertyType&lt;/td&gt;
&lt;td&gt;Defines the validation rules, and auto-formatting rules. See &lt;a href="#configpropertytype"&gt;ConfigPropertyType&lt;/a&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;parameter&lt;/td&gt;
&lt;td&gt;any&lt;/td&gt;
&lt;td&gt;See &lt;a href="#configpropertytype"&gt;ConfigPropertyType&lt;/a&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;required&lt;/td&gt;
&lt;td&gt;boolean&lt;/td&gt;
&lt;td&gt;True if the object should not exist without this information.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4&gt;ConfigPropertyType&lt;span class="hx:absolute hx:-mt-20" id="configpropertytype"&gt;&lt;/span&gt;
&lt;a href="#configpropertytype" class="subheading-anchor" aria-label="Permalink for this section"&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;The &lt;code&gt;ConfigPropertyType&lt;/code&gt; defines a property&amp;rsquo;s validation rules and auto-formatting rules. The optional &lt;code&gt;parameter&lt;/code&gt; information alters the behavior of the &lt;code&gt;ConfigPropertyType&lt;/code&gt;.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Type&lt;/th&gt;
&lt;th&gt;Validation Rules&lt;/th&gt;
&lt;th&gt;Auto Formatting Rules&lt;/th&gt;
&lt;th&gt;Validator&lt;/th&gt;
&lt;th&gt;Parameter&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;string&lt;/td&gt;
&lt;td&gt;Must be defined&lt;/td&gt;
&lt;td&gt;Removes double whitespaces, leading or trailing whitespaces, and any character which is not alphanumeric or &lt;code&gt; ()\-'&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;None&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;name&lt;/td&gt;
&lt;td&gt;Must be defined&lt;/td&gt;
&lt;td&gt;Same as string + title case + &lt;code&gt;parameter&lt;/code&gt; behavior&lt;/td&gt;
&lt;td&gt;One or more regexes which are removed from the value when matched (eg. &lt;code&gt;&amp;quot;parameter&amp;quot;: [&amp;quot;\\sCHU&amp;quot;]&lt;/code&gt; will format &lt;code&gt;this CHU&lt;/code&gt; into &lt;code&gt;This&lt;/code&gt;)&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;regex&lt;/td&gt;
&lt;td&gt;Must match the &lt;code&gt;regex&lt;/code&gt; captured by &lt;code&gt;parameter&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Same as &lt;code&gt;string&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;A regex which must be matched to pass validation (eg. &lt;code&gt;&amp;quot;parameter&amp;quot;: &amp;quot;^\\d{6}$&amp;quot;&lt;/code&gt; will accept only 6 digit numbers)&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;phone&lt;/td&gt;
&lt;td&gt;A valid phone number for the specified locality&lt;/td&gt;
&lt;td&gt;Auto formatting provided by &lt;a href="https://github.com/google/libphonenumber"target="_blank" rel="noopener"&gt;libphonenumber&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;Two letter country code specifying the locality of phone number (eg. &lt;code&gt;&amp;quot;parameter&amp;quot;: &amp;quot;KE&amp;quot;&lt;/code&gt;)&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;generated&lt;/td&gt;
&lt;td&gt;None. No user inputs.&lt;/td&gt;
&lt;td&gt;Uses &lt;a href="https://liquidjs.com"target="_blank" rel="noopener"&gt;LiquidJS&lt;/a&gt; templates to generate data&lt;/td&gt;
&lt;td&gt;None&lt;/td&gt;
&lt;td&gt;&lt;a href="#the-generated-configpropertytype"&gt;Details&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;select_one&lt;/td&gt;
&lt;td&gt;Single choice from a list of options&lt;/td&gt;
&lt;td&gt;Same as &lt;code&gt;string&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;None&lt;/td&gt;
&lt;td&gt;Dictionary where the keys are the option values and the values are the corresponding labels&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;select_multiple&lt;/td&gt;
&lt;td&gt;Multiple choice from a list of options&lt;/td&gt;
&lt;td&gt;Same as &lt;code&gt;string&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;None&lt;/td&gt;
&lt;td&gt;Same as &lt;code&gt;select_one&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;none&lt;/td&gt;
&lt;td&gt;None&lt;/td&gt;
&lt;td&gt;None&lt;/td&gt;
&lt;td&gt;None&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4&gt;The Generated ConfigPropertyType&lt;span class="hx:absolute hx:-mt-20" id="the-generated-configpropertytype"&gt;&lt;/span&gt;
&lt;a href="#the-generated-configpropertytype" class="subheading-anchor" aria-label="Permalink for this section"&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;ContactProperties with &lt;code&gt;type: &amp;quot;generated&amp;quot;&lt;/code&gt; use the &lt;a href="https://liquidjs.com"target="_blank" rel="noopener"&gt;LiquidJS&lt;/a&gt; template engine to populate a property with data. Here is an example of some configuration properties which use &lt;code&gt;&amp;quot;type&amp;quot;: &amp;quot;generated&amp;quot;&lt;/code&gt;:&lt;/p&gt;
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"&gt;
&lt;div&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-json" data-lang="json"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nt"&gt;&amp;#34;place_properties&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nt"&gt;&amp;#34;friendly_name&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;CHP Area Name&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nt"&gt;&amp;#34;property_name&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;name&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nt"&gt;&amp;#34;type&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;generated&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nt"&gt;&amp;#34;parameter&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;{{ contact.name }}&amp;#39;s Area&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nt"&gt;&amp;#34;required&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kc"&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nt"&gt;&amp;#34;contact_properties&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nt"&gt;&amp;#34;friendly_name&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;CHP Name&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nt"&gt;&amp;#34;property_name&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;name&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nt"&gt;&amp;#34;type&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;name&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nt"&gt;&amp;#34;required&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kc"&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"&gt;
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
&gt;
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"&gt;&lt;/div&gt;
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"&gt;&lt;/div&gt;
&lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;The user will be prompted to input the contact&amp;rsquo;s name (CHP Name). The user is &lt;em&gt;not&lt;/em&gt; prompted to input the place&amp;rsquo;s name (CHP Area Name) because the place&amp;rsquo;s name will automatically be assigned a value. In this example, if the user puts &lt;code&gt;john&lt;/code&gt; as the contact&amp;rsquo;s name, then the place will be named &lt;code&gt;John's Area&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The data that is passed to the template is consistent with the properties defined in your configuration.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Variable&lt;/th&gt;
&lt;th&gt;Value&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;place&lt;/td&gt;
&lt;td&gt;Has the attributes from &lt;code&gt;place_properties.property_name&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;contact&lt;/td&gt;
&lt;td&gt;Has the attributes from &lt;code&gt;contact_properties.property_name&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;lineage&lt;/td&gt;
&lt;td&gt;Has the attributes from &lt;code&gt;hierarchy.property_name&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3&gt;Deployment&lt;span class="hx:absolute hx:-mt-20" id="deployment"&gt;&lt;/span&gt;
&lt;a href="#deployment" class="subheading-anchor" aria-label="Permalink for this section"&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;This tool is available via Docker by running &lt;code&gt;docker compose up&lt;/code&gt;. Set the &lt;a href="#environment-variables"&gt;Environment Variables&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Development&lt;span class="hx:absolute hx:-mt-20" id="development"&gt;&lt;/span&gt;
&lt;a href="#development" class="subheading-anchor" aria-label="Permalink for this section"&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Create an environment file by &lt;code&gt;cp env.example .env&lt;/code&gt;. Change &lt;code&gt;INTERFACE&lt;/code&gt; to &lt;code&gt;127.0.0.1&lt;/code&gt; and otherwise see &lt;a href="#environment-variables"&gt;Environment Variables&lt;/a&gt; for more info.&lt;/p&gt;
&lt;p&gt;Then run:&lt;/p&gt;
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"&gt;
&lt;div&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;npm run dev&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"&gt;
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
&gt;
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"&gt;&lt;/div&gt;
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"&gt;&lt;/div&gt;
&lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;or&lt;/p&gt;
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"&gt;
&lt;div&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;npm run build
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;npm start&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"&gt;
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
&gt;
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"&gt;&lt;/div&gt;
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"&gt;&lt;/div&gt;
&lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2&gt;Environment Variables&lt;span class="hx:absolute hx:-mt-20" id="environment-variables"&gt;&lt;/span&gt;
&lt;a href="#environment-variables" class="subheading-anchor" aria-label="Permalink for this section"&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;The &lt;code&gt;env.example&lt;/code&gt; file has example values. Here&amp;rsquo;s what they mean:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Variable&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;th&gt;Sample&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;CONFIG_NAME&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Name of the configuration to use&lt;/td&gt;
&lt;td&gt;&lt;code&gt;chis-ke&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;EXTERNAL_PORT&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Port to use in docker compose when starting the web server&lt;/td&gt;
&lt;td&gt;&lt;code&gt;3000&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;PORT&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;For localhost development environment&lt;/td&gt;
&lt;td&gt;&lt;code&gt;3000&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;COOKIE_PRIVATE_KEY&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;A string used to two-way encryption of cookies. Production values need to be a secret. Suggest &lt;code&gt;uuidgen&lt;/code&gt; to generate&lt;/td&gt;
&lt;td&gt;&lt;code&gt;589a7f23-5bb2-4b77-ac78-f202b9b6d5e3&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;INTERFACE&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Interface to bind to. Leave as &amp;lsquo;0.0.0.0&amp;rsquo; for prod, suggest &amp;lsquo;127.0.0.1&amp;rsquo; for development&lt;/td&gt;
&lt;td&gt;&lt;code&gt;127.0.0.1&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;CHT_DEV_URL_PORT&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;CHT instance when in &lt;code&gt;NODE_ENV===dev&lt;/code&gt;. Needs URL and port&lt;/td&gt;
&lt;td&gt;&lt;code&gt;192-168-1-26.local-ip.medicmobile.org:10463&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;CHT_DEV_HTTP&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&amp;lsquo;false&amp;rsquo; for http &amp;rsquo;true&amp;rsquo; for https&lt;/td&gt;
&lt;td&gt;&lt;code&gt;false&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;Publishing new docker images&lt;span class="hx:absolute hx:-mt-20" id="publishing-new-docker-images"&gt;&lt;/span&gt;
&lt;a href="#publishing-new-docker-images" class="subheading-anchor" aria-label="Permalink for this section"&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Docker images are hosted on &lt;a href="https://gallery.ecr.aws/medic/cht-user-management"target="_blank" rel="noopener"&gt;AWS&amp;rsquo;s Elastic Container Registry (ECR)&lt;/a&gt;. To publish a new version:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Update the &lt;a href="https://github.com/medic/cht-user-management/blob/d992d5d6a911cdc21f610fa48a0ffb3e275bae0d/package.json#L3"target="_blank" rel="noopener"&gt;version string&lt;/a&gt; in the &lt;code&gt;package.json&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Submit a PR and have it merged to &lt;code&gt;main&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/medic/cht-user-management/blob/main/.github/workflows/docker-build.yml"target="_blank" rel="noopener"&gt;Existing CI&lt;/a&gt; will push an image to ECR.&lt;/li&gt;
&lt;/ol&gt;</description></item></channel></rss>