<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Community Health Toolkit â€“ Managing Updates to Applications and Content</title><link>https://docs.communityhealthtoolkit.org/building/guides/updates/</link><description>Recent content in Managing Updates to Applications and Content on Community Health Toolkit</description><generator>Hugo -- gohugo.io</generator><language>en</language><atom:link href="https://docs.communityhealthtoolkit.org/building/guides/updates/index.xml" rel="self" type="application/rss+xml"/><item><title>Feature Flags</title><link>https://docs.communityhealthtoolkit.org/building/guides/updates/feature-flags/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.communityhealthtoolkit.org/building/guides/updates/feature-flags/</guid><description>
&lt;p>Some CHT Core features can be enabled for specific users only. This can be particularly helpful for features that require training. The updated or &amp;ldquo;new&amp;rdquo; version will generally be the system default, but users can be configured to see the &amp;ldquo;old&amp;rdquo; version. If you do nothing when you upgrade, users will automatically start seeing the new version.&lt;/p>
&lt;div class="hx-overflow-x-auto hx-mt-6 hx-flex hx-flex-col hx-rounded-lg hx-border hx-py-4 hx-px-4 contrast-more:hx-border-current contrast-more:dark:hx-border-current hx-border-blue-200 hx-bg-blue-100 hx-text-blue-900 dark:hx-border-blue-200/30 dark:hx-bg-blue-900/30 dark:hx-text-blue-200">
&lt;p class="hx-flex hx-items-center hx-font-medium">&lt;svg height=16px class="hx-inline-block hx-align-middle hx-mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>&lt;/svg>Note&lt;/p>
&lt;div class="hx-w-full hx-min-w-0 hx-leading-7">
&lt;div class="hx-mt-6 hx-leading-7 first:hx-mt-0">&lt;p>Feature flags are used primarily as a way to phase in updates. The old version should be considered deprecated and will be completely removed in a future release.&lt;/p>&lt;/div>
&lt;/div>
&lt;/div>
&lt;h2>Configuration&lt;span class="hx-absolute -hx-mt-20" id="configuration">&lt;/span>
&lt;a href="#configuration" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>If the specific CHT Core feature supports feature flagging, users can be configured to see the &amp;ldquo;old&amp;rdquo; version by means of a &lt;a href="https://docs.communityhealthtoolkit.org/building/reference/app-settings/user-permissions/" >permission&lt;/a>. The permission can be added to existing Roles, or for more granular control and rolling out by cohorts, you can create a new Role with the one permission and add that Role to desired users. The permission will not be included in &lt;code>app_settings&lt;/code> automatically so if you want it to be selectable from the Admin app user interface, you will need to add it to &lt;code>app_settings&lt;/code>.&lt;/p>
&lt;h2>Roll-out Scenarios&lt;span class="hx-absolute -hx-mt-20" id="roll-out-scenarios">&lt;/span>
&lt;a href="#roll-out-scenarios" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>The table below illustrates some potential rollout scenarios and recommended Actions.&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Scenario&lt;/th>
&lt;th>Actions&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>[Default] All users see the &amp;ldquo;new&amp;rdquo; version once you upgrade&lt;/td>
&lt;td>None, just upgrade.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>All users see the &amp;ldquo;old&amp;rdquo; version once you upgrade. All users see the &amp;ldquo;new&amp;rdquo; version at the same time in the future.&lt;/td>
&lt;td>Add the permission to all Roles before you upgrade. When you are ready to transition everyone to the the new version, just remove the permission form all Roles.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>All users see the &amp;ldquo;old&amp;rdquo; version once you upgrade. Roll out the &amp;ldquo;new&amp;rdquo; version in cohorts over time.&lt;/td>
&lt;td>Create a new Role with the one permission and add that role to all users. When you are ready to transition a cohort of users, remove the Role from that cohort.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Some cohorts see the &amp;ldquo;old&amp;rdquo; version/some see the &amp;ldquo;new&amp;rdquo; version once you upgrade. All cohorts seeing the &amp;ldquo;old&amp;rdquo; version start seeing the &amp;ldquo;new&amp;rdquo; version at the same time.&lt;/td>
&lt;td>Create a new Role with the one permission and add it to selected users. When you are ready to transition all cohorts to the &amp;ldquo;new&amp;rdquo; version, remove the Role from all users.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Some cohorts see the &amp;ldquo;old&amp;rdquo; version/some see the &amp;ldquo;new&amp;rdquo; version once you upgrade. Roll out the &amp;ldquo;new&amp;rdquo; version to applicable cohorts over time.&lt;/td>
&lt;td>Create a new Role with the one permission and add it to selected users. When you are ready to transition a cohort of users, remove the Role from those users.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table></description></item><item><title>Preparing to upgrade to CHT 4.0</title><link>https://docs.communityhealthtoolkit.org/building/guides/updates/preparing-for-4/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.communityhealthtoolkit.org/building/guides/updates/preparing-for-4/</guid><description>
&lt;div class="hx-overflow-x-auto hx-mt-6 hx-flex hx-flex-col hx-rounded-lg hx-border hx-py-4 hx-px-4 contrast-more:hx-border-current contrast-more:dark:hx-border-current hx-border-blue-200 hx-bg-blue-100 hx-text-blue-900 dark:hx-border-blue-200/30 dark:hx-bg-blue-900/30 dark:hx-text-blue-200">
&lt;p class="hx-flex hx-items-center hx-font-medium">&lt;svg height=16px class="hx-inline-block hx-align-middle hx-mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>&lt;/svg>Note&lt;/p>
&lt;div class="hx-w-full hx-min-w-0 hx-leading-7">
&lt;div class="hx-mt-6 hx-leading-7 first:hx-mt-0">&lt;p>This guide applies to both self-hosted and Medic hosted deployments.&lt;/p>&lt;/div>
&lt;/div>
&lt;/div>
&lt;h2>Introduction&lt;span class="hx-absolute -hx-mt-20" id="introduction">&lt;/span>
&lt;a href="#introduction" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Medic uses &lt;a href="https://en.wikipedia.org/wiki/Semver#Semantic_versioning" target="_blank" rel="noopener">Semantic Versioning&lt;/a> (aka &amp;ldquo;SemVer&amp;rdquo;) which means that the CHT upgrade from the major 3.x version to the 4.x version denotes there are breaking changes. The key to a successful upgrade will be to understand and plan for these breaking changes. Aside from the Docker hosting infrastructure (out of scope for this prep document), the two breaking changes are around CHT Android and Enketo.
Upgrading to CHT 4.0 can be quite time consuming, especially for large deployments that may need to do handset upgrades in a worst case. The sooner deployments start preparing for the upgrade, the easier it will be when it comes to the upgrade itself. Conveniently, all device and Android app changes to prepare for 4.x are backwards compatible with 3.x. Prepare now, so you will be ready to upgrade sooner than later!&lt;/p>
&lt;h2>CHT Android v1.0.0+&lt;span class="hx-absolute -hx-mt-20" id="cht-android-v100">&lt;/span>
&lt;a href="#cht-android-v100" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>This change is straightforward in that CHT 4.x no longer supports versions &lt;em>before&lt;/em> &lt;code>1.0.0&lt;/code>, so deployments need to update their Play Store app. As of this writing, &lt;a href="https://github.com/medic/cht-android/" target="_blank" rel="noopener">CHT Android&lt;/a> is at &lt;code>1.0.4&lt;/code>. See the &lt;a href="https://docs.communityhealthtoolkit.org/building/guides/android/" >Android docs&lt;/a> on how to update your app and release it. Note that Google&amp;rsquo;s Play Store can often have delays which deployments have no control over. Again, the sooner you start, the better.&lt;/p>
&lt;h3>Versions in use&lt;span class="hx-absolute -hx-mt-20" id="versions-in-use">&lt;/span>
&lt;a href="#versions-in-use" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>After you have published your app, you need to instruct your users to check the Play Store for upgrades. You can then check &lt;a href="https://docs.communityhealthtoolkit.org/building/guides/performance/telemetry/" >CHT Telemetry&lt;/a> to see what CHT Android versions are in use. Assuming you have &lt;a href="https://github.com/medic/cht-sync" target="_blank" rel="noopener">CHT Sync set up&lt;/a> to pull in your CouchDB data to a PostgreSQL database, this query will list Android versions &lt;code>count&lt;/code>s for the current year, broken out by &lt;code>month&lt;/code>, &lt;code>year&lt;/code> and &lt;code>version&lt;/code>:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">SELECT&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">concat&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">doc&lt;/span>&lt;span class="o">#&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;{metadata,year}&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;-&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">lpad&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">doc&lt;/span>&lt;span class="o">#&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;{metadata,month}&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;0&amp;#39;&lt;/span>&lt;span class="p">))&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">as&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">telemetry_month&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">doc&lt;/span>&lt;span class="o">#&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;{device,deviceInfo,app,version}&amp;#39;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">as&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">cht_android_version&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">count&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">distinct&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">doc&lt;/span>&lt;span class="o">#&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;{metadata,user}&amp;#39;&lt;/span>&lt;span class="p">))&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">AS&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">count_distinct_users&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">count&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">distinct&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">doc&lt;/span>&lt;span class="o">#&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;{metadata,deviceId}&amp;#39;&lt;/span>&lt;span class="p">))&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">AS&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">count_distinct_devices&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">count&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">AS&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">count_telemetry&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">couchdb_users_meta&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">WHERE&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">doc&lt;/span>&lt;span class="o">#&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;{type}&amp;#39;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;telemetry&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">AND&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">doc&lt;/span>&lt;span class="o">#&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;{metadata,year}&amp;#39;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">to_char&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">current_date&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;yyyy&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">AND&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">doc&lt;/span>&lt;span class="o">#&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;{device,deviceInfo,app,version}&amp;#39;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">is&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">not&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">null&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">GROUP&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">BY&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">telemetry_month&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">cht_android_version&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">ORDER&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">BY&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">telemetry_month&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">DESC&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">cht_android_version&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">DESC&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">NULLS&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">LAST&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Note that each user can submit many telemetry docs (&lt;code>count_telemetry&lt;/code>), so the query breaks out users (&lt;code>count_distinct_users&lt;/code>) and devices (&lt;code>count_distinct_devices&lt;/code>) for the given month. This means that telemetry counts will be higher than the number of active users. As well, early in the current month, many users may not have had a chance to synchronize their telemetry data yet. For example, this report was run on the 5th of October, so the counts for all three tables are low. Refer to prior months in this case.&lt;/p>
&lt;div class="hx-overflow-x-auto hx-mt-6 hx-flex hx-flex-col hx-rounded-lg hx-border hx-py-4 hx-px-4 contrast-more:hx-border-current contrast-more:dark:hx-border-current hx-border-blue-200 hx-bg-blue-100 hx-text-blue-900 dark:hx-border-blue-200/30 dark:hx-bg-blue-900/30 dark:hx-text-blue-200">
&lt;p class="hx-flex hx-items-center hx-font-medium">&lt;svg height=16px class="hx-inline-block hx-align-middle hx-mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>&lt;/svg>Note&lt;/p>
&lt;div class="hx-w-full hx-min-w-0 hx-leading-7">
&lt;div class="hx-mt-6 hx-leading-7 first:hx-mt-0">&lt;p>In some cases users are accessing the system via the &lt;a href="https://docs.communityhealthtoolkit.org/technical-overview/pwa/" >progressive web app (PWA)&lt;/a> or are online users. We see the &lt;code>cht_android_version&lt;/code> field is empty in this case.&lt;/p>&lt;/div>
&lt;/div>
&lt;/div>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>telemetry_month&lt;/th>
&lt;th>cht_android_version&lt;/th>
&lt;th>count_distinct_users&lt;/th>
&lt;th>count_distinct_devices&lt;/th>
&lt;th>count_telemetry&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>2022-10&lt;/td>
&lt;td>v0.8.0-xwalk&lt;/td>
&lt;td>8&lt;/td>
&lt;td>8&lt;/td>
&lt;td>12&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2022-10&lt;/td>
&lt;td>v0.8.0-webview&lt;/td>
&lt;td>140&lt;/td>
&lt;td>140&lt;/td>
&lt;td>244&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2022-10&lt;/td>
&lt;td>v0.4.34&lt;/td>
&lt;td>2&lt;/td>
&lt;td>2&lt;/td>
&lt;td>2&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2022-10&lt;/td>
&lt;td>&lt;/td>
&lt;td>10&lt;/td>
&lt;td>10&lt;/td>
&lt;td>12&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2022-09&lt;/td>
&lt;td>v0.8.0-xwalk&lt;/td>
&lt;td>17&lt;/td>
&lt;td>18&lt;/td>
&lt;td>139&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2022-09&lt;/td>
&lt;td>v0.8.0-webview&lt;/td>
&lt;td>350&lt;/td>
&lt;td>351&lt;/td>
&lt;td>3255&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2022-09&lt;/td>
&lt;td>v0.5.0&lt;/td>
&lt;td>1&lt;/td>
&lt;td>1&lt;/td>
&lt;td>8&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2022-09&lt;/td>
&lt;td>v0.4.34&lt;/td>
&lt;td>24&lt;/td>
&lt;td>24&lt;/td>
&lt;td>69&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2022-09&lt;/td>
&lt;td>&lt;/td>
&lt;td>64&lt;/td>
&lt;td>61&lt;/td>
&lt;td>143&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2022-08&lt;/td>
&lt;td>v0.8.0-xwalk&lt;/td>
&lt;td>27&lt;/td>
&lt;td>30&lt;/td>
&lt;td>181&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2022-08&lt;/td>
&lt;td>v0.8.0-webview&lt;/td>
&lt;td>365&lt;/td>
&lt;td>376&lt;/td>
&lt;td>3169&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2022-08&lt;/td>
&lt;td>v0.5.0&lt;/td>
&lt;td>1&lt;/td>
&lt;td>1&lt;/td>
&lt;td>12&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2022-08&lt;/td>
&lt;td>v0.4.34&lt;/td>
&lt;td>25&lt;/td>
&lt;td>25&lt;/td>
&lt;td>92&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2022-08&lt;/td>
&lt;td>&lt;/td>
&lt;td>81&lt;/td>
&lt;td>86&lt;/td>
&lt;td>158&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>Active user counts&lt;span class="hx-absolute -hx-mt-20" id="active-user-counts">&lt;/span>
&lt;a href="#active-user-counts" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>You can check the &lt;a href="https://docs.communityhealthtoolkit.org/building/reference/api/#monitoring" >monitoring API&lt;/a> with &lt;code>curl&lt;/code> to check active users for the last &lt;code>30&lt;/code> days. Remember that the users can send a telemetry report once per day, so this active user count will be less than the counts from the query above.&lt;/p>
&lt;p>We&amp;rsquo;ll &lt;a href="https://stedolan.github.io/jq/" target="_blank" rel="noopener">use &lt;code>jq&lt;/code> to filter&lt;/a> out the unrelated metrics. Be sure to replace &lt;code>CHT-URL-HERE&lt;/code> with your production CHT URL:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">curl -s https://CHT-URL-HERE/api/v2/monitoring&lt;span class="se">\?&lt;/span>connected_user_interval&lt;span class="se">\=&lt;/span>&lt;span class="m">30&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> jq &lt;span class="s1">&amp;#39;. | {connected_users}&amp;#39;&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>This call will show the JSON with active users for the last 30 days:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;connected_users&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;count&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">80&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>Users in need of upgrade&lt;span class="hx-absolute -hx-mt-20" id="users-in-need-of-upgrade">&lt;/span>
&lt;a href="#users-in-need-of-upgrade" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>In the above table we can see there&amp;rsquo;s 4 users in the most recent month that are on version &lt;code>v0.11.0-webview&lt;/code>. Let&amp;rsquo;s find their username so we can follow up with them directly. This query is hard coded for the current year (&lt;code>2022&lt;/code>), the current month (&lt;code>3&lt;/code>) and the version &lt;code>v0.11.0-webview&lt;/code>. Be sure to update the query to fit your needs according to which month, year and version you need to search for:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">select&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">distinct&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">doc&lt;/span>&lt;span class="o">#&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;{metadata,user}&amp;#39;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">as&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">user&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">doc&lt;/span>&lt;span class="o">#&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;{device,deviceInfo,app,version}&amp;#39;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">as&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">cht_android_version&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">couchdb_users_meta&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">where&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">doc&lt;/span>&lt;span class="o">#&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;{type}&amp;#39;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;telemetry&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">and&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">doc&lt;/span>&lt;span class="o">#&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;{device,deviceInfo,app,version}&amp;#39;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">is&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">not&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">null&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">and&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">doc&lt;/span>&lt;span class="o">#&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;{metadata,year}&amp;#39;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">to_char&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">current_date&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;yyyy&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">and&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">doc&lt;/span>&lt;span class="o">#&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;{metadata,month}&amp;#39;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">to_char&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">current_date&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;FMMM&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">and&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">doc&lt;/span>&lt;span class="o">#&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;{device,deviceInfo,app,version}&amp;#39;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;v0.11.0-webview&amp;#39;&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>In this case only one user is found:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>user&lt;/th>
&lt;th>cht_android_version&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>adj&lt;/td>
&lt;td>v0.11.0-webview&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>A twist on this query is to remove the version filter. Do not remove the year and month filter as you will get duplicate values for users who have upgraded over time:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">select&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">distinct&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">doc&lt;/span>&lt;span class="o">#&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;{metadata,user}&amp;#39;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">as&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">user&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">doc&lt;/span>&lt;span class="o">#&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;{device,deviceInfo,app,version}&amp;#39;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">as&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">cht_android_version&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">couchdb_users_meta&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">where&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">doc&lt;/span>&lt;span class="o">#&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;{type}&amp;#39;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;telemetry&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">and&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">doc&lt;/span>&lt;span class="o">#&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;{device,deviceInfo,app,version}&amp;#39;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">is&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">not&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">null&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">and&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">doc&lt;/span>&lt;span class="o">#&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;{metadata,year}&amp;#39;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">to_char&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">current_date&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;yyyy&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">and&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">doc&lt;/span>&lt;span class="o">#&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;{metadata,month}&amp;#39;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">to_char&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">current_date&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;FMMM&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>This will give a list of every user and the version they&amp;rsquo;re running as of the current month and year:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>user&lt;/th>
&lt;th>cht_android_version&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>moh-west-chw-1&lt;/td>
&lt;td>v1.0.1-4&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>moh-west-chw-12&lt;/td>
&lt;td>v1.0.1-4&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>moh-west-chw-14&lt;/td>
&lt;td>v1.0.1-4&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>moh-west-chw-3&lt;/td>
&lt;td>v1.0.1-4&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>moh-west-chw-3&lt;/td>
&lt;td>v1.0.1-5&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>moh-west-chw-4&lt;/td>
&lt;td>v1.0.1-5&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>moh-west-chw-5&lt;/td>
&lt;td>v1.0.1-4&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>moh-west-chw-6&lt;/td>
&lt;td>v1.0.1-5&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>moh-west-chw-7&lt;/td>
&lt;td>v1.0.1-5&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>moh-west-chw-8&lt;/td>
&lt;td>v1.0.1-4&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>adj&lt;/td>
&lt;td>v0.11.0-webview&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2>CHT Conf&lt;span class="hx-absolute -hx-mt-20" id="cht-conf">&lt;/span>
&lt;a href="#cht-conf" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>&lt;a href="https://github.com/medic/cht-conf/" target="_blank" rel="noopener">CHT Conf&lt;/a> has been upgraded to be aware of forms written to work in CHT 3.x that may not work in CHT 4.x. Upgrading, can help you identify forms in need of fixing when pushing to dev instances as outlined below.&lt;/p>
&lt;p>To upgrade app, run &lt;code>npm update cht-conf&lt;/code>&lt;/p>
&lt;h2>cht-conf-test-harness&lt;span class="hx-absolute -hx-mt-20" id="cht-conf-test-harness">&lt;/span>
&lt;a href="#cht-conf-test-harness" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>The &lt;a href="http://docs.communityhealthtoolkit.org/cht-conf-test-harness" target="_blank" rel="noopener">cht-conf-test-harness&lt;/a> has &lt;a href="https://forum.communityhealthtoolkit.org/t/announcing-release-of-cht-conf-test-harness-3-0/2393" target="_blank" rel="noopener">been upgraded&lt;/a> (in version 3.x of the cht-conf-test-harness) to support testing CHT 4.x forms. When preparing to upgrade to CHT 4.x, it is important to use the &lt;a href="https://www.npmjs.com/package/cht-conf-test-harness?activeTab=versions" target="_blank" rel="noopener">latest version&lt;/a> of the cht-conf-test-harness for automated testing.&lt;/p>
&lt;p>&lt;em>(Note that the 3.x version of cht-conf-test-harness only supports CHT 4.x. If you are still running CHT 3.x, you should continue using cht-conf-test-harness 2.x.)&lt;/em>&lt;/p>
&lt;p>The &lt;a href="#enketo" >breaking Enketo changes&lt;/a> included in CHT 4.x are reflected in cht-conf-test-harness 3.x. Running your automated tests with the latest test harness can help identify potential form issues.&lt;/p>
&lt;h2>Enketo&lt;span class="hx-absolute -hx-mt-20" id="enketo">&lt;/span>
&lt;a href="#enketo" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>CHT 4.0 &lt;a href="https://github.com/medic/cht-core/pull/7256" target="_blank" rel="noopener">upgrades the version of Enketo&lt;/a> used to render forms. This upgrade provides a ton of bug fixes and enhancements (particularly around ODK spec compliance) which will make the forms experience in the CHT even better! (For example, we now have proper support for &lt;code>repeat&lt;/code>s with a dynamic length, including the various XPath functions necessary to take full advantage of this functionality!) That being said, it does introduce a few changes which may affect the way your forms function (or even cause some forms to fail to load at all).&lt;/p>
&lt;h3>Manual testing&lt;span class="hx-absolute -hx-mt-20" id="manual-testing">&lt;/span>
&lt;a href="#manual-testing" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>You can also manually test your forms on a non-prod CHT instance. It is possible to test your forms against the new Enekto changes without having to uplift your non-prod CHT instance to the new 4.0 architecture.&lt;/p>
&lt;p>An easy way of doing this is to use the &lt;a href="https://docs.communityhealthtoolkit.org/hosting/3.x/app-developer/#cht-docker-helper" >CHT Docker Helper&lt;/a> to deploy a 3.x CHT instance. After you have your dev instance up and running, use &lt;a href="https://github.com/medic/horticulturalist" target="_blank" rel="noopener">Horticulturalist&lt;/a> to upgrade to the &lt;code>3.17.0-FR-enketo-upgrade&lt;/code> &lt;a href="https://docs.communityhealthtoolkit.org/community/contributing/code/releasing/feature_releases/" >feature release&lt;/a>:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">COUCH_URL&lt;/span>&lt;span class="o">=&lt;/span>https://medic:password@*your-my.local.ip.co-address*:8443/medic horti --local --install&lt;span class="o">=&lt;/span>3.17.0-FR-enketo-upgrade-beta.1&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>After pushing your app config (see &amp;ldquo;CHT Conf&amp;rdquo; above), you can proceed to go through each of your forms in a browser and on a device to ensure there&amp;rsquo;s no errors.&lt;/p>
&lt;h3>Notable changes to form behavior&lt;span class="hx-absolute -hx-mt-20" id="notable-changes-to-form-behavior">&lt;/span>
&lt;a href="#notable-changes-to-form-behavior" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;h4>XPath expressions&lt;span class="hx-absolute -hx-mt-20" id="xpath-expressions">&lt;/span>
&lt;a href="#xpath-expressions" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ul>
&lt;li>Proper syntax in XPath expressions is more strictly enforced (e.g. parameters passed to the &lt;code>concat&lt;/code> function must be separated by commas)
&lt;ul>
&lt;li>The &lt;code>+&lt;/code> operator can no longer be used to concatenate string values in an expression. Although previous versions of Enketo supported this functionality, it was never part of the &lt;a href="https://docs.getodk.org/form-operators-functions/#math-operators" target="_blank" rel="noopener">ODK Specification&lt;/a>. The &lt;a href="https://docs.getodk.org/form-operators-functions/#concat" target="_blank" rel="noopener">&lt;code>concat&lt;/code> function&lt;/a> should be used instead.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>The behavior of expressions referencing &lt;em>invalid XPath paths&lt;/em> (both absolute and relative) has changed. Previously, an invalid XPath path (one pointing to a non-existent node) was evaluated as being equivalent to an empty string. So, &lt;code>/invalid/xpath/path = ''&lt;/code> would evaluate to &lt;code>true&lt;/code>. Now that expression will evaluate to &lt;code>false&lt;/code> since invalid XPath paths are no longer considered equivalent to empty strings.
&lt;ul>
&lt;li>Validation has been added to &lt;code>cht-conf&lt;/code> that can detect many invalid XPath paths and will provide an error when trying to upload a form.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>The value returned for an &lt;em>unanswered&lt;/em> number question, when referenced from an XPath expression, has changed from &lt;code>0&lt;/code> to &lt;code>NaN&lt;/code>. This can affect existing logic comparing number values to &lt;code>0&lt;/code>.&lt;/li>
&lt;/ul>
&lt;h4>Layout&lt;span class="hx-absolute -hx-mt-20" id="layout">&lt;/span>
&lt;a href="#layout" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ul>
&lt;li>The &lt;code>horizontal&lt;/code> and &lt;code>horizontal-compact&lt;/code> appearances are now deprecated (a warning will be displayed by cht-conf when uploading to the server). The &lt;code>columns&lt;/code>, &lt;code>columns-pack&lt;/code>, and &lt;code>columns-n&lt;/code> appearances should be used instead. See &lt;a href="https://docs.getodk.org/form-question-types/#select-widget-with-columns-pack-appearance" target="_blank" rel="noopener">the documentation&lt;/a> for more details.&lt;/li>
&lt;li>&lt;a href="https://docs.getodk.org/form-styling/#markdown" target="_blank" rel="noopener">Markdown syntax&lt;/a> is now supported for all question labels (and not just &lt;code>note&lt;/code> fields).&lt;/li>
&lt;/ul>
&lt;h4>Updated XPath functions&lt;span class="hx-absolute -hx-mt-20" id="updated-xpath-functions">&lt;/span>
&lt;a href="#updated-xpath-functions" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ul>
&lt;li>The &lt;code>format-date&lt;/code> and &lt;code>format-date-time&lt;/code> functions no longer accept month values that are &lt;code>&amp;lt;= 0&lt;/code> (e.g. &lt;code>1984-00-23&lt;/code>). This is notable because some patterns for calculating dates based on an offset of a certain amount of years/months relied on this functionality (e.g. birth date).
&lt;ul>
&lt;li>See the details below regarding the new &lt;code>add-date&lt;/code> function for a cleaner way of calculating dates based on an offset.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>The behavior of the &lt;code>today&lt;/code> function has changed to return the current date at &lt;em>midnight&lt;/em> in the current timezone instead of at the &lt;em>current time&lt;/em>. To get the current date &lt;em>and current time&lt;/em> use the &lt;code>now&lt;/code> function.&lt;/li>
&lt;li>&lt;code>decimal-date-time&lt;/code>:
&lt;ul>
&lt;li>The behavior of this function has changed with regard to the default timezone used when calculating the decimal value of a date that does not include any timezone information. &lt;em>(Note that the values from basic &lt;code>date&lt;/code> questions do NOT include time zone information.)&lt;/em> Previously, the timezone used in the calculation for dates with no timezone information was UTC. Now, the user&amp;rsquo;s current timezone will be used.
&lt;ul>
&lt;li>Practically speaking, this means it is no longer safe to assume that the output from &lt;code>decimal-date-time&lt;/code>, for a value from a basic &lt;code>date&lt;/code> question, will be a whole number. Now it is likely that a &lt;em>decimal value&lt;/em> will be returned (with the numbers after the decimal point representing the offset of the user&amp;rsquo;s timezone from UTC).&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Previously this function would accept various string parameters (e.g. date strings with various formats) as input. Now, the only string values it will only accept are ones formatted according to ISO 8601 (e.g. &lt;code>2022-10-03&lt;/code>).
&lt;ul>
&lt;li>Strings containing date values should be parsed with the &lt;a href="https://docs.getodk.org/form-operators-functions/#date" target="_blank" rel="noopener">&lt;code>date&lt;/code> function&lt;/a> before calling &lt;code>decimal-date-time&lt;/code>.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h4>New XPath functions&lt;span class="hx-absolute -hx-mt-20" id="new-xpath-functions">&lt;/span>
&lt;a href="#new-xpath-functions" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ul>
&lt;li>Custom CHT functions:
&lt;ul>
&lt;li>&lt;a href="https://docs.communityhealthtoolkit.org/building/forms/app/#add-date" >&lt;code>add-date&lt;/code>&lt;/a> - Adds the provided number of years/months/days/hours/minutes to a date value.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ODK Functions:
&lt;ul>
&lt;li>Repeats and other node sets:
&lt;ul>
&lt;li>&lt;a href="https://docs.getodk.org/form-operators-functions/#position" target="_blank" rel="noopener">&lt;code>position&lt;/code>&lt;/a> - Returns the current iteration index within a repeat group.&lt;/li>
&lt;li>&lt;a href="https://docs.getodk.org/form-operators-functions/#count" target="_blank" rel="noopener">&lt;code>count&lt;/code>/&lt;code>count-non-empty&lt;/code>&lt;/a> - Returns the number of elements in a repeat group.
&lt;ul>
&lt;li>Now is re-calculated when the size of the &lt;code>repeat&lt;/code> changes&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="https://docs.getodk.org/form-operators-functions/#once" target="_blank" rel="noopener">&lt;code>once&lt;/code>&lt;/a> - Returns the value of the given expression if the question&amp;rsquo;s value is empty. Otherwise, returns the current value of the question.&lt;/li>
&lt;li>&lt;a href="https://docs.getodk.org/form-operators-functions/#checklist" target="_blank" rel="noopener">&lt;code>checklist&lt;/code>/&lt;code>weighted-checklist&lt;/code>&lt;/a> - Returns &lt;code>True&lt;/code> when the required number of affirmative responses is given.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h4>Known issues&lt;span class="hx-absolute -hx-mt-20" id="known-issues">&lt;/span>
&lt;a href="#known-issues" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;h5>Active&lt;span class="hx-absolute -hx-mt-20" id="active">&lt;/span>
&lt;a href="#active" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h5>&lt;ul>
&lt;li>&lt;a href="https://github.com/medic/cht-core/issues/8225" target="_blank" rel="noopener">A regression&lt;/a> added in &lt;code>4.6.0&lt;/code>, causes the &lt;a href="https://docs.communityhealthtoolkit.org/building/guides/forms/form-inputs/#contact-selector" target="_blank" rel="noopener">contact selector functionality&lt;/a> to not work as expected when loading contact data into the &lt;code>inputs&lt;/code> group &lt;em>when the group is non-relevant.&lt;/em> More details, including a viable workaround, are documented on the &lt;a href="https://github.com/medic/cht-core/issues/8225" target="_blank" rel="noopener">issue&lt;/a>.&lt;/li>
&lt;/ul>
&lt;h5>Resolved&lt;span class="hx-absolute -hx-mt-20" id="resolved">&lt;/span>
&lt;a href="#resolved" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h5>&lt;ul>
&lt;li>The answer to a non-relevant question &lt;a href="https://github.com/medic/cht-core/issues/7674" target="_blank" rel="noopener">is not immediately cleared&lt;/a> when the question becomes non-relevant and is still provided to XPath expressions that reference the question. When the form is submitted, the non-relevant answers will be cleared and any dependent XPath expressions will be re-evaluated.
&lt;ul>
&lt;li>This behavior applies both to questions that were answered and later became non-relevant as well as to questions which have configured default values.&lt;/li>
&lt;li>This issue was resolved in CHT &lt;code>4.6.0&lt;/code> and so only affects versions &lt;code>4.0&lt;/code> - &lt;code>4.5&lt;/code>.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>In &lt;code>3.x&lt;/code> versions of the CHT you could simulate a &lt;em>bulleted list&lt;/em> in a form label (e.g. a &lt;code>note&lt;/code>) by using &lt;code>-&lt;/code> or &lt;code>*&lt;/code>. Now, in &lt;code>4.x&lt;/code>, the bullets are no longer properly displayed in the label due to &lt;a href="https://github.com/medic/cht-core/issues/8002" target="_blank" rel="noopener">this bug&lt;/a>.
&lt;ul>
&lt;li>This issue was resolved in CHT &lt;code>4.6.0&lt;/code> and so only affects versions &lt;code>4.0&lt;/code> - &lt;code>4.5&lt;/code>.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h4>Community cht-upgrade-helper&lt;span class="hx-absolute -hx-mt-20" id="community-cht-upgrade-helper">&lt;/span>
&lt;a href="#community-cht-upgrade-helper" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>An unofficial &lt;a href="https://github.com/jkuester/cht-upgrade-helper" target="_blank" rel="noopener">cht-upgrade-helper&lt;/a> utility has been created by a community member that can help flag form elements that should be manually reviewed before upgrading to &lt;code>4.0.0&lt;/code>. It is not officially supported by Medic and is provided as-is.&lt;/p></description></item><item><title>Update Collect Forms Remotely</title><link>https://docs.communityhealthtoolkit.org/building/guides/updates/collect-forms-update/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.communityhealthtoolkit.org/building/guides/updates/collect-forms-update/</guid><description>
&lt;p>To do over the air Medic Collect form updates via HTTP rather than sending APKs which have a long manual install process, follow the steps below:&lt;/p>
&lt;div class="steps hx-ml-4 hx-mb-12 ltr:hx-border-l rtl:hx-border-r hx-border-gray-200 ltr:hx-pl-6 rtl:hx-pr-6 dark:hx-border-neutral-800 [counter-reset:step]">
&lt;h3>Step 1&lt;span class="hx-absolute -hx-mt-20" id="step-1">&lt;/span>
&lt;a href="#step-1" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Have your xls forms ready in the folder.&lt;/p>
&lt;ul>
&lt;li>They should use underscore as name separators. e.g form_name.xlsx&lt;/li>
&lt;li>They should have &lt;code>form_id&lt;/code> and &lt;code>name&lt;/code> properties in the settings&lt;/li>
&lt;/ul>
&lt;figure>&lt;a href="xform_name_settings.png">&lt;img src="https://docs.communityhealthtoolkit.org/building/guides/updates/collect-forms-update/xform_name_settings.png"
alt="Name property">&lt;/a>&lt;figcaption>
&lt;p>Name property&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;h3>Step 2&lt;span class="hx-absolute -hx-mt-20" id="step-2">&lt;/span>
&lt;a href="#step-2" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Upload the forms to the instance using &lt;code>cht-conf&lt;/code> Using the &lt;code>upload-collect-forms&lt;/code> &lt;a href="https://github.com/medic/cht-conf/blob/master/src/cli/supported-actions.js" target="_blank" rel="noopener">action&lt;/a> as shown below.&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">cht --instance&lt;span class="o">=&lt;/span>user:pass@instancename.app.medicmobile.org upload-collect-forms&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>Step 3&lt;span class="hx-absolute -hx-mt-20" id="step-3">&lt;/span>
&lt;a href="#step-3" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Go to the Collect App. Delete All forms then go to &lt;code>Get Blank Form&lt;/code> and select all the forms you need.&lt;/p>
&lt;/div>
&lt;h1>Troubleshooting&lt;/h1>&lt;p>When you go to &lt;code>Get Blank Forms&lt;/code> and instead of getting a list of the forms available, you get a pop-up error which has a portion of this message instead&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">...OpenRosa Version 1.0 standard: Forms list entry &lt;span class="m">1&lt;/span> is missing one or more tags: formId, name or downloadUrl&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>This means you probably uploaded a XLS file without a &lt;code>name&lt;/code> or &lt;code>form_id&lt;/code> property. To find out which form is missing that, use this command:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">curl -vvvv -H &lt;span class="s2">&amp;#34;x-openrosa-version: 1&amp;#34;&lt;/span> http://user:pass@host:port/api/v1/forms&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Should bring a list like this one:&lt;/p>
&lt;figure>&lt;a href="xform_list.png">&lt;img src="https://docs.communityhealthtoolkit.org/building/guides/updates/collect-forms-update/xform_list.png"
alt="Xform List">&lt;/a>&lt;figcaption>
&lt;p>Xform List&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;p>Go through the list and see which form has a missing &lt;code>&amp;lt;name&amp;gt;&lt;/code> or &lt;code>&amp;lt;formID&amp;gt;&lt;/code> property. Add it and reupload the forms using &lt;code>cht-conf&lt;/code> again.&lt;/p></description></item></channel></rss>